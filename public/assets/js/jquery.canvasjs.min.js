var b;window,document,jQuery.fn.CanvasJSChart=function(a){if(a){var c=this.first();return a=new CanvasJS.Chart(this[0],a),c.children(".canvasjs-chart-container").data("canvasjsChartRef",a),a.render(),this}return this.first().children(".canvasjs-chart-container").data("canvasjsChartRef")},function(){function p(a,c){a.prototype=L(c.prototype),a.prototype.constructor=a,a.base=c.prototype}function L(c){function a(){}return a.prototype=c,new a}function M(a,c,d){return"millisecond"===d?a.setMilliseconds(a.getMilliseconds()+1*c):"second"===d?a.setSeconds(a.getSeconds()+1*c):"minute"===d?a.setMinutes(a.getMinutes()+1*c):"hour"===d?a.setHours(a.getHours()+1*c):"day"===d?a.setDate(a.getDate()+1*c):"week"===d?a.setDate(a.getDate()+7*c):"month"===d?a.setMonth(a.getMonth()+1*c):"year"===d&&a.setFullYear(a.getFullYear()+1*c),a}function N(a,c){var d=!1;for(0>a&&(d=!0,a*=-1),a=""+a,c=c||1;a.length<c;)a="0"+a;return d?"-"+a:a}function O(a){if(!a)return a;a=a.replace(/^\s\s*/,"");for(var d=/\s/,c=a.length;d.test(a.charAt(--c)););return a.slice(0,c+1)}function P(a){a.roundRect=function(a,c,e,f,d,i,g,h){g&&(this.fillStyle=g),h&&(this.strokeStyle=h),void 0===d&&(d=5),this.lineWidth=i,this.beginPath(),this.moveTo(a+d,c),this.lineTo(a+e-d,c),this.quadraticCurveTo(a+e,c,a+e,c+d),this.lineTo(a+e,c+f-d),this.quadraticCurveTo(a+e,c+f,a+e-d,c+f),this.lineTo(a+d,c+f),this.quadraticCurveTo(a,c+f,a,c+f-d),this.lineTo(a,c+d),this.quadraticCurveTo(a,c,a+d,c),this.closePath(),g&&this.fill(),h&&0<i&&this.stroke()}}function Q(a,c){return a-c}function R(a){var c=((16711680&a)>>16).toString(16),d=((65280&a)>>8).toString(16);return a=((255&a)>>0).toString(16),c=2>c.length?"0"+c:c,d=2>d.length?"0"+d:d,a=2>a.length?"0"+a:a,"#"+c+d+a}function S(d,e){var c=this.length>>>0,a=Number(e)||0,a=0>a?Math.ceil(a):Math.floor(a);for(0>a&&(a+=c);a<c;a++)if(a in this&&this[a]===d)return a;return -1}function T(a){return a.indexOf||(a.indexOf=S),a}function U(e,c,d){d=d||"normal";var f=e+"_"+c+"_"+d,a=al[f];if(isNaN(a)){try{if(!am){var g=document.body;(am=document.createElement("span")).innerHTML="";var h=document.createTextNode("Mpgyi");am.appendChild(h),g.appendChild(am)}am.style.display="",aa(am,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:e,fontSize:c+"px",fontWeight:d}),a=Math.round(am.offsetHeight),am.style.display="none"}catch(i){a=Math.ceil(1.1*c)}a=Math.max(a,c),al[f]=a}return a}function V(d,e){var a=[];if(a=({solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]})[d||"solid"])for(var c=0;c<a.length;c++)a[c]*=e;else a=[];return a}function W(c,e,f,a,d){var g;return a=a||[],d=null==d?!!ak&&{passive:!1,capture:!1}:d,a.push([c,e,f,d]),c.addEventListener?(c.addEventListener(e,f,d),f):!!c.attachEvent&&(a=function(a){(a=a||window.event).preventDefault=a.preventDefault||function(){a.returnValue=!1},a.stopPropagation=a.stopPropagation||function(){a.cancelBubble=!0},f.call(c,a)},c.attachEvent("on"+e,a),a)}function X(a,d,c){for(a*=at,d*=at,a=c.getImageData(a,d,2,2).data,d=!0,c=0;4>c;c++)if(a[c]!==a[c+4]|a[c]!==a[c+8]|a[c]!==a[c+12]){d=!1;break}return d?a[0]<<16|a[1]<<8|a[2]:0}function Y(a,c,d){return a in c?c[a]:d[a]}function Z(a,d,e){if(i&&H){var c=a.getContext("2d");at=I/(J=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1),a.width=d*at,a.height=e*at,I!==J&&(a.style.width=d+"px",a.style.height=e+"px",c.scale(at,at))}else a.width=d,a.height=e}function _(c,d){af&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var a=document.createElement("canvas");return a.setAttribute("class","canvasjs-chart-canvas"),Z(a,c,d),i||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(a),a}function aa(d,a){for(var c in a)d.style[c]=a[c]}function ab(d,a,c){a.getAttribute("state")||(a.style.backgroundColor=d.toolbar.itemBackgroundColor,a.style.color=d.toolbar.fontColor,a.style.border="none",aa(a,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),a.getAttribute("state")!==c&&(a.setAttribute("state",c),a.setAttribute("type","button"),aa(a,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),a.setAttribute("title",d._cultureInfo[c+"Text"]),a.innerHTML="<img src='"+aw[c].image+"' alt='"+d._cultureInfo[c+"Text"]+"' />",aa(a.childNodes[0],{height:"95%",pointerEvents:"none"}))}function ac(){for(var a=null,c=0;c<arguments.length;c++)a=arguments[c],a.style&&(a.style.display="inline")}function ad(){for(var a=null,c=0;c<arguments.length;c++)(a=arguments[c])&&a.style&&(a.style.display="none")}function ae(a,c,d,e,f){return null==a?void 0===d?c:d:(a=parseFloat(a.toString())*(0<=a.toString().indexOf("%")?c/100:1),void 0!==e&&(a=Math.min(e,a),void 0!==f&&(a=Math.max(f,a))),!isNaN(a)&&a<=c&&0<=a?a:void 0===d?c:d)}function f(a,c,e,d,f){var g,h,i,j;this._defaultsKey=a,this._themeOptionsKey=c,this._index=d,this.parent=f,this._eventListeners=[],a={},this.theme&&null==this.parent&&null==c&&null==d?a=null==this.predefinedThemes[this.theme]?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[c]&&(null===d?a=this.parent.themeOptions[c]:0<this.parent.themeOptions[c].length&&(d=Math.min(this.parent.themeOptions[c].length-1,d),a=this.parent.themeOptions[c][d])),this.themeOptions=a,this.options=e||{_isPlaceholder:!0},this.setOptions(this.options,a)}function r(c,d,e,f,a){void 0===a&&(a=0),this._padding=a,this._x1=c,this._y1=d,this._x2=e,this._y2=f,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function m(a,c){m.base.constructor.call(this,"TextBlock",null,c,null,null),this.ctx=a,this._isDirty=!0,this._wrappedText=null,this._initialize()}function y(a,c){y.base.constructor.call(this,"Toolbar","toolbar",c,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function q(d,e){if(q.base.constructor.call(this,"Title","title",e,null,d),this.chart=d,this.canvas=d.canvas,this.ctx=this.chart.ctx,this.optionsName="title",null==this.options.margin&&d.options.subtitles){for(var f,g,h,c=d.options.subtitles,a=0;a<c.length;a++)if((null==c[a].horizontalAlign&&"center"===this.horizontalAlign||c[a].horizontalAlign===this.horizontalAlign)&&(null==c[a].verticalAlign&&"top"===this.verticalAlign||c[a].verticalAlign===this.verticalAlign)&& !c[a].dockInsidePlotArea== !this.dockInsidePlotArea){this.margin=0;break}}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function s(a,c,d){s.base.constructor.call(this,"Subtitle","subtitles",c,d,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function v(){this.pool=[]}function z(a){var c;a&&ag[a]&&(c=ag[a]),z.base.constructor.call(this,"CultureInfo",null,c,null,null)}var d,h,e,j,k,af=!1,n={},i=!!document.createElement("canvas").getContext,w={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:i?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:i?"transparent":null,borderColor:i?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:i?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:i?"transparent":null,titleBorderColor:i?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:i?"transparent":null,labelBorderColor:i?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:i?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:i?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:i?"grey":null,labelBorderColor:i?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:i?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:i?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:i?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},ag={en:{}},a=i?"Trebuchet MS, Helvetica, sans-serif":"Arial",o=i?"Impact, Charcoal, sans-serif":"Arial",ah={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")};h="#333333",e="#000000",d="#666666",k=j="#000000";var g=20,c=14,t={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:o,fontSize:32,fontColor:h,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:o,fontSize:c,fontColor:h,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:a,indexLabelFontSize:c,indexLabelFontColor:h,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:a,titleFontSize:g,titleFontColor:h,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:0,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:a,titleFontSize:g,titleFontColor:h,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:0,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:a,titleFontSize:g,titleFontColor:h,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:1,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:a,titleFontSize:g,titleFontColor:h,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:1,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:a,fontSize:14,fontColor:h,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:a,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};e=h="#F5F5F5",d="#FFFFFF",j="#40BAF1",k="#F5F5F5";var A,B,C,D,E,F,G,g=20,c=14,x={colorSet:"colorSet2",title:{fontFamily:a,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:a,fontSize:c,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:a,indexLabelFontSize:c,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:a,titleFontSize:g,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:a,titleFontSize:g,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:a,titleFontSize:g,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:a,titleFontSize:g,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:a,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:a,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};e=h="#F5F5F5",d="#FFFFFF",j="#40BAF1",k="#F5F5F5",g=20,c=14,o={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:o,fontSize:32,fontColor:h,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:o,fontSize:c,fontColor:h,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:a,indexLabelFontSize:c,indexLabelFontColor:e,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:a,titleFontSize:g,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:0,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:a,titleFontSize:g,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:0,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:a,titleFontSize:g,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:1,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:a,titleFontSize:g,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:1,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:a,fontSize:14,fontColor:h,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:a,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:e,backgroundColor:"rgba(0, 0, 0, .7)"}},d="#FFFFFF",e=h="#FAFAFA",j="#40BAF1",k="#F5F5F5";var g=20,c=14,ai={light1:t,light2:x,dark1:o,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:a,fontSize:32,fontColor:h,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:a,fontSize:c,fontColor:h,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:a,indexLabelFontSize:c,indexLabelFontColor:e,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:a,titleFontSize:g,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:0,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:a,titleFontSize:g,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:d,tickThickness:1,tickColor:d,gridThickness:0,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:a,titleFontSize:g,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:0,lineColor:d,tickThickness:1,tickColor:d,gridThickness:1,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:a,titleFontSize:g,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:c,labelFontColor:e,labelFontWeight:"normal",lineThickness:0,lineColor:d,tickThickness:1,tickColor:d,gridThickness:1,gridColor:d,stripLines:[{labelFontFamily:a,labelFontSize:c,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:a,labelFontSize:c,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:k,color:j,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:a,fontSize:14,fontColor:h,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:a,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:e,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:t,theme2:x,theme3:t},aj={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},ak=function(){var a=!1;try{var c=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return a=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,c),window.removeEventListener("test",null,c))}catch(d){a=!1}return a}(),al={},am=null,an=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},ao=function(a){a.width=1,a.height=1,a.getContext("2d")&&a.getContext("2d").clearRect(0,0,1,1)},ap=function(c,a,d){return a=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=a?12:11,Math.round(a*(c/400)))},aq=(A=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,B="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),C="Sun Mon Tue Wed Thu Fri Sat".split(" "),D="January February March April May June July August September October November December".split(" "),E="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),F=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,G=/[^-+\dA-Z]/g,function(c,d,a){var f=a?a.days:B,g=a?a.months:D,h=a?a.shortDays:C,i=a?a.shortMonths:E;a="";var e=!1;if(c=c&&c.getTime?c:c?new Date(c):new Date,isNaN(c))throw SyntaxError("invalid date");"UTC:"===d.slice(0,4)&&(d=d.slice(4),e=!0);var j=c[(a=e?"getUTC":"get")+"Date"](),k=c[a+"Day"](),l=c[a+"Month"](),m=c[a+"FullYear"](),n=c[a+"Hours"](),o=c[a+"Minutes"](),p=c[a+"Seconds"](),q=c[a+"Milliseconds"](),r=e?0:c.getTimezoneOffset();return a=d.replace(A,function(a){switch(a){case"D":return j;case"DD":return N(j,2);case"DDD":return h[k];case"DDDD":return f[k];case"M":return l+1;case"MM":return N(l+1,2);case"MMM":return i[l];case"MMMM":return g[l];case"Y":return parseInt(String(m).slice(-2));case"YY":return N(String(m).slice(-2),2);case"YYY":return N(String(m).slice(-3),3);case"YYYY":return N(m,4);case"h":return n%12||12;case"hh":return N(n%12||12,2);case"H":return n;case"HH":return N(n,2);case"m":return o;case"mm":return N(o,2);case"s":return p;case"ss":return N(p,2);case"f":return N(String(q),3).slice(0,1);case"ff":return N(String(q),3).slice(0,2);case"fff":return N(String(q),3).slice(0,3);case"t":return 12>n?"a":"p";case"tt":return 12>n?"am":"pm";case"T":return 12>n?"A":"P";case"TT":return 12>n?"AM":"PM";case"K":return e?"UTC":(String(c).match(F)||[""]).pop().replace(G,"");case"z":return(0<r?"-":"+")+Math.floor(Math.abs(r)/60);case"zz":return(0<r?"-":"+")+N(Math.floor(Math.abs(r)/60),2);case"zzz":return(0<r?"-":"+")+N(Math.floor(Math.abs(r)/60),2)+N(Math.abs(r)%60,2);default:return a.slice(1,a.length-1)}})}),ar=function(e,a,c){if(null===e)return"";if(!isFinite(e))return e;var r=0>(e=Number(e));r&&(e*=-1);var s=c?c.decimalSeparator:".",f=c?c.digitGroupSeparator:",",d="";a=String(a);var d=1,g=c="",j=-1,k=[],p=[],n=0,l=0,q=0,i=!1,o=0,g=a.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);a=null;for(var h=0;g&&h<g.length;h++)if("."===(a=g[h])&&0>j)j=h;else{if("%"===a)d*=100;else if("\u2030"===a){d*=1e3;continue}else if(","===a[0]&&"."===a[a.length-1]){d/=Math.pow(1e3,a.length-1),j=h+a.length-1;continue}else"E"!==a[0]&&"e"!==a[0]||"0"!==a[a.length-1]||(i=!0);0>j?(k.push(a),"#"===a||"0"===a?n++:","===a&&q++):(p.push(a),"#"!==a&&"0"!==a||l++)}for(i&&(a=Math.floor(e),g=-Math.floor(Math.log(e)/Math.LN10+1),o=0===e?0:0===a?-(n+g):String(a).length-n,d/=Math.pow(10,o)),0>j&&(j=h),d=((a=(d=(e*d).toFixed(l)).split("."))[0]+"").split(""),e=(a[1]+"").split(""),d&&"0"===d[0]&&d.shift(),i=g=h=l=j=0;0<k.length;)if("#"===(a=k.pop())||"0"===a){if(++j===n){var m=d,d=[];if("0"===a)for(a=n-l-(m?m.length:0);0<a;)m.unshift("0"),a--;for(;0<m.length;)c=m.pop()+c,0== ++i%g&&h===q&&0<m.length&&(c=f+c)}else 0<d.length?(c=d.pop()+c,l++,i++):"0"===a&&(c="0"+c,l++,i++),0==i%g&&h===q&&0<d.length&&(c=f+c)}else("E"===a[0]||"e"===a[0])&&"0"===a[a.length-1]&&/[eE][+-]*[0]+/.test(a)?c+=(a=0>o?a.replace("+","").replace("-",""):a.replace("-","")).replace(/[0]+/,function(a){return N(o,a.length)}):","===a?(h++,g=i,i=0,0<d.length&&(c=f+c)):c=1<a.length&&('"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])?a.slice(1,a.length-1)+c:a+c;for(f="",k=!1;0<p.length;)"#"===(a=p.shift())||"0"===a?0<e.length&&0!==Number(e.join(""))?(f+=e.shift(),k=!0):"0"===a&&(f+="0",k=!0):1<a.length&&('"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])?f+=a.slice(1,a.length-1):("E"===a[0]||"e"===a[0])&&"0"===a[a.length-1]&&/[eE][+-]*[0]+/.test(a)?f+=(a=0>o?a.replace("+","").replace("-",""):a.replace("-","")).replace(/[0]+/,function(a){return N(o,a.length)}):f+=a;return c+=(k?s:"")+f,r?"-"+c:c},as=function(a){var c=0,d=0;return(a=a||window.event).offsetX||0===a.offsetX?(c=a.offsetX,d=a.offsetY):a.layerX||0==a.layerX?(c=a.layerX,d=a.layerY):(c=a.pageX-a.target.offsetLeft,d=a.pageY-a.target.offsetTop),{x:c,y:d}},H=!0,I=window.devicePixelRatio||1,J=1,at=H?I/J:1,au=function(a,c,d,g,h,j,e,k,l,m,n,o,i){void 0===i&&(i=1),e=e||0,k=k||"black";var f=15<g-c&&15<h-d?8:.35*Math.min(g-c,h-d);a.beginPath(),a.moveTo(c,d),a.save(),a.fillStyle=j,a.globalAlpha=i,a.fillRect(c,d,g-c,h-d),a.globalAlpha=1,0<e&&(i=0==e%2?0:.5,a.beginPath(),a.lineWidth=e,a.strokeStyle=k,a.moveTo(c,d),a.rect(c-i,d-i,g-c+2*i,h-d+2*i),a.stroke()),a.restore(),!0===l&&(a.save(),a.beginPath(),a.moveTo(c,d),a.lineTo(c+f,d+f),a.lineTo(g-f,d+f),a.lineTo(g,d),a.closePath(),(e=a.createLinearGradient((g+c)/2,d+f,(g+c)/2,d)).addColorStop(0,j),e.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=e,a.fill(),a.restore()),!0===m&&(a.save(),a.beginPath(),a.moveTo(c,h),a.lineTo(c+f,h-f),a.lineTo(g-f,h-f),a.lineTo(g,h),a.closePath(),(e=a.createLinearGradient((g+c)/2,h-f,(g+c)/2,h)).addColorStop(0,j),e.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=e,a.fill(),a.restore()),!0===n&&(a.save(),a.beginPath(),a.moveTo(c,d),a.lineTo(c+f,d+f),a.lineTo(c+f,h-f),a.lineTo(c,h),a.closePath(),(e=a.createLinearGradient(c+f,(h+d)/2,c,(h+d)/2)).addColorStop(0,j),e.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=e,a.fill(),a.restore()),!0===o&&(a.save(),a.beginPath(),a.moveTo(g,d),a.lineTo(g-f,d+f),a.lineTo(g-f,h-f),a.lineTo(g,h),(e=a.createLinearGradient(g-f,(h+d)/2,g,(h+d)/2)).addColorStop(0,j),e.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=e,e.addColorStop(0,j),e.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=e,a.fill(),a.closePath(),a.restore())},l=function(a){for(var d="",c=0;c<a.length;c++)d+=String.fromCharCode(Math.ceil(a.length/57/5)^a.charCodeAt(c));return d},K=window&&window[l("mnb`uhno")]&&window[l("mnb`uhno")].href&&window[l("mnb`uhno")].href.indexOf&&(-1!==window[l("mnb`uhno")].href.indexOf(l("b`ow`rkr/bnl"))|| -1!==window[l("mnb`uhno")].href.indexOf(l("gdonqhy/bnl"))|| -1!==window[l("mnb`uhno")].href.indexOf(l("gheemd"))),av=K&& -1===window[l("mnb`uhno")].href.indexOf(l("gheemd")),aw={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};n.fSDec=function(a){for(var d="",c=0;c<a.length;c++)d+=String.fromCharCode(Math.ceil(a.length/57/5)^a.charCodeAt(c));return d},delete w[n.fSDec("Bi`su")][n.fSDec("bsdehuIsdg")],n.pro={sCH:w[n.fSDec("Bi`su")][n.fSDec("bsdehuIsdg")]},n.pos=["cm","cs","um"],n._fTWm=function(c){if(void 0===n.pro.sCH&&!K)try{var e,f,d=(new Date).getMonth()%3,a=c[n.fSDec("buy")];a[n.fSDec("udyuC`rdmhod")]=n.fSDec("unq"),a[n.fSDec("gnou")]=11+n.fSDec("qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg"),a[n.fSDec("ghmmRuxmd")]=n.fSDec("fsdx"),e="cm"===n.pos[d]||"um"===n.pos[d]?0:c.width-a[n.fSDec("ld`rtsdUdyu")](n.fSDec("B`ow`rKR!Ush`m")).width,f="um"===n.pos[d]?0:c.height-11,a[n.fSDec("ghmmUdyu")](n.fSDec("B`ow`rKR!Ush`m"),e,f),"cs"===n.pos[d]&&(c[n.fSDec("^bsdehuMhoj")].style.right=n.fSDec("`tun"))}catch(g){}},f.prototype.setOptions=function(c,d){if(w[this._defaultsKey]){var a,e=w[this._defaultsKey];for(a in e)"publicProperties"!==a&&e.hasOwnProperty(a)&&(this[a]=c&&a in c?c[a]:d&&a in d?d[a]:e[a])}else af&&window.console&&console.log("defaults not set")},f.prototype.get=function(a){var c=w[this._defaultsKey];return"options"===a?this.options&&this.options._isPlaceholder?null:this.options:c.hasOwnProperty(a)||c.publicProperties&&c.publicProperties.hasOwnProperty(a)?this[a]:void(window.console&&window.console.log('Property "'+a+"\" doesn't exist. Please check for typo."))},f.prototype.set=function(a,e,d){d=void 0===d||d;var c=w[this._defaultsKey];if("options"===a)this.createUserOptions(e);else if(c.hasOwnProperty(a)||c.publicProperties&&c.publicProperties.hasOwnProperty(a)&&"readWrite"===c.publicProperties[a])this.options._isPlaceholder&&this.createUserOptions(),this.options[a]=e;else{window.console&&(c.publicProperties&&c.publicProperties.hasOwnProperty(a)&&"readOnly"===c.publicProperties[a]?window.console.log('Property "'+a+'" is read-only.'):window.console.log('Property "'+a+"\" doesn't exist. Please check for typo."));return}d&&(this.stockChart||this.chart||this).render()},f.prototype.addTo=function(a,f,d,e){e=void 0===e||e;var c=w[this._defaultsKey];c.hasOwnProperty(a)||c.publicProperties&&c.publicProperties.hasOwnProperty(a)&&"readWrite"===c.publicProperties[a]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[a]&&(this.options[a]=[]),a=this.options[a],d=null==d?a.length:d,a.splice(d,0,f),e&&(this.stockChart||this.chart||this).render()):window.console&&(c.publicProperties&&c.publicProperties.hasOwnProperty(a)&&"readOnly"===c.publicProperties[a]?window.console.log('Property "'+a+'" is read-only.'):window.console.log('Property "'+a+"\" doesn't exist. Please check for typo."))},f.prototype.createUserOptions=function(c){if(void 0!==c||this.options._isPlaceholder){if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var a=this.parent.options[this.optionsName],d=a.length;this.options._isPlaceholder||(T(a),d=a.indexOf(this.options)),this.options=void 0===c?{}:c,a[d]=this.options}else this.options=void 0===c?{}:c,c=this.parent.options,this.optionsName?a=this.optionsName:(a=this._defaultsKey)&&0!==a.length?(d=a.charAt(0).toLowerCase(),1<a.length&&(d=d.concat(a.slice(1))),a=d):a=void 0,c[a]=this.options}},f.prototype.remove=function(a){if(a=void 0===a||a,this.isOptionsInArray){var c=this.parent.options[this.optionsName];T(c);var d=c.indexOf(this.options);0<=d&&c.splice(d,1)}else delete this.parent.options[this.optionsName];a&&(this.stockChart||this.chart||this).render()},f.prototype.updateOption=function(a){!w[this._defaultsKey]&&af&&window.console&&console.log("defaults not set");var h,i,j,k,g=w[this._defaultsKey],c={},e=this[a],d=this._themeOptionsKey,f=this._index;return this.theme&&null==this.parent&&null==d&&null==f?c=null==this.predefinedThemes[this.theme]?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[d]&&(null===f?c=this.parent.themeOptions[d]:0<this.parent.themeOptions[d].length&&(c=Math.min(this.parent.themeOptions[d].length-1,f),c=this.parent.themeOptions[d][c])),this.themeOptions=c,a in g&&(e=a in this.options?this.options[a]:c&&a in c?c[a]:g[a]),e!==this[a]&&(this[a]=e,!0)},f.prototype.trackChanges=function(a){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[a]=this.options[a]},f.prototype.isBeingTracked=function(a){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[a]},f.prototype.hasOptionChanged=function(a){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[a]!==this.options[a]},f.prototype.addEventListener=function(a,c,d){a&&c&&(this._eventListeners[a]=this._eventListeners[a]||[],this._eventListeners[a].push({context:d||this,eventHandler:c}))},f.prototype.removeEventListener=function(c,e){if(c&&e&&this._eventListeners[c]){for(var d=this._eventListeners[c],a=0;a<d.length;a++)if(d[a].eventHandler===e){d[a].splice(a,1);break}}},f.prototype.removeAllEventListeners=function(){this._eventListeners=[]},f.prototype.dispatchEvent=function(a,c,f){if(a&&this._eventListeners[a]){c=c||{};for(var e=this._eventListeners[a],d=0;d<e.length;d++)e[d].eventHandler.call(e[d].context,c)}"function"==typeof this[a]&&this[a].call(f||this.chart,c)},r.prototype.registerSpace=function(a,c){"top"===a?this._topOccupied+=c.height:"bottom"===a?this._bottomOccupied+=c.height:"left"===a?this._leftOccupied+=c.width:"right"===a&&(this._rightOccupied+=c.width)},r.prototype.unRegisterSpace=function(a,c){"top"===a?this._topOccupied-=c.height:"bottom"===a?this._bottomOccupied-=c.height:"left"===a?this._leftOccupied-=c.width:"right"===a&&(this._rightOccupied-=c.width)},r.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},r.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},p(m,f),m.prototype._initialize=function(){var f,a,c,d,e;null==this.padding||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(a=this.padding.top,this.topPadding=null==a?0:0|Number(this.padding.top),c=this.padding.right,this.rightPadding=null==c?0:0|Number(this.padding.right),d=this.padding.bottom,this.bottomPadding=null==d?0:0|Number(this.padding.bottom),e=this.padding.left,this.leftPadding=null==e?0:0|Number(this.padding.left))},m.prototype.render=function(e){if(0!==this.fontSize){e&&this.ctx.save();var g=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var a=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+a),"middle"===this.textBaseline&&(a=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var d=0,f=this.topPadding,c=null;for(this.ctx.roundRect||P(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,a,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,a=0;a<this._wrappedText.lines.length;a++)c=this._wrappedText.lines[a],"right"===this.horizontalAlign||"right"===this.textAlign?d=this.width-c.width-this.rightPadding:"left"===this.horizontalAlign||"left"===this.textAlign?d=this.leftPadding:("center"===this.horizontalAlign||"center"===this.textAlign)&&(d=(this.width-(this.leftPadding+this.rightPadding))/2-c.width/2+this.leftPadding),this.ctx.fillText(c.text,d,f),f+=c.height;this.ctx.font=g,e&&this.ctx.restore()}},m.prototype.setText=function(a){this.text=a,this._isDirty=!0,this._wrappedText=null},m.prototype.measureText=function(){if(this._lineHeight=U(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},m.prototype._getLineWithWidth=function(c,e,d){if(!(c=String(c)))return{text:"",width:0};var g=d=0,h=c.length-1,f=1/0;for(this.ctx.font=this._getFontString();g<=h;){var f=Math.floor((g+h)/2),a=c.substr(0,f+1);if((d=this.ctx.measureText(a).width)<e)g=f+1;else if(d>e)h=f-1;else break}return d>e&&1<a.length&&(a=a.substr(0,a.length-1),d=this.ctx.measureText(a).width),e=!0,(a.length===c.length||" "===c[a.length])&&(e=!1),e&&(1<(c=a.split(" ")).length&&c.pop(),a=c.join(" "),d=this.ctx.measureText(a).width),{text:a,width:d}},m.prototype._wrapText=function(){var e=new String(O(String(this.text))),f=[],h=this.ctx.font,a=0,c=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)c=a=0;else for(;0<e.length;){var g=this.maxHeight-(this.topPadding+this.bottomPadding),d=this._getLineWithWidth(e,this.maxWidth-(this.leftPadding+this.rightPadding),!1);d.height=this._lineHeight,f.push(d);var i=c,c=Math.max(c,d.width),a=a+d.height,e=O(e.slice(d.text.length,e.length));g&&a>g&&(a-=(d=f.pop()).height,c=i)}this._wrappedText={lines:f,width:c,height:a},this.width=c+(this.leftPadding+this.rightPadding),this.height=a+(this.topPadding+this.bottomPadding),this.ctx.font=h},m.prototype._getFontString=function(){c=this.fontStyle?this.fontStyle+" ":"",c+=this.fontWeight?this.fontWeight+" ":"",c+=this.fontSize?this.fontSize+"px ":"";var c,a=this.fontFamily?this.fontFamily+"":"";return!i&&a&&"'"!==(a=a.split(",")[0])[0]&&'"'!==a[0]&&(a="'"+a+"'"),c+a},p(y,f),p(q,f),q.prototype.setLayout=function(){if(this.text){var a,j,e,l,n,h=this.dockInsidePlotArea?this.chart.plotArea:this.chart,c=h.layoutManager.getFreeSpace(),f=c.x1,g=c.y1,i=0,d=0,k=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=c.width-4-k*("center"===this.horizontalAlign?2:1)),d=.5*c.height-this.margin-2,i=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=c.height-4),d=.5*c.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=c.width-4),d=.5*c.height-4)),null==this.padding||"number"!=typeof this.padding?null==this.padding||"object"!=typeof this.padding||(a=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,a+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):a=2*this.padding,this.wrap||(d=Math.min(d,1.5*this.fontSize+a)),a=(d=new m(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:d,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(g=c.y1+2,e="top"):"bottom"===this.verticalAlign&&(g=c.y2-2-a.height,e="bottom"),"left"===this.horizontalAlign?f=c.x1+2:"center"===this.horizontalAlign?f=c.x1+c.width/2-a.width/2:"right"===this.horizontalAlign&&(f=c.x2-2-a.width-k),j=this.horizontalAlign,this.width=a.width,this.height=a.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(f=c.x1+2,g=c.y2-2-(this.maxWidth/2-a.width/2),i=-90,e="left",this.width=a.height,this.height=a.width):"right"===this.horizontalAlign?(f=c.x2-2,g=c.y1+2+(this.maxWidth/2-a.width/2),i=90,e="right",this.width=a.height,this.height=a.width):"center"===this.horizontalAlign&&(g=h.y1+(h.height/2-a.height/2),f=h.x1+(h.width/2-a.width/2),e="center",this.width=a.width,this.height=a.height),j="center"),d.x=f,d.y=g,d.angle=i,d.horizontalAlign=j,this._textBlock=d,h.layoutManager.registerSpace(e,{width:this.width+("left"===e||"right"===e?this.margin+2:0),height:this.height+("top"===e||"bottom"===e?this.margin+2:0)}),this.bounds={x1:f,y1:g,x2:f+this.width,y2:g+this.height},this.ctx.textBaseline="top"}},q.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},p(s,f),s.prototype.setLayout=q.prototype.setLayout,s.prototype.render=q.prototype.render,v.prototype.get=function(c,d){var a=null;return 0<this.pool.length?Z(a=this.pool.pop(),c,d):a=_(c,d),a},v.prototype.release=function(a){this.pool.push(a)},p(z,f);var u={addTheme:function(a,c){ai[a]=c},addColorSet:function(a,c){ah[a]=c},addCultureInfo:function(a,c){ag[a]=c},formatNumber:function(c,d,a){if(ag[a=a||"en"])return ar(c,d||"#,##0.##",new z(a));throw"Unknown Culture Name"},formatDate:function(c,d,a){if(ag[a=a||"en"])return aq(c,d||"DD MMM YYYY",new z(a));throw"Unknown Culture Name"}};"undefined"!=typeof module&& void 0!==module.exports?module.exports=u:"function"==typeof define&&define.amd?define([],function(){return u}):(window.CanvasJS&&window.console&&window.console.log("CanvasJS namespace already exists. If you are loading both chart and stockchart scripts, just load stockchart alone as it includes all chart features."),window.CanvasJS=window.CanvasJS?window.CanvasJS:u),(a=u.Chart=function(){function x(a,c){return a.x-c.x}function a(e,c,f){c=c||{},null==f?(this.predefinedThemes=ai,this.optionsName=this.parent=this.index=null):(this.parent=f.parent,this.index=f.index,this.predefinedThemes=f.predefinedThemes,this.optionsName=f.optionsName,this.stockChart=f.stockChart,this.panel=e,this.isOptionsInArray=f.isOptionsInArray),j=c.theme,this.theme=null==j||null==this.predefinedThemes[c.theme]?"light1":c.theme,a.base.constructor.call(this,"Chart",this.optionsName,c,this.index,this.parent);var g,j,k,l=this;this._containerId=e,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new v,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",c=e=0,e=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,c=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=e,this.height=c,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=void 0!==ah[this.colorSet]?ah[this.colorSet]:ah.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",i||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=_(e,c),this._preRenderCanvas=_(e,c),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",P(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",P(this._preRenderCtx),i?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=_(e,c),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=_(e,c),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",P(this.overlaidCanvasCtx)),this._eventManager=new h(this),this.windowResizeHandler=W(window,"resize",function(){l._updateSize()&&l.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),aa(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},W(this.overlaidCanvas,"click",function(a){l._mouseEventHandler(a)},this.allDOMEventHandlers),W(this.overlaidCanvas,"mousemove",function(a){l._mouseEventHandler(a)},this.allDOMEventHandlers),W(this.overlaidCanvas,"mouseup",function(a){l._mouseEventHandler(a)},this.allDOMEventHandlers),W(this.overlaidCanvas,"mousedown",function(a){l._mouseEventHandler(a),ad(l._dropdownMenu)},this.allDOMEventHandlers),W(this.overlaidCanvas,"mouseout",function(a){l._mouseEventHandler(a)},this.allDOMEventHandlers),W(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){l._touchEventHandler(a)},this.allDOMEventHandlers),W(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(a){l._touchEventHandler(a)},this.allDOMEventHandlers),W(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){l._touchEventHandler(a)},this.allDOMEventHandlers),W(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(a){l._touchEventHandler(a)},this.allDOMEventHandlers),this.toolTip=new d(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function A(a,j){for(var d,f=[],h=0;h<a.length;h++)if(0==h)f.push(a[0]);else{e=0==(c=h-1)?0:c-1,i=c===a.length-1?c:c+1,d=Math.abs((a[i].x-a[e].x)/(0==a[i].x-a[c].x?.01:a[i].x-a[c].x))*(j-1)/2+1;var e,i,c,g=(a[i].x-a[e].x)/d;d=(a[i].y-a[e].y)/d,f[f.length]=a[c].x>a[e].x&&0<g||a[c].x<a[e].x&&0>g?{x:a[c].x+g/3,y:a[c].y+d/3}:{x:a[c].x,y:a[c].y+d/9},e=0===(c=h)?0:c-1,i=c===a.length-1?c:c+1,d=Math.abs((a[i].x-a[e].x)/(0==a[c].x-a[e].x?.01:a[c].x-a[e].x))*(j-1)/2+1,g=(a[i].x-a[e].x)/d,d=(a[i].y-a[e].y)/d,f[f.length]=a[c].x>a[e].x&&0<g||a[c].x<a[e].x&&0>g?{x:a[c].x-g/3,y:a[c].y-d/3}:{x:a[c].x,y:a[c].y-d/9},f[f.length]=a[h]}return f}function B(a,e,f,g,h,j,d,i,k,m){var c=0;m?(d.color=j,i.color=j):m=1,c=k?Math.abs(h-f):Math.abs(g-e),c=0<d.trimLength?Math.abs(c*d.trimLength/100):Math.abs(c-d.length),k?(f+=c/2,h-=c/2):(e+=c/2,g-=c/2);var c=1==Math.round(d.thickness)%2?.5:0,l=1==Math.round(i.thickness)%2?.5:0;a.save(),a.globalAlpha=m,a.strokeStyle=i.color||j,a.lineWidth=i.thickness||2,a.setLineDash&&a.setLineDash(V(i.dashType,i.thickness)),a.beginPath(),k&&0<i.thickness?(a.moveTo(g-d.thickness/2,Math.round((f+h)/2)-l),a.lineTo(e+d.thickness/2,Math.round((f+h)/2)-l)):0<i.thickness&&(a.moveTo(Math.round((e+g)/2)-l,f+d.thickness/2),a.lineTo(Math.round((e+g)/2)-l,h-d.thickness/2)),a.stroke(),a.strokeStyle=d.color||j,a.lineWidth=d.thickness||2,a.setLineDash&&a.setLineDash(V(d.dashType,d.thickness)),a.beginPath(),k&&0<d.thickness?(a.moveTo(g-c,f),a.lineTo(g-c,h),a.moveTo(e+c,f),a.lineTo(e+c,h)):0<d.thickness&&(a.moveTo(e,f+c),a.lineTo(g,f+c),a.moveTo(e,h-c),a.lineTo(g,h-c)),a.stroke(),a.restore()}function j(a,c){j.base.constructor.call(this,"Legend","legend",c,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=U(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function e(c,a,d,f){for(e.base.constructor.call(this,"DataSeries","data",a,d,c),this.chart=c,this.canvas=c.canvas,this._ctx=c.canvas.ctx,this.index=d,this.noDataPointsInPlotArea=0,this.id=f,this.chart._eventManager.objectMap[f]={id:f,objectType:"dataSeries",dataSeriesIndex:d},c=a.dataPoints?a.dataPoints.length:0,this.dataPointEOs=[],a=0;a<c;a++)this.dataPointEOs[a]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function c(d,i,f,a,h,e){var j,k,l,m;if(c.base.constructor.call(this,"Axis",i,f,a,d),this.chart=d,this.canvas=d.canvas,this.ctx=d.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===h?("left"===e||"bottom"===e?(this.optionsName="axisX",null==this.chart.sessionVariables.axisX[a]&&(this.chart.sessionVariables.axisX[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX[a]):(this.optionsName="axisX2",null==this.chart.sessionVariables.axisX2[a]&&(this.chart.sessionVariables.axisX2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[a]),this.options.interval||(this.intervalType=null)):"left"===e||"bottom"===e?(this.optionsName="axisY",null==this.chart.sessionVariables.axisY[a]&&(this.chart.sessionVariables.axisY[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY[a]):(this.optionsName="axisY2",null==this.chart.sessionVariables.axisY2[a]&&(this.chart.sessionVariables.axisY2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[a]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=h,"axisX"!==h||f&& void 0!==f.gridThickness||(this.gridThickness=0),this._position=e,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new u(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(d=0;d<this.options.stripLines.length;d++)this.stripLines.push(new o(this.chart,this.options.stripLines[d],d,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new g(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function u(a,d,e,c){if(u.base.constructor.call(this,"ScaleBreaks","scaleBreaks",d,null,c),this.id=e,this.chart=a,this.ctx=this.chart.ctx,this.axis=c,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(a=0;a<this.options.customBreaks.length;a++)this.customBreaks.push(new k(this.chart,"customBreaks",this.options.customBreaks[a],a,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[a].startValue&&"number"==typeof this.customBreaks[a].endValue&&this.customBreaks[a].endValue!==this.customBreaks[a].startValue&&this._appliedBreaks.push(this.customBreaks[a]);for(this._appliedBreaks.sort(function(a,c){return a.startValue-c.startValue}),a=0;a<this._appliedBreaks.length-1;a++)this._appliedBreaks[a].endValue>=this._appliedBreaks[a+1].startValue&&(this._appliedBreaks[a].endValue=Math.max(this._appliedBreaks[a].endValue,this._appliedBreaks[a+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+a+" and "+(a+1)+" are overlapping."),this._appliedBreaks.splice(a,2),a--)}}function k(d,e,c,h,i,a){var f,g,j,l;k.base.constructor.call(this,"Break",e,c,h,a),this.id=i,this.chart=d,this.ctx=this.chart.ctx,this.scaleBreaks=a,this.optionsName=e,this.isOptionsInArray=!0,this.type=c.type?this.type:a.type,f=c.fillOpacity,this.fillOpacity=null==f?a.fillOpacity:this.fillOpacity,g=c.lineThickness,this.lineThickness=null==g?a.lineThickness:this.lineThickness,this.color=c.color?this.color:a.color,this.lineColor=c.lineColor?this.lineColor:a.lineColor,this.lineDashType=c.lineDashType?this.lineDashType:a.lineDashType,null!=this.startValue&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),null!=this.endValue&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(d=this.startValue,this.startValue=this.endValue,this.endValue=d),this.spacing=void 0===c.spacing?a.spacing:c.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=a.spacing),this.size=a.parent.logarithmic?1:0}function o(c,d,e,f,a){o.base.constructor.call(this,"StripLine","stripLines",d,e,a),this.id=f,this.chart=c,this.ctx=this.chart.ctx,this.label=this.label,this.axis=a,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=a.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function g(c,d,a){g.base.constructor.call(this,"Crosshair","crosshair",d,null,a),this.chart=c,this.ctx=this.chart.ctx,this.axis=a,this.optionsName="crosshair",this._thicknessType="pixel"}function d(a,c){d.base.constructor.call(this,"ToolTip","toolTip",c,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function h(a){this.chart=a,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=_(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function t(a){this.chart=a,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}p(a,f),a.prototype.destroy=function(){var c=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var a=0;a<c.length;a++){var d=c[a][0],f=c[a][1],g=c[a][2],e=c[a][3],e=e||!1;d.removeEventListener?d.removeEventListener(f,g,e):d.detachEvent&&d.detachEvent("on"+f,g)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&ao(this.canvas),this.overlaidCanvas&&ao(this.overlaidCanvas),this._preRenderCanvas&&ao(this._preRenderCanvas),this._breaksCanvas&&ao(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&ao(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},a.prototype._updateOptions=function(){var a=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this.selectedColorSet=void 0!==ah[this.colorSet]?ah[this.colorSet]:ah.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new z(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&i,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new y(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)aa(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),this._zoomButton.title=this._cultureInfo.zoomText;else{var d=!1;ad(this._zoomButton=document.createElement("button")),ab(this,this._zoomButton,"pan"),this._zoomButton.title=this._cultureInfo.panText,this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,W(this._zoomButton,"touchstart",function(a){d=!0},this.allDOMEventHandlers),W(this._zoomButton,"click",function(){a.zoomEnabled?(a.zoomEnabled=!1,a.panEnabled=!0,ab(a,a._zoomButton,"zoom")):(a.zoomEnabled=!0,a.panEnabled=!1,ab(a,a._zoomButton,"pan")),a.render()},this.allDOMEventHandlers),W(this._zoomButton,"mousemove",function(){d?d=!1:(aa(a._zoomButton,{backgroundColor:a.toolbar.itemBackgroundColorOnHover,color:a.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&aa(a._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),W(this._zoomButton,"mouseout",function(){d||(aa(a._zoomButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&aa(a._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(aa(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),this._resetButton.title=this._cultureInfo.resetText):(d=!1,ad(this._resetButton=document.createElement("button")),ab(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),W(this._resetButton,"touchstart",function(a){d=!0},this.allDOMEventHandlers),W(this._resetButton,"click",function(){if(a.toolTip.hide(),a.toolTip&&a.toolTip.enabled&&a.toolTip.dispatchEvent("hidden",{chart:a,toolTip:a.toolTip},a.toolTip),a.zoomEnabled||a.panEnabled?(a.zoomEnabled=!0,a.panEnabled=!1,ab(a,a._zoomButton,"pan"),a._defaultCursor="default",a.overlaidCanvas.style.cursor=a._defaultCursor):(a.zoomEnabled=!1,a.panEnabled=!1),a.sessionVariables.axisX)for(var c=0;c<a.sessionVariables.axisX.length;c++)a.sessionVariables.axisX[c].newViewportMinimum=null,a.sessionVariables.axisX[c].newViewportMaximum=null;if(a.sessionVariables.axisX2)for(c=0;c<a.sessionVariables.axisX2.length;c++)a.sessionVariables.axisX2[c].newViewportMinimum=null,a.sessionVariables.axisX2[c].newViewportMaximum=null;if(a.sessionVariables.axisY)for(c=0;c<a.sessionVariables.axisY.length;c++)a.sessionVariables.axisY[c].newViewportMinimum=null,a.sessionVariables.axisY[c].newViewportMaximum=null;if(a.sessionVariables.axisY2)for(c=0;c<a.sessionVariables.axisY2.length;c++)a.sessionVariables.axisY2[c].newViewportMinimum=null,a.sessionVariables.axisY2[c].newViewportMaximum=null;a.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&aa(a._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),ad(a._zoomButton,a._resetButton),a.stockChart&&(a.stockChart._rangeEventParameter={stockChart:a.stockChart,source:"chart",index:a.stockChart.charts.indexOf(a),minimum:null,maximum:null}),a._dispatchRangeEvent("rangeChanging","reset"),a.stockChart&&(a.stockChart._rangeEventParameter.type="rangeChanging",a.stockChart.dispatchEvent("rangeChanging",a.stockChart._rangeEventParameter,a.stockChart)),a.render(),a.syncCharts&&a.syncCharts(null,null),a._dispatchRangeEvent("rangeChanged","reset"),a.stockChart&&(a.stockChart._rangeEventParameter.type="rangeChanged",a.stockChart.dispatchEvent("rangeChanged",a.stockChart._rangeEventParameter,a.stockChart))},this.allDOMEventHandlers),W(this._resetButton,"mousemove",function(){d||(aa(a._resetButton,{backgroundColor:a.toolbar.itemBackgroundColorOnHover,color:a.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&aa(a._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),W(this._resetButton,"mouseout",function(){d||(aa(a._resetButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&aa(a._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=a._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(a._zoomButton.getAttribute("state")===a._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),ac(a._zoomButton,a._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(var c in function(a){if(a._menuButton)a.exportEnabled?(aa(a._menuButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),ac(a._menuButton),a._menuButton.title=a._cultureInfo.menuText):ad(a._menuButton);else if(a.exportEnabled&&i){var e=!1;a._menuButton=document.createElement("button"),ab(a,a._menuButton,"menu"),a._toolBar.appendChild(a._menuButton),W(a._menuButton,"touchstart",function(a){e=!0},a.allDOMEventHandlers),W(a._menuButton,"click",function(){"none"!==a._dropdownMenu.style.display||a._dropDownCloseTime&&500>=(new Date).getTime()-a._dropDownCloseTime.getTime()||(a._dropdownMenu.style.display="block",a._menuButton.blur(),a._dropdownMenu.focus())},a.allDOMEventHandlers,!0),W(a._menuButton,"mousemove",function(){e||(aa(a._menuButton,{backgroundColor:a.toolbar.itemBackgroundColorOnHover,color:a.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&aa(a._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},a.allDOMEventHandlers,!0),W(a._menuButton,"mouseout",function(){e||(aa(a._menuButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&aa(a._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},a.allDOMEventHandlers,!0)}if(a.exportEnabled&&a._dropdownMenu){aa(a._dropdownMenu,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor});for(var c=a._dropdownMenu.childNodes,f=[a._cultureInfo.printText,a._cultureInfo.saveJPGText,a._cultureInfo.savePNGText],d=0;d<c.length;d++)aa(c[d],{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),c[d].innerHTML=f[d]}else!a._dropdownMenu&&a.exportEnabled&&i&&(e=!1,a._dropdownMenu=document.createElement("div"),a._dropdownMenu.setAttribute("tabindex",-1),c=-1!==a.theme.indexOf("dark")?"black":"#888888",aa(a._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:a.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px"+c}),a._dropdownMenu.style.display="none",a._toolBar.appendChild(a._dropdownMenu),W(a._dropdownMenu,"blur",function(){ad(a._dropdownMenu),a._dropDownCloseTime=new Date},a.allDOMEventHandlers,!0),c=document.createElement("div"),aa(c,{padding:"12px 8px 12px 8px"}),c.innerHTML=a._cultureInfo.printText,c.style.backgroundColor=a.toolbar.itemBackgroundColor,c.style.color=a.toolbar.fontColor,a._dropdownMenu.appendChild(c),W(c,"touchstart",function(a){e=!0},a.allDOMEventHandlers),W(c,"mousemove",function(){e||(this.style.backgroundColor=a.toolbar.itemBackgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},a.allDOMEventHandlers,!0),W(c,"mouseout",function(){e||(this.style.backgroundColor=a.toolbar.itemBackgroundColor,this.style.color=a.toolbar.fontColor)},a.allDOMEventHandlers,!0),W(c,"click",function(){a.print(),ad(a._dropdownMenu)},a.allDOMEventHandlers,!0),c=document.createElement("div"),aa(c,{padding:"12px 8px 12px 8px"}),c.innerHTML=a._cultureInfo.saveJPGText,c.style.backgroundColor=a.toolbar.itemBackgroundColor,c.style.color=a.toolbar.fontColor,a._dropdownMenu.appendChild(c),W(c,"touchstart",function(a){e=!0},a.allDOMEventHandlers),W(c,"mousemove",function(){e||(this.style.backgroundColor=a.toolbar.itemBackgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},a.allDOMEventHandlers,!0),W(c,"mouseout",function(){e||(this.style.backgroundColor=a.toolbar.itemBackgroundColor,this.style.color=a.toolbar.fontColor)},a.allDOMEventHandlers,!0),W(c,"click",function(){a.exportChart({format:"jpeg",fileName:a.exportFileName}),ad(a._dropdownMenu)},a.allDOMEventHandlers,!0),c=document.createElement("div"),aa(c,{padding:"12px 8px 12px 8px"}),c.innerHTML=a._cultureInfo.savePNGText,c.style.backgroundColor=a.toolbar.itemBackgroundColor,c.style.color=a.toolbar.fontColor,a._dropdownMenu.appendChild(c),W(c,"touchstart",function(a){e=!0},a.allDOMEventHandlers),W(c,"mousemove",function(){e||(this.style.backgroundColor=a.toolbar.itemBackgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},a.allDOMEventHandlers,!0),W(c,"mouseout",function(){e||(this.style.backgroundColor=a.toolbar.itemBackgroundColor,this.style.color=a.toolbar.fontColor)},a.allDOMEventHandlers,!0),W(c,"click",function(){a.exportChart({format:"png",fileName:a.exportFileName}),ad(a._dropdownMenu)},a.allDOMEventHandlers,!0))}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?ab(a,a._zoomButton,"zoom"):ab(a,a._zoomButton,"pan"),a._resetButton.getAttribute("state")!==a._cultureInfo.resetText&&ab(a,a._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(c)&&this.toolTip.updateOption(c)},a.prototype._updateSize=function(){a=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var a,c=0,d=0;if(this.options.width?c=this.width:this.width=c=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?d=this.height:this.height=d=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==c*at||this.canvas.height!==d*at){for(var e=0;e<a.length;e++)Z(a[e],c,d);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},a=!0}else a=!1;return a},a.prototype._initialize=function(){this.isNavigator=null!=this.parent&&null!=this.parent._defaultsKey&&"Navigator"===this.parent._defaultsKey,this._animator?this._animator.cancelAllAnimations():this._animator=new t(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=i&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new r(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var j=0,h=null;if(this.options.data){for(var d=0;d<this.options.data.length;d++)if(j++,!this.options.data[d].type||0<=a._supportedChartTypes.indexOf(this.options.data[d].type)){var l,m,k,c=new e(this,this.options.data[d],j-1,++this._eventManager.lastObjectId);"error"===c.type&&(k=this.options.data[d].linkedDataSeriesIndex,c.linkedDataSeriesIndex=null==k?d-1:this.options.data[d].linkedDataSeriesIndex,0>c.linkedDataSeriesIndex||c.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof c.linkedDataSeriesIndex||"error"===this.options.data[c.linkedDataSeriesIndex].type)&&(c.linkedDataSeriesIndex=null),null===c.name&&(c.name="DataSeries "+j),null===c.color?1<this.options.data.length?(c._colorSet=[this.selectedColorSet[c.index%this.selectedColorSet.length]],c.color=this.selectedColorSet[c.index%this.selectedColorSet.length]):c._colorSet="line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===c.type||"splineArea"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type||"rangeArea"===c.type||"rangeSplineArea"===c.type||"candlestick"===c.type||"ohlc"===c.type||"waterfall"===c.type||"boxAndWhisker"===c.type?[this.selectedColorSet[0]]:this.selectedColorSet:c._colorSet=[c.color],null===c.markerSize&&(("line"===c.type||"stepLine"===c.type||"spline"===c.type||0<=c.type.toLowerCase().indexOf("area"))&&c.dataPoints&&c.dataPoints.length<this.width/16||"scatter"===c.type)&&(c.markerSize=8),"bubble"!==c.type&&"scatter"!==c.type||!c.dataPoints||(c.dataPoints.some?c.dataPoints.some(function(a){return a.x})&&c.dataPoints.sort(x):c.dataPoints.sort(x)),this.data.push(c);var f,g=c.axisPlacement,h=h||g;if("normal"===g?"xySwapped"===this.plotInfo.axisPlacement?f='You cannot combine "'+c.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?f='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===g?"normal"===this.plotInfo.axisPlacement?f='You cannot combine "'+c.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?f='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===g?"normal"===this.plotInfo.axisPlacement?f='You cannot combine "'+c.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?f='You cannot combine "'+c.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===g&&"none"===this.plotInfo.axisPlacement&&(f='You cannot combine "'+c.type+'" with pie chart'),f&&window.console){window.console.log(f);return}}for(d=0;d<this.data.length;d++){if("none"==h&&"error"===this.data[d].type&&window.console){window.console.log('You cannot combine "'+c.type+'" with error chart');return}"error"===this.data[d].type&&(this.data[d].axisPlacement=this.plotInfo.axisPlacement=h||"normal",this.data[d]._linkedSeries=null===this.data[d].linkedDataSeriesIndex?null:this.data[this.data[d].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},a._supportedChartTypes=T("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),a.prototype.setLayout=function(){for(var g,h,f,e=this._plotAreaElements,d=0;d<this.data.length;d++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[d].axisYType||"primary"===this.data[d].axisYType){if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var a=0;a<this.options.axisY.length;a++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[a]=new c(this,"axisY",this.options.axisY[a],a,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[a]=new c(this,"axisY",this.options.axisY[a],a,"axisY","bottom"));this.data[d].axisY=this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0],this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new c(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new c(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[d].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[d])}if("secondary"===this.data[d].axisYType){if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(a=0;a<this.options.axisY2.length;a++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[a]=new c(this,"axisY2",this.options.axisY2[a],a,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[a]=new c(this,"axisY2",this.options.axisY2[a],a,"axisY","top"));this.data[d].axisY=this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0],this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new c(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new c(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[d].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[d])}if(!this.data[d].axisXType||"primary"===this.data[d].axisXType){if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(a=0;a<this.options.axisX.length;a++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[a]=new c(this,"axisX",this.options.axisX[a],a,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[a]=new c(this,"axisX",this.options.axisX[a],a,"axisX","left"));this.data[d].axisX=this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0],this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new c(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new c(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[d].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[d])}if("secondary"===this.data[d].axisXType){if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(a=0;a<this.options.axisX2.length;a++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[a]=new c(this,"axisX2",this.options.axisX2[a],a,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[a]=new c(this,"axisX2",this.options.axisX2[a],a,"axisX","right"));this.data[d].axisX=this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0],this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new c(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new c(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[d].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[d])}}if(this.axisY){for(a=1;a<this.axisY.length;a++)void 0===this.axisY[a].options.gridThickness&&(this.axisY[a].gridThickness=0);for(a=0;a<this.axisY.length-1;a++)void 0===this.axisY[a].options.margin&&(this.axisY[a].margin=10)}if(this.axisY2){for(a=1;a<this.axisY2.length;a++)void 0===this.axisY2[a].options.gridThickness&&(this.axisY2[a].gridThickness=0);for(a=0;a<this.axisY2.length-1;a++)void 0===this.axisY2[a].options.margin&&(this.axisY2[a].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&& void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&& void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(a=0;a<this.axisX.length;a++)void 0===this.axisX[a].options.gridThickness&&(this.axisX[a].gridThickness=0);if(this.axisX2)for(a=0;a<this.axisX2.length;a++)void 0===this.axisX2[a].options.gridThickness&&(this.axisX2[a].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&& void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&& void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),a=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled)){for(d=0;d<this._axes.length;d++)if(null!=this._axes[d].viewportMinimum||null!=this._axes[d].viewportMaximum){a=!0;break}}if(a?(ac(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(ad(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),f=this,n.fSDec&&f[l("`eeDwdouMhrudods")](l("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){n._fTWm&&n._fTWm(f)}),this._processData(),this.options.title&&(this.title=new q(this,this.options.title),this.title.dockInsidePlotArea?e.push(this.title):this.title.setLayout()),this.options.subtitles)for(d=0;d<this.options.subtitles.length;d++)a=new s(this,this.options.subtitles[d],d),this.subtitles.push(a),a.dockInsidePlotArea?e.push(a):a.setLayout();for(d=0,this.legend=new j(this,this.options.legend);d<this.data.length;d++)(this.data[d].showInLegend||"pie"===this.data[d].type||"doughnut"===this.data[d].type||"funnel"===this.data[d].type||"pyramid"===this.data[d].type)&&this.legend.dataSeries.push(this.data[d]);for(this.legend.dockInsidePlotArea?e.push(this.legend):this.legend.setLayout(),d=0;d<this._axes.length;d++)if(this._axes[d].scaleBreaks&&this._axes[d].scaleBreaks._appliedBreaks.length){i?(this._breaksCanvas=_(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=_(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||c.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},a.prototype.renderElements=function(){var h=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var f=0;f<this.subtitles.length;f++)this.subtitles[f].dockInsidePlotArea||this.subtitles[f].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)c.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(f=0;f<h.length;f++)h[f].setLayout(),h[f].render();var j=[];if(this.animatedRender){var o=_(this.width,this.height);o.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}!function(a){if(!av){var c=!1,d=!1;void 0===w.Chart.creditHref?(a.creditHref=l("iuuqr;..b`ow`rkr/bnl."),a.creditText=l("B`ow`rKR/bnl")):(c=a.updateOption("creditText"),d=a.updateOption("creditHref")),a.creditHref&&a.creditText&&(a._creditLink||(a._creditLink=document.createElement("a"),a._creditLink.setAttribute("class","canvasjs-chart-credit"),a._creditLink.setAttribute("title","JavaScript Charts"),aa(a._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:a.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),a._creditLink.setAttribute("tabIndex",-1),a._creditLink.setAttribute("target","_blank")),(0===a.renderCount||c||d)&&(a._creditLink.setAttribute("href",a.creditHref),a._creditLink.innerHTML=a.creditText),a._creditLink&&a.creditHref&&a.creditText?(a._creditLink.parentElement||a._canvasJSContainer.appendChild(a._creditLink),a._creditLink.style.top=a.height-14+"px"):a._creditLink.parentElement&&a._canvasJSContainer.removeChild(a._creditLink))}}(this);var k,h=this.ctx.miterLimit;for(this.ctx.miterLimit=3,i&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),f=0;f<this.plotInfo.plotTypes.length;f++)for(var n=this.plotInfo.plotTypes[f],m=0;m<n.plotUnits.length;m++){var a=n.plotUnits[m],d=null;a.targetCanvas&&ao(a.targetCanvas),a.targetCanvas=null,this.animatedRender&&(a.targetCanvas=_(this.width,this.height),a.targetCanvasCtx=a.targetCanvas.getContext("2d"),k=a.targetCanvasCtx.miterLimit,a.targetCanvasCtx.miterLimit=3),"line"===a.type?d=this.renderLine(a):"stepLine"===a.type?d=this.renderStepLine(a):"spline"===a.type?d=this.renderSpline(a):"column"===a.type?d=this.renderColumn(a):"bar"===a.type?d=this.renderBar(a):"area"===a.type?d=this.renderArea(a):"stepArea"===a.type?d=this.renderStepArea(a):"splineArea"===a.type?d=this.renderSplineArea(a):"stackedColumn"===a.type?d=this.renderStackedColumn(a):"stackedColumn100"===a.type?d=this.renderStackedColumn100(a):"stackedBar"===a.type?d=this.renderStackedBar(a):"stackedBar100"===a.type?d=this.renderStackedBar100(a):"stackedArea"===a.type?d=this.renderStackedArea(a):"stackedArea100"===a.type?d=this.renderStackedArea100(a):"bubble"===a.type?d=d=this.renderBubble(a):"scatter"===a.type?d=this.renderScatter(a):"pie"===a.type?this.renderPie(a):"doughnut"===a.type?this.renderPie(a):"funnel"===a.type?d=this.renderFunnel(a):"pyramid"===a.type?d=this.renderFunnel(a):"candlestick"===a.type?d=this.renderCandlestick(a):"ohlc"===a.type?d=this.renderCandlestick(a):"rangeColumn"===a.type?d=this.renderRangeColumn(a):"error"===a.type?d=this.renderError(a):"rangeBar"===a.type?d=this.renderRangeBar(a):"rangeArea"===a.type?d=this.renderRangeArea(a):"rangeSplineArea"===a.type?d=this.renderRangeSplineArea(a):"waterfall"===a.type?d=this.renderWaterfall(a):"boxAndWhisker"===a.type&&(d=this.renderBoxAndWhisker(a));for(var g=0;g<a.dataSeriesIndexes.length;g++)this._dataInRenderedOrder.push(this.data[a.dataSeriesIndexes[g]]);this.animatedRender&&(a.targetCanvasCtx.miterLimit=k,d&&j.push(d))}this.ctx.miterLimit=h,this.animatedRender&&this._breaksCanvasCtx&&j.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(k=_(this.width,this.height).getContext("2d"),j.push(this.renderIndexLabels(k)));var e=this;if(0<j.length)e.disableToolTip=!0,e._animator.animate(200,e.animationDuration,function(a){e.ctx.clearRect(0,0,e.width,e.height),e.ctx.drawImage(o,0,0,Math.floor(e.width*at),Math.floor(e.height*at),0,0,e.width,e.height);for(var c=0;c<j.length;c++)d=j[c],1>a&& void 0!==d.startTimePercent?a>=d.startTimePercent&&d.animationCallback(d.easingFunction(a-d.startTimePercent,0,1,1-d.startTimePercent),d):d.animationCallback(d.easingFunction(a,0,1,1),d);e.dispatchEvent("dataAnimationIterationEnd",{chart:e})},function(){j=[];for(var a=0;a<e.plotInfo.plotTypes.length;a++)for(var f=e.plotInfo.plotTypes[a],c=0;c<f.plotUnits.length;c++){var d=f.plotUnits[c];d.targetCanvas&&ao(d.targetCanvas),d.targetCanvas=null}o=null,e.disableToolTip=!1,e.dispatchEvent("dataAnimationEnd",{chart:e})});else{if(e._breaksCanvas){if(i)e.plotArea.ctx.drawImage(e._breaksCanvas,0,0,this.width,this.height);else for(g=0;g<e._axes.length;g++)e._axes[g].createMask()}0<e._indexLabels.length&&e.renderIndexLabels(),e.dispatchEvent("dataAnimationIterationEnd",{chart:e}),e.dispatchEvent("dataAnimationEnd",{chart:e})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||ad(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,af&&(e=this,setTimeout(function(){var a=document.getElementById("ghostCanvasCopy");a&&(Z(a,e.width,e.height),a.getContext("2d").drawImage(e._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),g=0;g<this._axes.length;g++)this._axes[g].maskCanvas&&(delete this._axes[g].maskCanvas,delete this._axes[g].maskCtx)},a.prototype.render=function(a){a&&(this.options=a),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&ao(this._preRenderCanvas)},a.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},a.prototype.categoriseDataSeries=function(){for(var c="",f=0;f<this.data.length;f++)if((c=this.data[f]).dataPoints&&0!==c.dataPoints.length&&c.visible&&0<=a._supportedChartTypes.indexOf(c.type)){for(var d=null,h=!1,g=null,i=!1,e=0;e<this.plotInfo.plotTypes.length;e++)if(this.plotInfo.plotTypes[e].type===c.type){h=!0,d=this.plotInfo.plotTypes[e];break}for(h||(d={type:c.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(d)),e=0;e<d.plotUnits.length;e++)if(d.plotUnits[e].axisYType===c.axisYType&&d.plotUnits[e].axisXType===c.axisXType&&d.plotUnits[e].axisYIndex===c.axisYIndex&&d.plotUnits[e].axisXIndex===c.axisXIndex){i=!0,g=d.plotUnits[e];break}i||(g={type:c.type,previousDataSeriesCount:0,index:d.plotUnits.length,plotType:d,axisXType:c.axisXType,axisYType:c.axisYType,axisYIndex:c.axisYIndex,axisXIndex:c.axisXIndex,axisY:"primary"===c.axisYType?this.axisY[0<=c.axisYIndex&&c.axisYIndex<this.axisY.length?c.axisYIndex:0]:this.axisY2[0<=c.axisYIndex&&c.axisYIndex<this.axisY2.length?c.axisYIndex:0],axisX:"primary"===c.axisXType?this.axisX[0<=c.axisXIndex&&c.axisXIndex<this.axisX.length?c.axisXIndex:0]:this.axisX2[0<=c.axisXIndex&&c.axisXIndex<this.axisX2.length?c.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]},d.plotUnits.push(g)),d.totalDataSeries++,g.dataSeriesIndexes.push(f),c.plotUnit=g}for(f=0;f<this.plotInfo.plotTypes.length;f++)for(d=this.plotInfo.plotTypes[f],e=c=0;e<d.plotUnits.length;e++)d.plotUnits[e].previousDataSeriesCount=c,c+=d.plotUnits[e].dataSeriesIndexes.length},a.prototype.assignIdToDataPoints=function(){for(var a=0;a<this.data.length;a++){var c=this.data[a];if(c.dataPoints)for(var e=c.dataPoints.length,d=0;d<e;d++)c.dataPointIds[d]=++this._eventManager.lastObjectId}},a.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var c=0;c<this.plotInfo.plotTypes.length;c++)for(var e=this.plotInfo.plotTypes[c],d=0;d<e.plotUnits.length;d++){var a=e.plotUnits[d];"line"===a.type||"stepLine"===a.type||"spline"===a.type||"column"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"bar"===a.type||"bubble"===a.type||"scatter"===a.type?this._processMultiseriesPlotUnit(a):"stackedColumn"===a.type||"stackedBar"===a.type||"stackedArea"===a.type?this._processStackedPlotUnit(a):"stackedColumn100"===a.type||"stackedBar100"===a.type||"stackedArea100"===a.type?this._processStacked100PlotUnit(a):"candlestick"===a.type||"ohlc"===a.type||"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type||"boxAndWhisker"===a.type?this._processMultiYPlotUnit(a):"waterfall"===a.type&&this._processSpecificPlotUnit(a)}this.calculateAutoBreaks()},a.prototype._processMultiseriesPlotUnit=function(g){if(g.dataSeriesIndexes&&!(1>g.dataSeriesIndexes.length))for(var e,f,i=g.axisY.dataInfo,h=g.axisX.dataInfo,j=!1,k=0;k<g.dataSeriesIndexes.length;k++){var l,d=this.data[g.dataSeriesIndexes[k]],a=0,m=!1,n=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var p=g.axisX.sessionVariables.newViewportMinimum?g.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:g.axisX.logarithmic?0:-1/0,o=g.axisX.sessionVariables.newViewportMaximum?g.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((d.dataPoints[a].x&&d.dataPoints[a].x.getTime||"dateTime"===d.xValueType)&&(j=!0),a=0;a<d.dataPoints.length;a++){if(void 0===d.dataPoints[a].x&&(d.dataPoints[a].x=a+(g.axisX.logarithmic?1:0)),d.dataPoints[a].x.getTime?(j=!0,e=d.dataPoints[a].x.getTime()):e=d.dataPoints[a].x,f=d.dataPoints[a].y,e<h.min&&(h.min=e),e>h.max&&(h.max=e),f<i.min&&"number"==typeof f&&(i.min=f),f>i.max&&"number"==typeof f&&(i.max=f),0<a){if(g.axisX.logarithmic){var c=e/d.dataPoints[a-1].x;1>c&&(c=1/c),h.minDiff>c&&1!==c&&(h.minDiff=c)}else 0>(c=e-d.dataPoints[a-1].x)&&(c*=-1),h.minDiff>c&&0!==c&&(h.minDiff=c);null!==f&&null!==d.dataPoints[a-1].y&&(g.axisY.logarithmic?(1>(c=f/d.dataPoints[a-1].y)&&(c=1/c),i.minDiff>c&&1!==c&&(i.minDiff=c)):(0>(c=f-d.dataPoints[a-1].y)&&(c*=-1),i.minDiff>c&&0!==c&&(i.minDiff=c)))}if(e<p&&!m)null!==f&&(l=e);else{if(!m&&(m=!0,0<a)){a-=2;continue}if(e>o&&!n)n=!0;else if(e>o&&n)continue;d.dataPoints[a].label&&(g.axisX.labels[e]=d.dataPoints[a].label),e<h.viewPortMin&&(h.viewPortMin=e),e>h.viewPortMax&&(h.viewPortMax=e),null===f?h.viewPortMin===e&&l<e&&(h.viewPortMin=l):(f<i.viewPortMin&&"number"==typeof f&&(i.viewPortMin=f),f>i.viewPortMax&&"number"==typeof f&&(i.viewPortMax=f))}}d.axisX.valueType=d.xValueType=j?"dateTime":"number"}},a.prototype._processStackedPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var d,i,e=a.axisY.dataInfo,h=a.axisX.dataInfo,n=!1,j=[],k=[],l=1/0,m=-1/0,o=0;o<a.dataSeriesIndexes.length;o++){var u,p,f=this.data[a.dataSeriesIndexes[o]],c=0,q=!1,r=!1;if("normal"===f.axisPlacement||"xySwapped"===f.axisPlacement)var t=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,s=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((f.dataPoints[c].x&&f.dataPoints[c].x.getTime||"dateTime"===f.xValueType)&&(n=!0),c=0;c<f.dataPoints.length;c++){if(void 0===f.dataPoints[c].x&&(f.dataPoints[c].x=c+(a.axisX.logarithmic?1:0)),f.dataPoints[c].x.getTime?(n=!0,d=f.dataPoints[c].x.getTime()):d=f.dataPoints[c].x,i=null==f.dataPoints[c].y?0:f.dataPoints[c].y,d<h.min&&(h.min=d),d>h.max&&(h.max=d),0<c){if(a.axisX.logarithmic){var g=d/f.dataPoints[c-1].x;1>g&&(g=1/g),h.minDiff>g&&1!==g&&(h.minDiff=g)}else 0>(g=d-f.dataPoints[c-1].x)&&(g*=-1),h.minDiff>g&&0!==g&&(h.minDiff=g);null!==i&&null!==f.dataPoints[c-1].y&&(a.axisY.logarithmic?0<i&&(1>(g=i/f.dataPoints[c-1].y)&&(g=1/g),e.minDiff>g&&1!==g&&(e.minDiff=g)):(0>(g=i-f.dataPoints[c-1].y)&&(g*=-1),e.minDiff>g&&0!==g&&(e.minDiff=g)))}if(d<t&&!q)null!==f.dataPoints[c].y&&(p=d);else{if(!q&&(q=!0,0<c)){c-=2;continue}if(d>s&&!r)r=!0;else if(d>s&&r)continue;f.dataPoints[c].label&&(a.axisX.labels[d]=f.dataPoints[c].label),d<h.viewPortMin&&(h.viewPortMin=d),d>h.viewPortMax&&(h.viewPortMax=d),null===f.dataPoints[c].y?h.viewPortMin===d&&p<d&&(h.viewPortMin=p):(a.yTotals[d]=(a.yTotals[d]?a.yTotals[d]:0)+i,a.yAbsTotals[d]=(a.yAbsTotals[d]?a.yAbsTotals[d]:0)+Math.abs(i),0<=i?j[d]?j[d]+=i:(j[d]=i,l=Math.min(i,l)):k[d]?k[d]+=i:(k[d]=i,m=Math.max(i,m)))}}a.axisY.scaleBreaks&&a.axisY.scaleBreaks.autoCalculate&&1<=a.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(e.dataPointYPositiveSums?(e.dataPointYPositiveSums.push.apply(e.dataPointYPositiveSums,j),e.dataPointYNegativeSums.push.apply(e.dataPointYPositiveSums,k)):(e.dataPointYPositiveSums=j,e.dataPointYNegativeSums=k)),f.axisX.valueType=f.xValueType=n?"dateTime":"number"}for(c in j)j.hasOwnProperty(c)&&!isNaN(c)&&((a=j[c])<e.min&&(e.min=Math.min(a,l)),a>e.max&&(e.max=a),c<h.viewPortMin||c>h.viewPortMax||(a<e.viewPortMin&&(e.viewPortMin=Math.min(a,l)),a>e.viewPortMax&&(e.viewPortMax=a)));for(c in k)k.hasOwnProperty(c)&&!isNaN(c)&&((a=k[c])<e.min&&(e.min=a),a>e.max&&(e.max=Math.max(a,m)),c<h.viewPortMin||c>h.viewPortMax||(a<e.viewPortMin&&(e.viewPortMin=a),a>e.viewPortMax&&(e.viewPortMax=Math.max(a,m))))}},a.prototype._processStacked100PlotUnit=function(d){if(d.dataSeriesIndexes&&!(1>d.dataSeriesIndexes.length)){for(var r,s,t,u,v,w,x,y,c,i,a=d.axisY.dataInfo,h=d.axisX.dataInfo,m=!1,j=!1,k=!1,l=[],n=0;n<d.dataSeriesIndexes.length;n++){var o,f=this.data[d.dataSeriesIndexes[n]],e=0,p=!1,q=!1;if("normal"===f.axisPlacement||"xySwapped"===f.axisPlacement)var A=d.axisX.sessionVariables.newViewportMinimum?d.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,z=d.axisX.sessionVariables.newViewportMaximum?d.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((f.dataPoints[e].x&&f.dataPoints[e].x.getTime||"dateTime"===f.xValueType)&&(m=!0),e=0;e<f.dataPoints.length;e++){if(void 0===f.dataPoints[e].x&&(f.dataPoints[e].x=e+(d.axisX.logarithmic?1:0)),f.dataPoints[e].x.getTime?(m=!0,c=f.dataPoints[e].x.getTime()):c=f.dataPoints[e].x,i=null==f.dataPoints[e].y?null:f.dataPoints[e].y,c<h.min&&(h.min=c),c>h.max&&(h.max=c),0<e){if(d.axisX.logarithmic){var B,C,g=c/f.dataPoints[e-1].x;1>g&&(g=1/g),h.minDiff>g&&1!==g&&(h.minDiff=g)}else 0>(g=c-f.dataPoints[e-1].x)&&(g*=-1),h.minDiff>g&&0!==g&&(h.minDiff=g);null==i||null===f.dataPoints[e-1].y||(d.axisY.logarithmic?0<i&&(1>(g=i/f.dataPoints[e-1].y)&&(g=1/g),a.minDiff>g&&1!==g&&(a.minDiff=g)):(0>(g=i-f.dataPoints[e-1].y)&&(g*=-1),a.minDiff>g&&0!==g&&(a.minDiff=g)))}if(c<A&&!p)null!==i&&(o=c);else{if(!p&&(p=!0,0<e)){e-=2;continue}if(c>z&&!q)q=!0;else if(c>z&&q)continue;f.dataPoints[e].label&&(d.axisX.labels[c]=f.dataPoints[e].label),c<h.viewPortMin&&(h.viewPortMin=c),c>h.viewPortMax&&(h.viewPortMax=c),null===i?h.viewPortMin===c&&o<c&&(h.viewPortMin=o):(d.yTotals[c]=(d.yTotals[c]?d.yTotals[c]:0)+i,d.yAbsTotals[c]=(d.yAbsTotals[c]?d.yAbsTotals[c]:0)+Math.abs(i),0<=i?j=!0:0>i&&(k=!0),l[c]=l[c]?l[c]+Math.abs(i):Math.abs(i))}}f.axisX.valueType=f.xValueType=m?"dateTime":"number"}d.axisY.logarithmic?(r=a.viewPortMax,a.max=null==r?99*Math.pow(d.axisY.logarithmBase,-0.05):Math.max(a.viewPortMax,99*Math.pow(d.axisY.logarithmBase,-0.05)),s=a.viewPortMin,a.min=null==s?1:Math.min(a.viewPortMin,1)):j&&!k?(t=a.viewPortMax,a.max=null==t?99:Math.max(a.viewPortMax,99),u=a.viewPortMin,a.min=null==u?1:Math.min(a.viewPortMin,1)):j&&k?(v=a.viewPortMax,a.max=null==v?99:Math.max(a.viewPortMax,99),w=a.viewPortMin,a.min=null==w?-99:Math.min(a.viewPortMin,-99)):!j&&k&&(x=a.viewPortMax,a.max=null==x?-1:Math.max(a.viewPortMax,-1),y=a.viewPortMin,a.min=null==y?-99:Math.min(a.viewPortMin,-99)),a.viewPortMin=a.min,a.viewPortMax=a.max,d.dataPointYSums=l}},a.prototype._processMultiYPlotUnit=function(g){if(g.dataSeriesIndexes&&!(1>g.dataSeriesIndexes.length))for(var e,h,l,m,i=g.axisY.dataInfo,f=g.axisX.dataInfo,o=!1,p=0;p<g.dataSeriesIndexes.length;p++){var j,a,r,d=this.data[g.dataSeriesIndexes[p]],c=0,n=!1,q=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var t=g.axisX.sessionVariables.newViewportMinimum?g.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:g.axisX.logarithmic?0:-1/0,s=g.axisX.sessionVariables.newViewportMaximum?g.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((d.dataPoints[c].x&&d.dataPoints[c].x.getTime||"dateTime"===d.xValueType)&&(o=!0),c=0;c<d.dataPoints.length;c++){if(void 0===d.dataPoints[c].x&&(d.dataPoints[c].x=c+(g.axisX.logarithmic?1:0)),d.dataPoints[c].x.getTime?(o=!0,e=d.dataPoints[c].x.getTime()):e=d.dataPoints[c].x,(h=d.dataPoints[c].y)&&h.length){l=Math.min.apply(null,h),m=Math.max.apply(null,h),a=!0;for(var k=0;k<h.length;k++)null===h.k&&(a=!1);a&&(n||(r=j),j=e)}if(e<f.min&&(f.min=e),e>f.max&&(f.max=e),l<i.min&&(i.min=l),m>i.max&&(i.max=m),0<c&&(g.axisX.logarithmic?(1>(a=e/d.dataPoints[c-1].x)&&(a=1/a),f.minDiff>a&&1!==a&&(f.minDiff=a)):(0>(a=e-d.dataPoints[c-1].x)&&(a*=-1),f.minDiff>a&&0!==a&&(f.minDiff=a)),h&&null!==h[0]&&d.dataPoints[c-1].y&&null!==d.dataPoints[c-1].y[0]&&(g.axisY.logarithmic?(1>(a=h[0]/d.dataPoints[c-1].y[0])&&(a=1/a),i.minDiff>a&&1!==a&&(i.minDiff=a)):(0>(a=h[0]-d.dataPoints[c-1].y[0])&&(a*=-1),i.minDiff>a&&0!==a&&(i.minDiff=a)))),!(e<t)||n){if(!n&&(n=!0,0<c)){c-=2,j=r;continue}if(e>s&&!q)q=!0;else if(e>s&&q)continue;if(d.dataPoints[c].label&&(g.axisX.labels[e]=d.dataPoints[c].label),e<f.viewPortMin&&(f.viewPortMin=e),e>f.viewPortMax&&(f.viewPortMax=e),f.viewPortMin===e&&h){for(k=0;k<h.length;k++)if(null===h[k]&&j<e){f.viewPortMin=j;break}}null===h?f.viewPortMin===e&&j<e&&(f.viewPortMin=j):(l<i.viewPortMin&&(i.viewPortMin=l),m>i.viewPortMax&&(i.viewPortMax=m))}}d.axisX.valueType=d.xValueType=o?"dateTime":"number"}},a.prototype._processSpecificPlotUnit=function(f){if("waterfall"===f.type&&f.dataSeriesIndexes&&!(1>f.dataSeriesIndexes.length))for(var d,e,g=f.axisY.dataInfo,i=f.axisX.dataInfo,j=!1,k=0;k<f.dataSeriesIndexes.length;k++){var c=this.data[f.dataSeriesIndexes[k]],a=0,l=!1,m=!1,h=d=0;if("normal"===c.axisPlacement||"xySwapped"===c.axisPlacement)var o=f.axisX.sessionVariables.newViewportMinimum?f.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:f.axisX.logarithmic?0:-1/0,n=f.axisX.sessionVariables.newViewportMaximum?f.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((c.dataPoints[a].x&&c.dataPoints[a].x.getTime||"dateTime"===c.xValueType)&&(j=!0),a=0;a<c.dataPoints.length;a++)void 0!==c.dataPoints[a].isCumulativeSum&& !0===c.dataPoints[a].isCumulativeSum?(c.dataPointEOs[a].cumulativeSumYStartValue=0,c.dataPointEOs[a].cumulativeSum=0===a?0:c.dataPointEOs[a-1].cumulativeSum,c.dataPoints[a].y=0===a?0:c.dataPointEOs[a-1].cumulativeSum):void 0!==c.dataPoints[a].isIntermediateSum&& !0===c.dataPoints[a].isIntermediateSum?(c.dataPointEOs[a].cumulativeSumYStartValue=h,c.dataPointEOs[a].cumulativeSum=0===a?0:c.dataPointEOs[a-1].cumulativeSum,c.dataPoints[a].y=0===a?0:d,h=0===a?0:c.dataPointEOs[a-1].cumulativeSum,d=0):(e="number"!=typeof c.dataPoints[a].y?0:c.dataPoints[a].y,c.dataPointEOs[a].cumulativeSumYStartValue=0===a?0:c.dataPointEOs[a-1].cumulativeSum,c.dataPointEOs[a].cumulativeSum=0===a?e:c.dataPointEOs[a-1].cumulativeSum+e,d+=e);for(a=0;a<c.dataPoints.length;a++)if(void 0===c.dataPoints[a].x&&(c.dataPoints[a].x=a+(f.axisX.logarithmic?1:0)),c.dataPoints[a].x.getTime?(j=!0,d=c.dataPoints[a].x.getTime()):d=c.dataPoints[a].x,e=c.dataPoints[a].y,d<i.min&&(i.min=d),d>i.max&&(i.max=d),c.dataPointEOs[a].cumulativeSum<g.min&&(g.min=c.dataPointEOs[a].cumulativeSum),c.dataPointEOs[a].cumulativeSum>g.max&&(g.max=c.dataPointEOs[a].cumulativeSum),0<a&&(f.axisX.logarithmic?(1>(h=d/c.dataPoints[a-1].x)&&(h=1/h),i.minDiff>h&&1!==h&&(i.minDiff=h)):(0>(h=d-c.dataPoints[a-1].x)&&(h*=-1),i.minDiff>h&&0!==h&&(i.minDiff=h)),null!==e&&null!==c.dataPoints[a-1].y&&(f.axisY.logarithmic?(1>(e=c.dataPointEOs[a].cumulativeSum/c.dataPointEOs[a-1].cumulativeSum)&&(e=1/e),g.minDiff>e&&1!==e&&(g.minDiff=e)):(0>(e=c.dataPointEOs[a].cumulativeSum-c.dataPointEOs[a-1].cumulativeSum)&&(e*=-1),g.minDiff>e&&0!==e&&(g.minDiff=e)))),!(d<o)||l){if(!l&&(l=!0,0<a)){a-=2;continue}if(d>n&&!m)m=!0;else if(d>n&&m)continue;c.dataPoints[a].label&&(f.axisX.labels[d]=c.dataPoints[a].label),d<i.viewPortMin&&(i.viewPortMin=d),d>i.viewPortMax&&(i.viewPortMax=d),0<a&&(c.dataPointEOs[a-1].cumulativeSum<g.viewPortMin&&(g.viewPortMin=c.dataPointEOs[a-1].cumulativeSum),c.dataPointEOs[a-1].cumulativeSum>g.viewPortMax&&(g.viewPortMax=c.dataPointEOs[a-1].cumulativeSum)),c.dataPointEOs[a].cumulativeSum<g.viewPortMin&&(g.viewPortMin=c.dataPointEOs[a].cumulativeSum),c.dataPointEOs[a].cumulativeSum>g.viewPortMax&&(g.viewPortMax=c.dataPointEOs[a].cumulativeSum)}c.axisX.valueType=c.xValueType=j?"dateTime":"number"}},a.prototype.calculateAutoBreaks=function(){function m(a,d,c,e){return e?(1>=(c=Math.pow(Math.min(c*a/d,d/a),.2))&&(c=Math.pow(1>a?1/a:Math.min(d/a,a),.25)),{startValue:a*c,endValue:d/c}):(0>=(c=.2*Math.min(c-d+a,d-a))&&(c=.25*Math.min(d-a,Math.abs(a))),{startValue:a+c,endValue:d-c})}function n(d){if(d.dataSeriesIndexes&&!(1>d.dataSeriesIndexes.length)){var l=d.axisX.scaleBreaks&&d.axisX.scaleBreaks.autoCalculate&&1<=d.axisX.scaleBreaks.maxNumberOfAutoBreaks,m=d.axisY.scaleBreaks&&d.axisY.scaleBreaks.autoCalculate&&1<=d.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(l||m)for(var a,c,e=d.axisY.dataInfo,f=d.axisX.dataInfo,n=f.min,q=f.max,j=e.min,r=e.max,f=f._dataRanges,e=e._dataRanges,g=0,k=0;k<d.dataSeriesIndexes.length;k++){var h=p.data[d.dataSeriesIndexes[k]];if(!(4>h.dataPoints.length)){for(g=0;g<h.dataPoints.length;g++)if(l&&(c=(q+1-n)*Math.max(parseFloat(d.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,c=Math.floor(((a=h.dataPoints[g].x.getTime?h.dataPoints[g].x.getTime():h.dataPoints[g].x)-n)/c),a<f[c].min&&(f[c].min=a),a>f[c].max&&(f[c].max=a)),m){var s,o=(r+1-j)*Math.max(parseFloat(d.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((a="waterfall"===d.type?h.dataPointEOs[g].cumulativeSum:h.dataPoints[g].y)&&a.length)for(var i=0;i<a.length;i++)c=Math.floor((a[i]-j)/o),a[i]<e[c].min&&(e[c].min=a[i]),a[i]>e[c].max&&(e[c].max=a[i]);else null==a||(c=Math.floor((a-j)/o),a<e[c].min&&(e[c].min=a),a>e[c].max&&(e[c].max=a))}}}}}function o(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)&&a.axisX.scaleBreaks&&a.axisX.scaleBreaks.autoCalculate&&1<=a.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var d,c=a.axisX.dataInfo,i=c.min,j=c.max,g=c._dataRanges,e=0,h=0;h<a.dataSeriesIndexes.length;h++){var f=p.data[a.dataSeriesIndexes[h]];if(!(4>f.dataPoints.length))for(e=0;e<f.dataPoints.length;e++)d=(j+1-i)*Math.max(parseFloat(a.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,d=Math.floor(((c=f.dataPoints[e].x.getTime?f.dataPoints[e].x.getTime():f.dataPoints[e].x)-i)/d),c<g[d].min&&(g[d].min=c),c>g[d].max&&(g[d].max=c)}}for(var c,p=this,e=!1,a=0;a<this._axes.length;a++)if(this._axes[a].scaleBreaks&&this._axes[a].scaleBreaks.autoCalculate&&1<=this._axes[a].scaleBreaks.maxNumberOfAutoBreaks){e=!0,this._axes[a].dataInfo._dataRanges=[];for(var d=0;d<100/Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10);d++)this._axes[a].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(e){for(a=0;a<this.plotInfo.plotTypes.length;a++)for(e=this.plotInfo.plotTypes[a],d=0;d<e.plotUnits.length;d++)"line"===(c=e.plotUnits[d]).type||"stepLine"===c.type||"spline"===c.type||"column"===c.type||"area"===c.type||"stepArea"===c.type||"splineArea"===c.type||"bar"===c.type||"bubble"===c.type||"scatter"===c.type||"candlestick"===c.type||"ohlc"===c.type||"rangeColumn"===c.type||"rangeBar"===c.type||"rangeArea"===c.type||"rangeSplineArea"===c.type||"waterfall"===c.type||"error"===c.type||"boxAndWhisker"===c.type?n(c):0<=c.type.indexOf("stacked")&&o(c);for(a=0;a<this._axes.length;a++)if(this._axes[a].dataInfo._dataRanges){var q,j=this._axes[a].dataInfo.min;c=(this._axes[a].dataInfo.max+1-j)*Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10)/100;var f,g,l=this._axes[a].dataInfo._dataRanges,e=[];if(this._axes[a].dataInfo.dataPointYPositiveSums){var r,i=this._axes[a].dataInfo.dataPointYPositiveSums;for(d in f=l,i)if(i.hasOwnProperty(d)&&!isNaN(d)&&null!=(g=i[d])){var h=Math.floor((g-j)/c);g<f[h].min&&(f[h].min=g),g>f[h].max&&(f[h].max=g)}delete this._axes[a].dataInfo.dataPointYPositiveSums}if(this._axes[a].dataInfo.dataPointYNegativeSums){for(d in i=this._axes[a].dataInfo.dataPointYNegativeSums,f=l,i)i.hasOwnProperty(d)&&!isNaN(d)&&(h=Math.floor(((g=-1*i[d])-j)/c),g<f[h].min&&(f[h].min=g),g>f[h].max&&(f[h].max=g));delete this._axes[a].dataInfo.dataPointYNegativeSums}for(d=0;d<l.length-1;d++)if(isFinite(f=l[d].max))for(;d<l.length-1;)if(isFinite(j=l[d+1].min)){(g=j-f)>c&&e.push({diff:g,start:f,end:j});break}else d++;if(this._axes[a].scaleBreaks.customBreaks)for(d=0;d<this._axes[a].scaleBreaks.customBreaks.length;d++)for(c=0;c<e.length;c++)(this._axes[a].scaleBreaks.customBreaks[d].startValue<=e[c].start&&e[c].start<=this._axes[a].scaleBreaks.customBreaks[d].endValue||this._axes[a].scaleBreaks.customBreaks[d].startValue<=e[c].start&&e[c].start<=this._axes[a].scaleBreaks.customBreaks[d].endValue||e[c].start<=this._axes[a].scaleBreaks.customBreaks[d].startValue&&this._axes[a].scaleBreaks.customBreaks[d].startValue<=e[c].end||e[c].start<=this._axes[a].scaleBreaks.customBreaks[d].endValue&&this._axes[a].scaleBreaks.customBreaks[d].endValue<=e[c].end)&&(e.splice(c,1),c--);for(e.sort(function(a,c){return c.diff-a.diff}),d=0;d<Math.min(e.length,this._axes[a].scaleBreaks.maxNumberOfAutoBreaks);d++)c=m(e[d].start,e[d].end,this._axes[a].logarithmic?this._axes[a].dataInfo.max/this._axes[a].dataInfo.min:this._axes[a].dataInfo.max-this._axes[a].dataInfo.min,this._axes[a].logarithmic),this._axes[a].scaleBreaks.autoBreaks.push(new k(this,"autoBreaks",c,d,++this._eventManager.lastObjectId,this._axes[a].scaleBreaks)),this._axes[a].scaleBreaks._appliedBreaks.push(this._axes[a].scaleBreaks.autoBreaks[this._axes[a].scaleBreaks.autoBreaks.length-1]);this._axes[a].scaleBreaks._appliedBreaks.sort(function(a,c){return a.startValue-c.startValue})}}},a.prototype.renderCrosshairs=function(c){for(var a=0;a<this.axisX.length;a++)this.axisX[a]!=c&&this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&!this.axisX[a].crosshair._hidden&&this.axisX[a].showCrosshair(this.axisX[a].crosshair._updatedValue);for(a=0;a<this.axisX2.length;a++)this.axisX2[a]!=c&&this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&!this.axisX2[a].crosshair._hidden&&this.axisX2[a].showCrosshair(this.axisX2[a].crosshair._updatedValue);for(a=0;a<this.axisY.length;a++)this.axisY[a]!=c&&this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&!this.axisY[a].crosshair._hidden&&this.axisY[a].showCrosshair(this.axisY[a].crosshair._updatedValue);for(a=0;a<this.axisY2.length;a++)this.axisY2[a]!=c&&this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&!this.axisY2[a].crosshair._hidden&&this.axisY2[a].showCrosshair(this.axisY2[a].crosshair._updatedValue)},a.prototype.getDataPointAtXY=function(d,f,a){a=a||!1;for(var c=[],e=this._dataInRenderedOrder.length-1;0<=e;e--){var g=null;(g=this._dataInRenderedOrder[e].getDataPointAtXY(d,f,a))&&c.push(g)}for(a=0,d=null,f=!1;a<c.length;a++)if(("line"===c[a].dataSeries.type||"stepLine"===c[a].dataSeries.type||"area"===c[a].dataSeries.type||"stepArea"===c[a].dataSeries.type)&&(e=Y("markerSize",c[a].dataPoint,c[a].dataSeries)||8,c[a].distance<=e/2)){f=!0;break}for(a=0;a<c.length;a++)f&&"line"!==c[a].dataSeries.type&&"stepLine"!==c[a].dataSeries.type&&"area"!==c[a].dataSeries.type&&"stepArea"!==c[a].dataSeries.type||(d?c[a].distance<=d.distance&&(d=c[a]):d=c[a]);return d},a.prototype.getObjectAtXY=function(d,e,a){var f=null;if(a=this.getDataPointAtXY(d,e,a||!1))f=a.dataSeries.dataPointIds[a.dataPointIndex];else if(i)f=X(d,e,this._eventManager.ghostCtx);else for(a=0;a<this.legend.items.length;a++){var c=this.legend.items[a];d>=c.x1&&d<=c.x2&&e>=c.y1&&e<=c.y2&&(f=c.id)}return f},a.prototype.getAutoFontSize=ap,a.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},a.prototype.clearCanvas=an,a.prototype.attachEvent=function(a){this._events.push(a)},a.prototype._touchEventHandler=function(a){if(a.changedTouches&&this.interactivityEnabled){var f=[],c=a.changedTouches,d=c?c[0]:a,e=null;switch(a.type){case"touchstart":case"MSPointerDown":f=["mousemove","mousedown"],this._lastTouchData=as(d),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":f=["mousemove"];break;case"touchend":case"MSPointerUp":var g=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,f="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>g?["mouseup","click"]:["mouseup"];break;default:return}if(!(c&&1<c.length)){(e=as(d)).time=new Date;try{var i,h=e.y-this._lastTouchData.y,g=e.time-this._lastTouchData.time;(1<Math.abs(h)&&this._lastTouchData.scroll||5<Math.abs(h)&&250>g)&&(this._lastTouchData.scroll=!0)}catch(j){}if(this._lastTouchEventType=a.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(c=0;c<f.length;c++)e=f[c],(h=document.createEvent("MouseEvent")).initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(h),(null!=this._lastTouchData.scroll&&!this._lastTouchData.scroll|| !this._lastTouchData.scroll&&250<g||"click"===e)&&(a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.cancelable&&a.preventDefault())}}},a.prototype._dispatchRangeEvent=function(f,g){var h,e={chart:this};e.type=f,e.trigger=g;var a=[];this.axisX&&0<this.axisX.length&&a.push("axisX"),this.axisX2&&0<this.axisX2.length&&a.push("axisX2"),this.axisY&&0<this.axisY.length&&a.push("axisY"),this.axisY2&&0<this.axisY2.length&&a.push("axisY2");for(var c=0;c<a.length;c++)if(null==e[a[c]]&&(e[a[c]]=[]),"axisY"===a[c])for(var d=0;d<this.axisY.length;d++)e[a[c]].push({viewportMinimum:this[a[c]][d].sessionVariables.newViewportMinimum,viewportMaximum:this[a[c]][d].sessionVariables.newViewportMaximum});else if("axisY2"===a[c])for(d=0;d<this.axisY2.length;d++)e[a[c]].push({viewportMinimum:this[a[c]][d].sessionVariables.newViewportMinimum,viewportMaximum:this[a[c]][d].sessionVariables.newViewportMaximum});else if("axisX"===a[c])for(d=0;d<this.axisX.length;d++)e[a[c]].push({viewportMinimum:this[a[c]][d].sessionVariables.newViewportMinimum,viewportMaximum:this[a[c]][d].sessionVariables.newViewportMaximum});else if("axisX2"===a[c])for(d=0;d<this.axisX2.length;d++)e[a[c]].push({viewportMinimum:this[a[c]][d].sessionVariables.newViewportMinimum,viewportMaximum:this[a[c]][d].sessionVariables.newViewportMaximum});this.dispatchEvent(f,e,this)},a.prototype._mouseEventHandler=function(e){void 0===e.target&&e.srcElement&&(e.target=e.srcElement);var d,h,g=as(e),f=e.type;if(e.which?h=3==e.which:e.button&&(h=2==e.button),a.capturedEventParam&&(d=a.capturedEventParam,"mouseup"===f&&(a.capturedEventParam=null,d.chart.overlaidCanvas.releaseCapture?d.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",d.chart._mouseEventHandler,!1)),d.hasOwnProperty(f)&&("mouseup"!==f||d.chart.overlaidCanvas.releaseCapture?e.target!==d.chart.overlaidCanvas&&i||d[f].call(d.context,g.x,g.y):e.target!==d.chart.overlaidCanvas&&(d.chart.isDrag=!1))),this.interactivityEnabled){if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault(),af&&window.console&&(window.console.log(f+" --> x: "+g.x+"; y:"+g.y),h&&window.console.log(e.which),"mouseup"===f&&window.console.log("mouseup")),!h){if(!a.capturedEventParam&&this._events){for(var c=0;c<this._events.length;c++)if(this._events[c].hasOwnProperty(f)){if(h=(d=this._events[c]).bounds,g.x>=h.x1&&g.x<=h.x2&&g.y>=h.y1&&g.y<=h.y2){d[f].call(d.context,g.x,g.y),"mousedown"===f&& !0===d.capture?(a.capturedEventParam=d,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===f&&(d.chart.overlaidCanvas.releaseCapture?d.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}d=null}e.target.style.cursor=d&&d.cursor?d.cursor:this._defaultCursor}if(f=this.plotArea,g.x<f.x1||g.x>f.x2||g.y<f.y1||g.y>f.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),c=0;c<this.axisX.length;c++)this.axisX[c].crosshair&&this.axisX[c].crosshair.enabled&&(this.axisX[c].crosshair.hide(),this.axisX[c].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[c].options},this.axisX[c].crosshair));for(c=0;c<this.axisX2.length;c++)this.axisX2[c].crosshair&&this.axisX2[c].crosshair.enabled&&(this.axisX2[c].crosshair.hide(),this.axisX2[c].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[c].options},this.axisX2[c].crosshair));for(c=0;c<this.axisY.length;c++)this.axisY[c].crosshair&&this.axisY[c].crosshair.enabled&&(this.axisY[c].crosshair.hide(),this.axisY[c].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[c].options},this.axisY[c].crosshair));for(c=0;c<this.axisY2.length;c++)this.axisY2[c].crosshair&&this.axisY2[c].crosshair.enabled&&(this.axisY2[c].crosshair.hide(),this.axisY2[c].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[c].options},this.axisY2[c].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(e)}}},a.prototype._plotAreaMouseDown=function(a,c){this.isDrag=!0,this.dragStartPoint={x:a,y:c}},a.prototype._plotAreaMouseUp=function(f,g){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var c=g-this.dragStartPoint.y,h=f-this.dragStartPoint.x,e=0<=this.zoomType.indexOf("x"),d=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement)var i=d,d=e,e=i;if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(e=d=0;e<this._axes.length;e++)(c=this._axes[e]).logarithmic?c.viewportMinimum<c.minimum?(d=c.minimum/c.viewportMinimum,c.sessionVariables.newViewportMinimum=c.viewportMinimum*d,c.sessionVariables.newViewportMaximum=c.viewportMaximum*d,a=!0):c.viewportMaximum>c.maximum&&(d=c.viewportMaximum/c.maximum,c.sessionVariables.newViewportMinimum=c.viewportMinimum/d,c.sessionVariables.newViewportMaximum=c.viewportMaximum/d,a=!0):c.viewportMinimum<c.minimum?(d=c.minimum-c.viewportMinimum,c.sessionVariables.newViewportMinimum=c.viewportMinimum+d,c.sessionVariables.newViewportMaximum=c.viewportMaximum+d,a=!0):c.viewportMaximum>c.maximum&&(d=c.viewportMaximum-c.maximum,c.sessionVariables.newViewportMinimum=c.viewportMinimum-d,c.sessionVariables.newViewportMaximum=c.viewportMaximum-d,a=!0);else if((!e||2<Math.abs(h))&&(!d||2<Math.abs(c))&&this.zoomEnabled){if(!this.dragStartPoint)return;c=e?this.dragStartPoint.x:this.plotArea.x1,h=d?this.dragStartPoint.y:this.plotArea.y1,e=e?f:this.plotArea.x2,d=d?g:this.plotArea.y2,2<Math.abs(c-e)&&2<Math.abs(h-d)&&this._zoomPanToSelectedRegion(c,h,e,d)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),a&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(ac(this._zoomButton,this._resetButton),ab(this,this._zoomButton,"pan"),ab(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(f,g);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(f,g);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(f,g);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(f,g);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},a.prototype._plotAreaMouseMove=function(e,f){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var j,k,l,m,d=0,h=0,a=(d=null,0<=this.zoomType.indexOf("x")),g=0<=this.zoomType.indexOf("y"),i=this;if("xySwapped"===this.plotInfo.axisPlacement&&(d=g,g=a,a=d),d=this.dragStartPoint.x-e,h=this.dragStartPoint.y-f,2<Math.abs(d)&&8>Math.abs(d)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var c=0;c<this.axisX.length;c++)this.axisX[c].crosshair&&this.axisX[c].crosshair.enabled&&(this.axisX[c].crosshair.hide(),this.axisX[c].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[c].options},this.axisX[c].crosshair));for(c=0;c<this.axisX2.length;c++)this.axisX2[c].crosshair&&this.axisX2[c].crosshair.enabled&&(this.axisX2[c].crosshair.hide(),this.axisX2[c].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[c].options},this.axisX2[c].crosshair));for(c=0;c<this.axisY.length;c++)this.axisY[c].crosshair&&this.axisY[c].crosshair.enabled&&(this.axisY[c].crosshair.hide(),this.axisY[c].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[c].options},this.axisY[c].crosshair));for(c=0;c<this.axisY2.length;c++)this.axisY2[c].crosshair&&this.axisY2[c].crosshair.enabled&&(this.axisY2[c].crosshair.hide(),this.axisY2[c].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[c].options},this.axisY2[c].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(e,f);if((!a||2<Math.abs(d)||!g||2<Math.abs(h))&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled)a={x1:a?this.plotArea.x1+d:this.plotArea.x1,y1:g?this.plotArea.y1+h:this.plotArea.y1,x2:a?this.plotArea.x2+d:this.plotArea.x2,y2:g?this.plotArea.y2+h:this.plotArea.y2},clearTimeout(i._panTimerId),i._panTimerId=setTimeout((j=a.x1,k=a.y1,l=a.x2,m=a.y2,function(){i._zoomPanToSelectedRegion(j,k,l,m,!0)&&(i._dispatchRangeEvent("rangeChanging","pan"),i.stockChart&&i.stockChart.navigator&&i.stockChart.navigator.enabled&&(i.stockChart._rangeEventParameter.type="rangeChanging",i.stockChart.dispatchEvent("rangeChanging",i.stockChart._rangeEventParameter,i.stockChart)),i.render(),i._dispatchRangeEvent("rangeChanged","pan"),i.stockChart&&i.stockChart.navigator&&i.stockChart.navigator.enabled&&(i.stockChart._rangeEventParameter.type="rangeChanged",i.stockChart.dispatchEvent("rangeChanged",i.stockChart._rangeEventParameter,i.stockChart)),i.dragStartPoint.x=e,i.dragStartPoint.y=f)}),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),d=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var h=a?this.dragStartPoint.x:this.plotArea.x1,c=g?this.dragStartPoint.y:this.plotArea.y1,n=a?e-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,o=g?f-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(h,c,a?e:this.plotArea.x2-this.plotArea.x1,g?f:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(h,c,n,o),this.overlaidCanvasCtx.globalAlpha=d}}}else if(this.toolTip.mouseMoveHandler(e,f),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(e,f);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(e,f);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(e,f);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(e,f);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},a.prototype._zoomPanToSelectedRegion=function(d,e,f,c,a){if(e=(d=this.validateRegion(d,e,f,c,a)).axesWithValidRange,f=d.axesRanges,d.isValid)for(c=0;c<e.length;c++)a=f[c],e[c].setViewPortRange(a.val1,a.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(a.val1,a.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:a.val1,maximum:a.val2});return d.isValid},a.prototype.validateRegion=function(m,n,o,p,h){h=h||!1;for(var f=0<=this.zoomType.indexOf("x"),g=0<=this.zoomType.indexOf("y"),i=!1,k=[],j=[],l=[],a=0;a<this._axes.length;a++)("axisX"===this._axes[a].type&&f||"axisY"===this._axes[a].type&&g)&&j.push(this._axes[a]);for(g=0;g<j.length;g++){var a=j[g],f=!1,d=a.convertPixelToValue({x:m,y:n}),e=a.convertPixelToValue({x:o,y:p});if(d>e)var c=e,e=d,d=c;if(a.scaleBreaks)for(c=0;!f&&c<a.scaleBreaks._appliedBreaks.length;c++)f=a.scaleBreaks._appliedBreaks[c].startValue<=d&&a.scaleBreaks._appliedBreaks[c].endValue>=e;if(isFinite(a.dataInfo.minDiff)){if(c=a.getApparentDifference(d,e,null,!0),f|| !(this.panEnabled&&a.scaleBreaks&&a.scaleBreaks._appliedBreaks.length)&&(a.logarithmic&&c<Math.pow(a.dataInfo.minDiff,3)|| !a.logarithmic&&c<3*Math.abs(a.dataInfo.minDiff))||d<a.minimum||e>a.maximum){if(!h){i=!1;break}}else k.push(a),l.push({val1:d,val2:e}),i=!0}}return{isValid:i,axesWithValidRange:k,axesRanges:l}},a.prototype.preparePlotArea=function(){var a=this.plotArea;if(!i&&(0<a.x1||0<a.y1)&&a.ctx.translate(a.x1,a.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var c=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var d=this.axisY[0];a.x1=c.x1<c.x2?c.x1:d.lineCoordinates.x1,a.y1=c.y1<d.lineCoordinates.y1?c.y1:d.lineCoordinates.y1,a.x2=c.x2>d.lineCoordinates.x2?c.x2:d.lineCoordinates.x2,a.y2=c.y2>c.y1?c.y2:d.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(d=this.axisY2[0],a.x1=c.x1<c.x2?c.x1:d.lineCoordinates.x1,a.y1=c.y1<d.lineCoordinates.y1?c.y1:d.lineCoordinates.y1,a.x2=c.x2>d.lineCoordinates.x2?c.x2:d.lineCoordinates.x2,a.y2=c.y2>c.y1?c.y2:d.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1)}else c=this.layoutManager.getFreeSpace(),a.x1=c.x1,a.x2=c.x2,a.y1=c.y1,a.y2=c.y2,a.width=c.width,a.height=c.height;i||(a.canvas.width=a.width,a.canvas.height=a.height,a.canvas.style.left=a.x1+"px",a.canvas.style.top=a.y1+"px",(0<a.x1||0<a.y1)&&a.ctx.translate(-a.x1,-a.y1)),a.layoutManager=new r(a.x1,a.y1,a.x2,a.y2,2)},a.prototype.renderIndexLabels=function(u){var z,q=u||this.plotArea.ctx,d=this.plotArea,s=0,f=0,l=0,p=l=f=0,k=0,n=s=0,g=0;for(u=0;u<this._indexLabels.length;u++){var r,h,D,F,a=this._indexLabels[u],c=a.chartType.toLowerCase(),p=Y("indexLabelFontColor",a.dataPoint,a.dataSeries),e=Y("indexLabelFontSize",a.dataPoint,a.dataSeries),k=Y("indexLabelFontFamily",a.dataPoint,a.dataSeries),n=Y("indexLabelFontStyle",a.dataPoint,a.dataSeries),g=Y("indexLabelFontWeight",a.dataPoint,a.dataSeries),t=Y("indexLabelBackgroundColor",a.dataPoint,a.dataSeries);r=Y("indexLabelMaxWidth",a.dataPoint,a.dataSeries),h=Y("indexLabelWrap",a.dataPoint,a.dataSeries);var A=Y("indexLabelLineDashType",a.dataPoint,a.dataSeries),B=Y("indexLabelLineColor",a.dataPoint,a.dataSeries),x=null==a.dataPoint.indexLabelLineThickness?null==a.dataSeries.options.indexLabelLineThickness?0:a.dataSeries.options.indexLabelLineThickness:a.dataPoint.indexLabelLineThickness,s=0<x?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,o={percent:null,total:null},j=null;(0<=a.dataSeries.type.indexOf("stacked")||"pie"===a.dataSeries.type||"doughnut"===a.dataSeries.type)&&(o=this.getPercentAndTotal(a.dataSeries,a.dataPoint)),(a.dataSeries.indexLabelFormatter||a.dataPoint.indexLabelFormatter)&&(j={chart:this,dataSeries:a.dataSeries,dataPoint:a.dataPoint,index:a.indexKeyword,total:o.total,percent:o.percent});var y=a.dataPoint.indexLabelFormatter?a.dataPoint.indexLabelFormatter(j):a.dataPoint.indexLabel?this.replaceKeywordsWithValue(a.dataPoint.indexLabel,a.dataPoint,a.dataSeries,null,a.indexKeyword):a.dataSeries.indexLabelFormatter?a.dataSeries.indexLabelFormatter(j):a.dataSeries.indexLabel?this.replaceKeywordsWithValue(a.dataSeries.indexLabel,a.dataPoint,a.dataSeries,null,a.indexKeyword):null;if(null!==y&&""!==y){var o=Y("indexLabelPlacement",a.dataPoint,a.dataSeries),j=Y("indexLabelOrientation",a.dataPoint,a.dataSeries),C=Y("indexLabelTextAlign",a.dataPoint,a.dataSeries),v=a.direction,f=a.dataSeries.axisX,l=a.dataSeries.axisY,w=!1,t=new m(q,{x:0,y:0,maxWidth:r||.5*this.width,maxHeight:h?5*e:1.5*e,angle:"horizontal"===j?0:-90,text:y,padding:0,backgroundColor:t,textAlign:C,fontSize:e,fontFamily:k,fontWeight:g,fontColor:p,fontStyle:n,textBaseline:"middle"});if(t.measureText(),a.dataSeries.indexLabelMaxWidth=t.maxWidth,"stackedarea100"===c){if(a.point.x<d.x1||a.point.x>d.x2||a.point.y<d.y1-1||a.point.y>d.y2+1)continue}else if("rangearea"===c||"rangesplinearea"===c){if(a.dataPoint.x<f.viewportMinimum||a.dataPoint.x>f.viewportMaximum||Math.max.apply(null,a.dataPoint.y)<l.viewportMinimum||Math.min.apply(null,a.dataPoint.y)>l.viewportMaximum)continue}else if(0<=c.indexOf("line")||0<=c.indexOf("area")||0<=c.indexOf("bubble")||0<=c.indexOf("scatter")){if(a.dataPoint.x<f.viewportMinimum||a.dataPoint.x>f.viewportMaximum||a.dataPoint.y<l.viewportMinimum||a.dataPoint.y>l.viewportMaximum)continue}else if(0<=c.indexOf("column")||"waterfall"===c||"error"===c&&!a.axisSwapped){if(a.dataPoint.x<f.viewportMinimum||a.dataPoint.x>f.viewportMaximum||a.bounds.y1>d.y2||a.bounds.y2<d.y1)continue}else if(0<=c.indexOf("bar")||"error"===c){if(a.dataPoint.x<f.viewportMinimum||a.dataPoint.x>f.viewportMaximum||a.bounds.x1>d.x2||a.bounds.x2<d.x1)continue}else if("candlestick"===c||"ohlc"===c){if(a.dataPoint.x<f.viewportMinimum||a.dataPoint.x>f.viewportMaximum||Math.max.apply(null,a.dataPoint.y)<l.viewportMinimum||Math.min.apply(null,a.dataPoint.y)>l.viewportMaximum)continue}else if(a.dataPoint.x<f.viewportMinimum||a.dataPoint.x>f.viewportMaximum)continue;p=k=2,"horizontal"===j?(n=t.width,g=t.height):(g=t.width,n=t.height),"normal"===this.plotInfo.axisPlacement?(0<=c.indexOf("line")||0<=c.indexOf("area")?(o="auto",k=4):0<=c.indexOf("stacked")?"auto"===o&&(o="inside"):("bubble"===c||"scatter"===c)&&(o="inside"),r=a.point.x-("horizontal"===j?n/2:n/2-e/2),"inside"!==o?(f=d.y1,l=d.y2,0<v?(h=a.point.y+("horizontal"===j?e/2:0)-g-k-s)<f&&(w=(h="auto"===o?Math.max(a.point.y,f)+e/2+k:f+e/2+k)+g>a.point.y):(h=a.point.y+e/2+k+s)>l-g&&(w=(h="auto"===o?Math.min(a.point.y,l)+e/2-g-k:l+e/2-g)<a.point.y)):(f=Math.max(a.bounds.y1,d.y1),l=Math.min(a.bounds.y2,d.y2-g+e/2),s=0<=c.indexOf("range")||"error"===c?0<v?Math.max(a.bounds.y1,d.y1)+e/2+k:Math.min(a.bounds.y2,d.y2)+e/2-g+k:(Math.max(a.bounds.y1,d.y1)+Math.min(a.bounds.y2,d.y2))/2-g/2+e/2+("horizontal"===j?k:0),0<v?(h=Math.max(a.point.y,s))<f&&("bubble"===c||"scatter"===c)&&(h=Math.max(a.point.y-g-k,d.y1+k)):(h=Math.min(a.point.y,s))>l-g-k&&("bubble"===c||"scatter"===c)&&(h=Math.min(a.point.y+k,d.y2-g-k)),h=Math.min(h,l))):(0<=c.indexOf("line")||0<=c.indexOf("area")||0<=c.indexOf("scatter")?(o="auto",p=4):0<=c.indexOf("stacked")?"auto"===o&&(o="inside"):"bubble"===c&&(o="inside"),h=a.point.y+e/2-g/2+k,"inside"!==o?(f=d.x1,l=d.x2,0>v?(r=a.point.x-("horizontal"===j?n:n-e/2)-p-s)<f&&(w=(r="auto"===o?Math.max(a.point.x,f)+p:f+p)+n>a.point.x):(r=a.point.x+("horizontal"===j?0:e/2)+p+s)>l-n-p-s&&(w=(r="auto"===o?Math.min(a.point.x,l)-("horizontal"===j?n:n/2)-p:l-n-p)<a.point.x)):(f=Math.max(a.bounds.x1,d.x1),a.bounds.x2,d.x2,s=0<=c.indexOf("range")||"error"===c?0>v?Math.max(a.bounds.x1,d.x1)+e/2+p:Math.min(a.bounds.x2,d.x2)-n/2-p+("horizontal"===j?0:e/2):(Math.max(a.bounds.x1,d.x1)+Math.min(a.bounds.x2,d.x2))/2+("horizontal"===j?0:e/2),r=0>v?Math.max(a.point.x,s)-("horizontal"===j?n/2:0):Math.min(a.point.x,s)-n/2,r=Math.max(r,f))),"vertical"===j&&(h+=g-e/2),t.x=r,t.y=h,t.render(!0),x&&"inside"!==o&&(0>c.indexOf("bar")&&("error"!==c||!a.axisSwapped)&&a.point.x>d.x1&&a.point.x<d.x2||!w)&&(0>c.indexOf("column")&&("error"!==c||a.axisSwapped)&&a.point.y>d.y1&&a.point.y<d.y2||!w)&&(q.lineWidth=x,q.strokeStyle=B||"gray",q.setLineDash&&q.setLineDash(V(A,x)),q.beginPath(),q.moveTo(a.point.x,a.point.y),0<=c.indexOf("bar")||"error"===c&&a.axisSwapped?q.lineTo(r+(0<a.direction?-p:n+p)+("vertical"===j?-e/2:0),h+("vertical"===j?-g/2:g/2-e/2)-k):0<=c.indexOf("column")||"error"===c&&!a.axisSwapped?q.lineTo(r+n/2-("horizontal"===j?0:e/2),h+("vertical"===j?(h-g<a.point.y?0:-g)+k:(h-e/2<a.point.y?g:0)-e/2)):q.lineTo(r+n/2-("horizontal"===j?0:e/2),h+("vertical"===j?h-g<a.point.y?0:-g:(h-e/2<a.point.y?g:0)-e/2)),q.stroke())}}for(u=0,q={source:q,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0,startTimePercent:.7};u<this._indexLabels.length;u++)z=t=Y("indexLabelBackgroundColor",(a=this._indexLabels[u]).dataPoint,a.dataSeries),a.dataSeries.indexLabelBackgroundColor=null==z?i?"transparent":null:t;return q},a.prototype.renderLine=function(h){var r=h.targetCanvasCtx||this.plotArea.ctx,a=i?this._preRenderCtx:r;if(!(0>=h.dataSeriesIndexes.length)){var j=this._eventManager.ghostCtx;a.save();var l=this.plotArea;a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip();for(var s,t=[],u=0;u<h.dataSeriesIndexes.length;u++){var v=h.dataSeriesIndexes[u],c=this.data[v];a.lineWidth=c.lineThickness;var e=c.dataPoints,m="solid";if(a.setLineDash){var y=V(c.nullDataLineDashType,c.lineThickness),m=c.lineDashType,x=V(m,c.lineThickness);a.setLineDash(x)}var k=c.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:v},k=R(k),j.strokeStyle=k,j.lineWidth=0<c.lineThickness?Math.max(c.lineThickness,4):0;var k=c._colorSet,w=k=c.lineColor=c.options.lineColor?c.options.lineColor:k[0];a.strokeStyle=k;var f,g,p=!0,d=0;if(a.beginPath(),0<e.length){for(var o=!1,d=0;d<e.length;d++)if(!((f=e[d].x.getTime?e[d].x.getTime():e[d].x)<h.axisX.dataInfo.viewPortMin||f>h.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!o))){if("number"!=typeof e[d].y)0<d&&!(c.connectNullData||o||p)&&(a.stroke(),i&&j.stroke()),o=!0;else{f=h.axisX.convertValueToPixel(f),g=h.axisY.convertValueToPixel(e[d].y);var n=c.dataPointIds[d];if(this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:d,x1:f,y1:g},p||o?(!p&&c.connectNullData?(a.setLineDash&&(c.options.nullDataLineDashType||m===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(a.stroke(),a.beginPath(),a.moveTo(s.x,s.y),m=c.nullDataLineDashType,a.setLineDash(y)),a.lineTo(f,g),i&&j.lineTo(f,g)):(a.beginPath(),a.moveTo(f,g),i&&(j.beginPath(),j.moveTo(f,g))),o=p=!1):(a.lineTo(f,g),i&&j.lineTo(f,g),0==d%500&&(a.stroke(),a.beginPath(),a.moveTo(f,g),i&&(j.stroke(),j.beginPath(),j.moveTo(f,g)))),s={x:f,y:g},d<e.length-1&&(w!==(e[d].lineColor||k)||m!==(e[d].lineDashType||c.lineDashType))&&(a.stroke(),a.beginPath(),a.moveTo(f,g),w=e[d].lineColor||k,a.strokeStyle=w,a.setLineDash&&(e[d].lineDashType?(m=e[d].lineDashType,a.setLineDash(V(m,c.lineThickness))):(m=c.lineDashType,a.setLineDash(x)))),0<e[d].markerSize||0<c.markerSize){var q=c.getMarkerProperties(d,f,g,a);t.push(q),n=R(n),i&&t.push({x:f,y:g,ctx:j,type:q.type,size:q.size,color:n,borderColor:n,borderThickness:q.borderThickness})}(e[d].indexLabel||c.indexLabel||e[d].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:e[d],dataSeries:c,point:{x:f,y:g},direction:0>e[d].y===h.axisY.reversed?1:-1,color:k})}}a.stroke(),i&&j.stroke()}}return F.drawMarkers(t),i&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",h.axisX.maskCanvas&&a.drawImage(h.axisX.maskCanvas,0,0,this.width,this.height),h.axisY.maskCanvas&&a.drawImage(h.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(l.x1,l.y1,l.width,l.height),j.beginPath()),a.restore(),a.beginPath(),{source:r,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderStepLine=function(j){var r=j.targetCanvasCtx||this.plotArea.ctx,a=i?this._preRenderCtx:r;if(!(0>=j.dataSeriesIndexes.length)){var h=this._eventManager.ghostCtx;a.save();var m=this.plotArea;a.beginPath(),a.rect(m.x1,m.y1,m.width,m.height),a.clip();for(var s,t=[],u=0;u<j.dataSeriesIndexes.length;u++){var v=j.dataSeriesIndexes[u],c=this.data[v];a.lineWidth=c.lineThickness;var f=c.dataPoints,n="solid";if(a.setLineDash){var y=V(c.nullDataLineDashType,c.lineThickness),n=c.lineDashType,x=V(n,c.lineThickness);a.setLineDash(x)}var k=c.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:v},k=R(k),h.strokeStyle=k,h.lineWidth=0<c.lineThickness?Math.max(c.lineThickness,4):0;var k=c._colorSet,w=k=c.lineColor=c.options.lineColor?c.options.lineColor:k[0];a.strokeStyle=k;var e,g,q=!0,d=0;if(a.beginPath(),0<f.length){for(var p=!1,d=0;d<f.length;d++)if(!((e=f[d].getTime?f[d].x.getTime():f[d].x)<j.axisX.dataInfo.viewPortMin||e>j.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!p))){if("number"!=typeof f[d].y)0<d&&!(c.connectNullData||p||q)&&(a.stroke(),i&&h.stroke()),p=!0;else{var l=g;e=j.axisX.convertValueToPixel(e),g=j.axisY.convertValueToPixel(f[d].y);var o=c.dataPointIds[d];this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:d,x1:e,y1:g},q||p?(!q&&c.connectNullData?(a.setLineDash&&(c.options.nullDataLineDashType||n===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(a.stroke(),a.beginPath(),a.moveTo(s.x,s.y),n=c.nullDataLineDashType,a.setLineDash(y)),a.lineTo(e,l),a.lineTo(e,g),i&&(h.lineTo(e,l),h.lineTo(e,g))):(a.beginPath(),a.moveTo(e,g),i&&(h.beginPath(),h.moveTo(e,g))),p=q=!1):(a.lineTo(e,l),i&&h.lineTo(e,l),a.lineTo(e,g),i&&h.lineTo(e,g),0==d%500&&(a.stroke(),a.beginPath(),a.moveTo(e,g),i&&(h.stroke(),h.beginPath(),h.moveTo(e,g)))),s={x:e,y:g},d<f.length-1&&(w!==(f[d].lineColor||k)||n!==(f[d].lineDashType||c.lineDashType))&&(a.stroke(),a.beginPath(),a.moveTo(e,g),w=f[d].lineColor||k,a.strokeStyle=w,a.setLineDash&&(f[d].lineDashType?(n=f[d].lineDashType,a.setLineDash(V(n,c.lineThickness))):(n=c.lineDashType,a.setLineDash(x)))),(0<f[d].markerSize||0<c.markerSize)&&(l=c.getMarkerProperties(d,e,g,a),t.push(l),o=R(o),i&&t.push({x:e,y:g,ctx:h,type:l.type,size:l.size,color:o,borderColor:o,borderThickness:l.borderThickness})),(f[d].indexLabel||c.indexLabel||f[d].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:f[d],dataSeries:c,point:{x:e,y:g},direction:0>f[d].y===j.axisY.reversed?1:-1,color:k})}}a.stroke(),i&&h.stroke()}}return F.drawMarkers(t),i&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",j.axisX.maskCanvas&&a.drawImage(j.axisX.maskCanvas,0,0,this.width,this.height),j.axisY.maskCanvas&&a.drawImage(j.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(m.x1,m.y1,m.width,m.height),h.beginPath()),a.restore(),a.beginPath(),{source:r,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderSpline=function(g){function v(a){if(0<(a=A(a,2)).length){e.beginPath(),i&&o.beginPath(),e.moveTo(a[0].x,a[0].y),a[0].newStrokeStyle&&(e.strokeStyle=a[0].newStrokeStyle),a[0].newLineDashArray&&e.setLineDash(a[0].newLineDashArray),i&&o.moveTo(a[0].x,a[0].y);for(var c=0;c<a.length-3;c+=3)e.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y),i&&o.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y),(0<c&&0==c%3e3||a[c+3].newStrokeStyle||a[c+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(a[c+3].x,a[c+3].y),a[c+3].newStrokeStyle&&(e.strokeStyle=a[c+3].newStrokeStyle),a[c+3].newLineDashArray&&e.setLineDash(a[c+3].newLineDashArray),i&&(o.stroke(),o.beginPath(),o.moveTo(a[c+3].x,a[c+3].y)));e.stroke(),i&&o.stroke()}}var q=g.targetCanvasCtx||this.plotArea.ctx,e=i?this._preRenderCtx:q;if(!(0>=g.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx;e.save();var l=this.plotArea;e.beginPath(),e.rect(l.x1,l.y1,l.width,l.height),e.clip();for(var r=[],s=0;s<g.dataSeriesIndexes.length;s++){var t=g.dataSeriesIndexes[s],a=this.data[t];e.lineWidth=a.lineThickness;var d=a.dataPoints,m="solid";if(e.setLineDash){var x=V(a.nullDataLineDashType,a.lineThickness),m=a.lineDashType,w=V(m,a.lineThickness);e.setLineDash(w)}var h=a.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:t},h=R(h),o.strokeStyle=h,o.lineWidth=0<a.lineThickness?Math.max(a.lineThickness,4):0;var h=a._colorSet,u=h=a.lineColor=a.options.lineColor?a.options.lineColor:h[0];e.strokeStyle=h;var k,j,c=0,f=[];if(e.beginPath(),0<d.length){for(j=!1,c=0;c<d.length;c++)if(!((k=d[c].getTime?d[c].x.getTime():d[c].x)<g.axisX.dataInfo.viewPortMin||k>g.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!j))){if("number"!=typeof d[c].y)0<c&&!j&&(a.connectNullData?e.setLineDash&&0<f.length&&(a.options.nullDataLineDashType||!d[c-1].lineDashType)&&(f[f.length-1].newLineDashArray=x,m=a.nullDataLineDashType):(v(f),f=[])),j=!0;else{k=g.axisX.convertValueToPixel(k),j=g.axisY.convertValueToPixel(d[c].y);var n=a.dataPointIds[c];if(this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:t,dataPointIndex:c,x1:k,y1:j},f[f.length]={x:k,y:j},c<d.length-1&&(u!==(d[c].lineColor||h)||m!==(d[c].lineDashType||a.lineDashType))&&(u=d[c].lineColor||h,f[f.length-1].newStrokeStyle=u,e.setLineDash&&(d[c].lineDashType?(m=d[c].lineDashType,f[f.length-1].newLineDashArray=V(m,a.lineThickness)):(m=a.lineDashType,f[f.length-1].newLineDashArray=w))),0<d[c].markerSize||0<a.markerSize){var p=a.getMarkerProperties(c,k,j,e);r.push(p),n=R(n),i&&r.push({x:k,y:j,ctx:o,type:p.type,size:p.size,color:n,borderColor:n,borderThickness:p.borderThickness})}(d[c].indexLabel||a.indexLabel||d[c].indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:d[c],dataSeries:a,point:{x:k,y:j},direction:0>d[c].y===g.axisY.reversed?1:-1,color:h}),j=!1}}}v(f)}return F.drawMarkers(r),i&&(q.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&e.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&e.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(l.x1,l.y1,l.width,l.height),o.beginPath()),e.restore(),e.beginPath(),{source:q,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderColumn=function(a){var q=a.targetCanvasCtx||this.plotArea.ctx,m=i?this._preRenderCtx:q;if(!(0>=a.dataSeriesIndexes.length)){var f,h,r,k=null,g=this.plotArea,c=0,p=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,j=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/a.plotType.totalDataSeries))<<0,e=a.axisX.dataInfo.minDiff;for(isFinite(e)||(e=.3*Math.abs(a.axisX.range)),e=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:.9*(g.width*(a.axisX.logarithmic?Math.log(e)/Math.log(a.axisX.range):Math.abs(e)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&c>j&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,j)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&j<c&&(j=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),e<c&&(e=c),e>j&&(e=j),m.save(),i&&this._eventManager.ghostCtx.save(),m.beginPath(),m.rect(g.x1,g.y1,g.width,g.height),m.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip()),j=0;j<a.dataSeriesIndexes.length;j++){var s=a.dataSeriesIndexes[j],n=this.data[s],d=n.dataPoints;if(0<d.length){for(var t=5<e&&!!n.bevelEnabled,c=0;c<d.length;c++)if(!((r=d[c].getTime?d[c].x.getTime():d[c].x)<a.axisX.dataInfo.viewPortMin||r>a.axisX.dataInfo.viewPortMax)&&"number"==typeof d[c].y){f=a.axisX.convertValueToPixel(r),h=a.axisY.convertValueToPixel(d[c].y),f=a.axisX.reversed?f+a.plotType.totalDataSeries*e/2-(a.previousDataSeriesCount+j)*e<<0:f-a.plotType.totalDataSeries*e/2+(a.previousDataSeriesCount+j)*e<<0;var l,o=a.axisX.reversed?f-e<<0:f+e<<0;0<=d[c].y?l=p:(l=h,h=p),h>l&&(k=h,h=l,l=k),k=d[c].color?d[c].color:n._colorSet[c%n._colorSet.length],au(m,a.axisX.reversed?o:f,h,a.axisX.reversed?f:o,l,k,0,null,t&&(a.axisY.reversed?0>d[c].y:0<=d[c].y),(a.axisY.reversed?0<=d[c].y:0>d[c].y)&&t,!1,!1,n.fillOpacity),k=n.dataPointIds[c],this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:c,x1:f,y1:h,x2:o,y2:l},k=R(k),i&&au(this._eventManager.ghostCtx,a.axisX.reversed?o:f,h,a.axisX.reversed?f:o,l,k,0,null,!1,!1,!1,!1),(d[c].indexLabel||n.indexLabel||d[c].indexLabelFormatter||n.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:d[c],dataSeries:n,point:{x:f+(o-f)/2,y:0>d[c].y===a.axisY.reversed?h:l},direction:0>d[c].y===a.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(h,l),x2:o,y2:Math.max(h,l)},color:k})}}}return i&&(q.drawImage(this._preRenderCanvas,0,0,this.width,this.height),m.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&m.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&m.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),m.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),m.restore(),{source:q,dest:this.plotArea.ctx,animationCallback:E.yScaleAnimation,easingFunction:E.easing.easeOutQuart,animationBase:p<a.axisY.bounds.y1?a.axisY.bounds.y1:p>a.axisY.bounds.y2?a.axisY.bounds.y2:p}}},a.prototype.renderStackedColumn=function(a){var v=a.targetCanvasCtx||this.plotArea.ctx,k=i?this._preRenderCtx:v;if(!(0>=a.dataSeriesIndexes.length)){var l,f,d=null,h=this.plotArea,o=[],p=[],r=[],t=[],c=0,n=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var j=a.axisX.dataInfo.minDiff;isFinite(j)||(j=.3*Math.abs(a.axisX.range)),j=this.options.dataPointWidth?this.dataPointWidth:.9*(h.width*(a.axisX.logarithmic?Math.log(j)/Math.log(a.axisX.range):Math.abs(j)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&c>l&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<c&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),j<c&&(j=c),j>l&&(j=l),k.save(),i&&this._eventManager.ghostCtx.save(),k.beginPath(),k.rect(h.x1,h.y1,h.width,h.height),k.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var w=0;w<a.dataSeriesIndexes.length;w++){var x=a.dataSeriesIndexes[w],m=this.data[x],e=m.dataPoints;if(0<e.length){var y=5<j&&!!m.bevelEnabled;for(c=0,k.strokeStyle="#4572A7 ";c<e.length;c++)if(!((d=e[c].x.getTime?e[c].x.getTime():e[c].x)<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof e[c].y){var g,s=(l=a.axisX.convertValueToPixel(d))-a.plotType.plotUnits.length*j/2+a.index*j<<0,u=s+j<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<e[c].y)r[d]=e[c].y+(r[d]?r[d]:0),0<r[d]&&(f=a.axisY.convertValueToPixel(r[d]),g=void 0!==o[d]?o[d]:n,o[d]=f);else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=e[c].y)t[d]=e[c].y+(t[d]?t[d]:0),g=a.axisY.convertValueToPixel(t[d]),f=void 0!==p[d]?p[d]:n,p[d]=g;else if(f=a.axisY.convertValueToPixel(e[c].y),0<=e[c].y){var q=void 0!==o[d]?o[d]:0;f-=q,g=n-q,o[d]=q+(g-f)}else g=f+(q=p[d]?p[d]:0),f=n+q,p[d]=q+(g-f);d=e[c].color?e[c].color:m._colorSet[c%m._colorSet.length],au(k,s,a.axisY.reversed?g:f,u,a.axisY.reversed?f:g,d,0,null,y&&(a.axisY.reversed?0>e[c].y:0<=e[c].y),(a.axisY.reversed?0<=e[c].y:0>e[c].y)&&y,!1,!1,m.fillOpacity),d=m.dataPointIds[c],this._eventManager.objectMap[d]={id:d,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:c,x1:s,y1:f,x2:u,y2:g},d=R(d),i&&au(this._eventManager.ghostCtx,s,f,u,g,d,0,null,!1,!1,!1,!1),(e[c].indexLabel||m.indexLabel||e[c].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:e[c],dataSeries:m,point:{x:l,y:0<=e[c].y?f:g},direction:0>e[c].y===a.axisY.reversed?1:-1,bounds:{x1:s,y1:Math.min(f,g),x2:u,y2:Math.max(f,g)},color:d})}}}return i&&(v.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&k.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&k.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),k.restore(),{source:v,dest:this.plotArea.ctx,animationCallback:E.yScaleAnimation,easingFunction:E.easing.easeOutQuart,animationBase:n<a.axisY.bounds.y1?a.axisY.bounds.y1:n>a.axisY.bounds.y2?a.axisY.bounds.y2:n}}},a.prototype.renderStackedColumn100=function(a){var w=a.targetCanvasCtx||this.plotArea.ctx,k=i?this._preRenderCtx:w;if(!(0>=a.dataSeriesIndexes.length)){var l,e,c=null,g=this.plotArea,o=[],p=[],r=[],u=[],d=0,n=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var j=a.axisX.dataInfo.minDiff;isFinite(j)||(j=.3*Math.abs(a.axisX.range)),j=this.options.dataPointWidth?this.dataPointWidth:.9*(g.width*(a.axisX.logarithmic?Math.log(j)/Math.log(a.axisX.range):Math.abs(j)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&d>l&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<d&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),j<d&&(j=d),j>l&&(j=l),k.save(),i&&this._eventManager.ghostCtx.save(),k.beginPath(),k.rect(g.x1,g.y1,g.width,g.height),k.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var s=0;s<a.dataSeriesIndexes.length;s++){var x=a.dataSeriesIndexes[s],m=this.data[x],f=m.dataPoints;if(0<f.length){for(var y=5<j&&!!m.bevelEnabled,d=0;d<f.length;d++)if(!((c=f[d].x.getTime?f[d].x.getTime():f[d].x)<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"==typeof f[d].y){l=a.axisX.convertValueToPixel(c),e=0!==a.dataPointYSums[c]?100*(f[d].y/a.dataPointYSums[c]):0;var h,t=l-a.plotType.plotUnits.length*j/2+a.index*j<<0,v=t+j<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<f[d].y){if(r[c]=e+(void 0!==r[c]?r[c]:0),0>=r[c])continue;e=a.axisY.convertValueToPixel(r[c]),h=o[c]?o[c]:n,o[c]=e}else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=f[d].y)u[c]=e+(void 0!==u[c]?u[c]:0),h=a.axisY.convertValueToPixel(u[c]),e=p[c]?p[c]:n,p[c]=h;else if(e=a.axisY.convertValueToPixel(e),0<=f[d].y){var q=void 0!==o[c]?o[c]:0;e-=q,h=n-q,a.dataSeriesIndexes.length-1===s&&1>=Math.abs(g.y1-e)&&(e=g.y1),o[c]=q+(h-e)}else h=e+(q=void 0!==p[c]?p[c]:0),e=n+q,a.dataSeriesIndexes.length-1===s&&1>=Math.abs(g.y2-h)&&(h=g.y2),p[c]=q+(h-e);c=f[d].color?f[d].color:m._colorSet[d%m._colorSet.length],au(k,t,a.axisY.reversed?h:e,v,a.axisY.reversed?e:h,c,0,null,y&&(a.axisY.reversed?0>f[d].y:0<=f[d].y),(a.axisY.reversed?0<=f[d].y:0>f[d].y)&&y,!1,!1,m.fillOpacity),c=m.dataPointIds[d],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:d,x1:t,y1:e,x2:v,y2:h},c=R(c),i&&au(this._eventManager.ghostCtx,t,e,v,h,c,0,null,!1,!1,!1,!1),(f[d].indexLabel||m.indexLabel||f[d].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:f[d],dataSeries:m,point:{x:l,y:0<=f[d].y?e:h},direction:0>f[d].y===a.axisY.reversed?1:-1,bounds:{x1:t,y1:Math.min(e,h),x2:v,y2:Math.max(e,h)},color:c})}}}return i&&(w.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&k.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&k.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),k.restore(),{source:w,dest:this.plotArea.ctx,animationCallback:E.yScaleAnimation,easingFunction:E.easing.easeOutQuart,animationBase:n<a.axisY.bounds.y1?a.axisY.bounds.y1:n>a.axisY.bounds.y2?a.axisY.bounds.y2:n}}},a.prototype.renderBar=function(a){var q=a.targetCanvasCtx||this.plotArea.ctx,j=i?this._preRenderCtx:q;if(!(0>=a.dataSeriesIndexes.length)){var k,f,r,l=null,g=this.plotArea,c=0,p=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/a.plotType.totalDataSeries))<<0,d=a.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(a.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:.9*(g.height*(a.axisX.logarithmic?Math.log(d)/Math.log(a.axisX.range):Math.abs(d)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&c>h&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<c&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),d<c&&(d=c),d>h&&(d=h),j.save(),i&&this._eventManager.ghostCtx.save(),j.beginPath(),j.rect(g.x1,g.y1,g.width,g.height),j.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip()),h=0;h<a.dataSeriesIndexes.length;h++){var s=a.dataSeriesIndexes[h],m=this.data[s],e=m.dataPoints;if(0<e.length){var t=5<d&&!!m.bevelEnabled;for(c=0,j.strokeStyle="#4572A7 ";c<e.length;c++)if(!((r=e[c].getTime?e[c].x.getTime():e[c].x)<a.axisX.dataInfo.viewPortMin||r>a.axisX.dataInfo.viewPortMax)&&"number"==typeof e[c].y){f=a.axisX.convertValueToPixel(r),k=a.axisY.convertValueToPixel(e[c].y),f=a.axisX.reversed?f+a.plotType.totalDataSeries*d/2-(a.previousDataSeriesCount+h)*d<<0:f-a.plotType.totalDataSeries*d/2+(a.previousDataSeriesCount+h)*d<<0;var n,o=a.axisX.reversed?f-d<<0:f+d<<0;0<=e[c].y?n=p:(n=k,k=p),l=e[c].color?e[c].color:m._colorSet[c%m._colorSet.length],au(j,a.axisY.reversed?k:n,a.axisX.reversed?o:f,a.axisY.reversed?n:k,a.axisX.reversed?f:o,l,0,null,t,!1,!1,!1,m.fillOpacity),l=m.dataPointIds[c],this._eventManager.objectMap[l]={id:l,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:c,x1:n,y1:f,x2:k,y2:o},l=R(l),i&&au(this._eventManager.ghostCtx,n,a.axisX.reversed?o:f,k,a.axisX.reversed?f:o,l,0,null,!1,!1,!1,!1),(e[c].indexLabel||m.indexLabel||e[c].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:e[c],dataSeries:m,point:{x:0<=e[c].y?k:n,y:f+(o-f)/2},direction:0>e[c].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(n,k),y1:f,x2:Math.max(n,k),y2:o},color:l})}}}return i&&(q.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&j.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&j.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:q,dest:this.plotArea.ctx,animationCallback:E.xScaleAnimation,easingFunction:E.easing.easeOutQuart,animationBase:p<a.axisY.bounds.x1?a.axisY.bounds.x1:p>a.axisY.bounds.x2?a.axisY.bounds.x2:p}}},a.prototype.renderStackedBar=function(a){var v=a.targetCanvasCtx||this.plotArea.ctx,k=i?this._preRenderCtx:v;if(!(0>=a.dataSeriesIndexes.length)){var f,l,c=null,g=this.plotArea,o=[],p=[],r=[],t=[],d=0,n=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var h=a.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(a.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:.9*(g.height*(a.axisX.logarithmic?Math.log(h)/Math.log(a.axisX.range):Math.abs(h)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&d>l&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<d&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),h<d&&(h=d),h>l&&(h=l),k.save(),i&&this._eventManager.ghostCtx.save(),k.beginPath(),k.rect(g.x1,g.y1,g.width,g.height),k.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var w=0;w<a.dataSeriesIndexes.length;w++){var x=a.dataSeriesIndexes[w],m=this.data[x],e=m.dataPoints;if(0<e.length){var y=5<h&&!!m.bevelEnabled;for(d=0,k.strokeStyle="#4572A7 ";d<e.length;d++)if(!((c=e[d].x.getTime?e[d].x.getTime():e[d].x)<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"==typeof e[d].y){var j,s=(l=a.axisX.convertValueToPixel(c))-a.plotType.plotUnits.length*h/2+a.index*h<<0,u=s+h<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<e[d].y)r[c]=e[d].y+(r[c]?r[c]:0),0<r[c]&&(j=o[c]?o[c]:n,o[c]=f=a.axisY.convertValueToPixel(r[c]));else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=e[d].y)t[c]=e[d].y+(t[c]?t[c]:0),f=p[c]?p[c]:n,p[c]=j=a.axisY.convertValueToPixel(t[c]);else if(f=a.axisY.convertValueToPixel(e[d].y),0<=e[d].y){var q=o[c]?o[c]:0;j=n+q,f+=q,o[c]=q+(f-j)}else j=f-(q=p[c]?p[c]:0),f=n-q,p[c]=q+(f-j);c=e[d].color?e[d].color:m._colorSet[d%m._colorSet.length],au(k,a.axisY.reversed?f:j,s,a.axisY.reversed?j:f,u,c,0,null,y,!1,!1,!1,m.fillOpacity),c=m.dataPointIds[d],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:d,x1:j,y1:s,x2:f,y2:u},c=R(c),i&&au(this._eventManager.ghostCtx,j,s,f,u,c,0,null,!1,!1,!1,!1),(e[d].indexLabel||m.indexLabel||e[d].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:e[d],dataSeries:m,point:{x:0<=e[d].y?f:j,y:l},direction:0>e[d].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(j,f),y1:s,x2:Math.max(j,f),y2:u},color:c})}}}return i&&(v.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&k.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&k.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),k.restore(),{source:v,dest:this.plotArea.ctx,animationCallback:E.xScaleAnimation,easingFunction:E.easing.easeOutQuart,animationBase:n<a.axisY.bounds.x1?a.axisY.bounds.x1:n>a.axisY.bounds.x2?a.axisY.bounds.x2:n}}},a.prototype.renderStackedBar100=function(a){var w=a.targetCanvasCtx||this.plotArea.ctx,k=i?this._preRenderCtx:w;if(!(0>=a.dataSeriesIndexes.length)){var f,l,c=null,g=this.plotArea,o=[],p=[],r=[],u=[],d=0,n=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var j=a.axisX.dataInfo.minDiff;isFinite(j)||(j=.3*Math.abs(a.axisX.range)),j=this.options.dataPointWidth?this.dataPointWidth:.9*(g.height*(a.axisX.logarithmic?Math.log(j)/Math.log(a.axisX.range):Math.abs(j)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&d>l&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<d&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),j<d&&(j=d),j>l&&(j=l),k.save(),i&&this._eventManager.ghostCtx.save(),k.beginPath(),k.rect(g.x1,g.y1,g.width,g.height),k.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var s=0;s<a.dataSeriesIndexes.length;s++){var x=a.dataSeriesIndexes[s],m=this.data[x],h=m.dataPoints;if(0<h.length){var y=5<j&&!!m.bevelEnabled;for(d=0,k.strokeStyle="#4572A7 ";d<h.length;d++)if(!((c=h[d].x.getTime?h[d].x.getTime():h[d].x)<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"==typeof h[d].y){l=a.axisX.convertValueToPixel(c),e=0!==a.dataPointYSums[c]?100*(h[d].y/a.dataPointYSums[c]):0;var e,t=l-a.plotType.plotUnits.length*j/2+a.index*j<<0,v=t+j<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<h[d].y){if(r[c]=e+(r[c]?r[c]:0),0>=r[c])continue;e=o[c]?o[c]:n,o[c]=f=a.axisY.convertValueToPixel(r[c])}else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=h[d].y)u[c]=e+(u[c]?u[c]:0),f=p[c]?p[c]:n,p[c]=e=a.axisY.convertValueToPixel(u[c]);else if(f=a.axisY.convertValueToPixel(e),0<=h[d].y){var q=o[c]?o[c]:0;e=n+q,f+=q,a.dataSeriesIndexes.length-1===s&&1>=Math.abs(g.x2-f)&&(f=g.x2),o[c]=q+(f-e)}else e=f-(q=p[c]?p[c]:0),f=n-q,a.dataSeriesIndexes.length-1===s&&1>=Math.abs(g.x1-e)&&(e=g.x1),p[c]=q+(f-e);c=h[d].color?h[d].color:m._colorSet[d%m._colorSet.length],au(k,a.axisY.reversed?f:e,t,a.axisY.reversed?e:f,v,c,0,null,y,!1,!1,!1,m.fillOpacity),c=m.dataPointIds[d],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:d,x1:e,y1:t,x2:f,y2:v},c=R(c),i&&au(this._eventManager.ghostCtx,e,t,f,v,c,0,null,!1,!1,!1,!1),(h[d].indexLabel||m.indexLabel||h[d].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:h[d],dataSeries:m,point:{x:0<=h[d].y?f:e,y:l},direction:0>h[d].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(e,f),y1:t,x2:Math.max(e,f),y2:v},color:c})}}}return i&&(w.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&k.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&k.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),k.restore(),{source:w,dest:this.plotArea.ctx,animationCallback:E.xScaleAnimation,easingFunction:E.easing.easeOutQuart,animationBase:n<a.axisY.bounds.x1?a.axisY.bounds.x1:n>a.axisY.bounds.x2?a.axisY.bounds.x2:n}}},a.prototype.renderArea=function(f){function q(){y&&(0<a.lineThickness&&c.stroke(),f.axisY.logarithmic||0>=f.axisY.viewportMinimum&&0<=f.axisY.viewportMaximum?C=D:0>f.axisY.viewportMaximum?C=B.y1:0<f.axisY.viewportMinimum&&(C=D),c.lineTo(g,C),c.lineTo(y.x,C),c.closePath(),c.globalAlpha=a.fillOpacity,c.fill(),c.globalAlpha=1,i&&(l.lineTo(g,C),l.lineTo(y.x,C),l.closePath(),l.fill()),c.beginPath(),c.moveTo(g,h),l.beginPath(),l.moveTo(g,h),y={x:g,y:h})}var t=f.targetCanvasCtx||this.plotArea.ctx,c=i?this._preRenderCtx:t;if(!(0>=f.dataSeriesIndexes.length)){var o,k,p,l=this._eventManager.ghostCtx,B=f.axisY.lineCoordinates,m=[],j=this.plotArea;c.save(),i&&l.save(),c.beginPath(),c.rect(j.x1,j.y1,j.width,j.height),c.clip(),i&&(l.beginPath(),l.rect(j.x1,j.y1,j.width,j.height),l.clip());for(var u=0;u<f.dataSeriesIndexes.length;u++){var v=f.dataSeriesIndexes[u],a=this.data[v],e=a.dataPoints,m=a.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:v},m=R(m),l.fillStyle=m,m=[],o=!0;var g,h,n,C,d=0,D=f.axisY.convertValueToPixel(f.axisY.logarithmic?f.axisY.viewportMinimum:0),y=null;if(0<e.length){var w=a._colorSet[d%a._colorSet.length],s=a.lineColor=a.options.lineColor||w,x=s;if(c.fillStyle=w,c.strokeStyle=s,c.lineWidth=a.lineThickness,k="solid",c.setLineDash){var A=V(a.nullDataLineDashType,a.lineThickness);k=a.lineDashType;var z=V(k,a.lineThickness);c.setLineDash(z)}for(var r=!0;d<e.length;d++)if(!((n=e[d].x.getTime?e[d].x.getTime():e[d].x)<f.axisX.dataInfo.viewPortMin||n>f.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!r))){if("number"!=typeof e[d].y)a.connectNullData||r||o||q(),r=!0;else{g=f.axisX.convertValueToPixel(n),h=f.axisY.convertValueToPixel(e[d].y),o||r?(!o&&a.connectNullData?(c.setLineDash&&(a.options.nullDataLineDashType||k===a.lineDashType&&a.lineDashType!==a.nullDataLineDashType)&&(o=g,k=h,g=p.x,h=p.y,q(),c.moveTo(p.x,p.y),g=o,h=k,y=p,k=a.nullDataLineDashType,c.setLineDash(A)),c.lineTo(g,h),i&&l.lineTo(g,h)):(c.beginPath(),c.moveTo(g,h),i&&(l.beginPath(),l.moveTo(g,h)),y={x:g,y:h}),r=o=!1):(c.lineTo(g,h),i&&l.lineTo(g,h),0==d%250&&q()),p={x:g,y:h},d<e.length-1&&(x!==(e[d].lineColor||s)||k!==(e[d].lineDashType||a.lineDashType))&&(q(),x=e[d].lineColor||s,c.strokeStyle=x,c.setLineDash&&(e[d].lineDashType?(k=e[d].lineDashType,c.setLineDash(V(k,a.lineThickness))):(k=a.lineDashType,c.setLineDash(z))));var $=a.dataPointIds[d];this._eventManager.objectMap[$]={id:$,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:d,x1:g,y1:h},0!==e[d].markerSize&&(0<e[d].markerSize||0<a.markerSize)&&(n=a.getMarkerProperties(d,g,h,c),m.push(n),$=R($),i&&m.push({x:g,y:h,ctx:l,type:n.type,size:n.size,color:$,borderColor:$,borderThickness:n.borderThickness})),(e[d].indexLabel||a.indexLabel||e[d].indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:e[d],dataSeries:a,point:{x:g,y:h},direction:0>e[d].y===f.axisY.reversed?1:-1,color:w})}}q(),F.drawMarkers(m)}}return i&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",f.axisX.maskCanvas&&c.drawImage(f.axisX.maskCanvas,0,0,this.width,this.height),f.axisY.maskCanvas&&c.drawImage(f.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(j.x1,j.y1,j.width,j.height),this._eventManager.ghostCtx.restore()),c.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderSplineArea=function(e){function w(){var a=A(h,2);if(0<a.length){if(0<c.lineThickness){f.beginPath(),f.moveTo(a[0].x,a[0].y),a[0].newStrokeStyle&&(f.strokeStyle=a[0].newStrokeStyle),a[0].newLineDashArray&&f.setLineDash(a[0].newLineDashArray);for(var d=0;d<a.length-3;d+=3)f.bezierCurveTo(a[d+1].x,a[d+1].y,a[d+2].x,a[d+2].y,a[d+3].x,a[d+3].y),i&&n.bezierCurveTo(a[d+1].x,a[d+1].y,a[d+2].x,a[d+2].y,a[d+3].x,a[d+3].y),(a[d+3].newStrokeStyle||a[d+3].newLineDashArray)&&(f.stroke(),f.beginPath(),f.moveTo(a[d+3].x,a[d+3].y),a[d+3].newStrokeStyle&&(f.strokeStyle=a[d+3].newStrokeStyle),a[d+3].newLineDashArray&&f.setLineDash(a[d+3].newLineDashArray));f.stroke()}for(f.beginPath(),f.moveTo(a[0].x,a[0].y),i&&(n.beginPath(),n.moveTo(a[0].x,a[0].y)),d=0;d<a.length-3;d+=3)f.bezierCurveTo(a[d+1].x,a[d+1].y,a[d+2].x,a[d+2].y,a[d+3].x,a[d+3].y),i&&n.bezierCurveTo(a[d+1].x,a[d+1].y,a[d+2].x,a[d+2].y,a[d+3].x,a[d+3].y);e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?B=C:0>e.axisY.viewportMaximum?B=z.y1:0<e.axisY.viewportMinimum&&(B=C),D={x:a[0].x,y:a[0].y},f.lineTo(a[a.length-1].x,B),f.lineTo(D.x,B),f.closePath(),f.globalAlpha=c.fillOpacity,f.fill(),f.globalAlpha=1,i&&(n.lineTo(a[a.length-1].x,B),n.lineTo(D.x,B),n.closePath(),n.fill())}}var r=e.targetCanvasCtx||this.plotArea.ctx,f=i?this._preRenderCtx:r;if(!(0>=e.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,z=e.axisY.lineCoordinates,k=[],g=this.plotArea;f.save(),i&&n.save(),f.beginPath(),f.rect(g.x1,g.y1,g.width,g.height),f.clip(),i&&(n.beginPath(),n.rect(g.x1,g.y1,g.width,g.height),n.clip());for(var s=0;s<e.dataSeriesIndexes.length;s++){var t=e.dataSeriesIndexes[s],c=this.data[t],d=c.dataPoints,k=c.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:t},k=R(k),n.fillStyle=k;var l,j,B,k=[],a=0,C=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),D=null,h=[];if(0<d.length){var u=c._colorSet[a%c._colorSet.length],p=c.lineColor=c.options.lineColor||u,v=p;f.fillStyle=u,f.strokeStyle=p,f.lineWidth=c.lineThickness;var m="solid";if(f.setLineDash){var y=V(c.nullDataLineDashType,c.lineThickness),m=c.lineDashType,x=V(m,c.lineThickness);f.setLineDash(x)}for(j=!1;a<d.length;a++)if(!((l=d[a].x.getTime?d[a].x.getTime():d[a].x)<e.axisX.dataInfo.viewPortMin||l>e.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!j))){if("number"!=typeof d[a].y)0<a&&!j&&(c.connectNullData?f.setLineDash&&0<h.length&&(c.options.nullDataLineDashType||!d[a-1].lineDashType)&&(h[h.length-1].newLineDashArray=y,m=c.nullDataLineDashType):(w(),h=[])),j=!0;else{l=e.axisX.convertValueToPixel(l),j=e.axisY.convertValueToPixel(d[a].y);var o=c.dataPointIds[a];if(this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:t,dataPointIndex:a,x1:l,y1:j},h[h.length]={x:l,y:j},a<d.length-1&&(v!==(d[a].lineColor||p)||m!==(d[a].lineDashType||c.lineDashType))&&(v=d[a].lineColor||p,h[h.length-1].newStrokeStyle=v,f.setLineDash&&(d[a].lineDashType?(m=d[a].lineDashType,h[h.length-1].newLineDashArray=V(m,c.lineThickness)):(m=c.lineDashType,h[h.length-1].newLineDashArray=x))),0!==d[a].markerSize&&(0<d[a].markerSize||0<c.markerSize)){var q=c.getMarkerProperties(a,l,j,f);k.push(q),o=R(o),i&&k.push({x:l,y:j,ctx:n,type:q.type,size:q.size,color:o,borderColor:o,borderThickness:q.borderThickness})}(d[a].indexLabel||c.indexLabel||d[a].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:d[a],dataSeries:c,point:{x:l,y:j},direction:0>d[a].y===e.axisY.reversed?1:-1,color:u}),j=!1}}w(),F.drawMarkers(k)}}return i&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),f.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&f.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&f.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),f.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),f.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderStepArea=function(g){function r(){y&&(0<c.lineThickness&&a.stroke(),g.axisY.logarithmic||0>=g.axisY.viewportMinimum&&0<=g.axisY.viewportMaximum?C=D:0>g.axisY.viewportMaximum?C=B.y1:0<g.axisY.viewportMinimum&&(C=D),a.lineTo(e,C),a.lineTo(y.x,C),a.closePath(),a.globalAlpha=c.fillOpacity,a.fill(),a.globalAlpha=1,i&&(j.lineTo(e,C),j.lineTo(y.x,C),j.closePath(),j.fill()),a.beginPath(),a.moveTo(e,h),j.beginPath(),j.moveTo(e,h),y={x:e,y:h})}var t=g.targetCanvasCtx||this.plotArea.ctx,a=i?this._preRenderCtx:t;if(!(0>=g.dataSeriesIndexes.length)){var p,n,q,j=this._eventManager.ghostCtx,B=g.axisY.lineCoordinates,m=[],k=this.plotArea;a.save(),i&&j.save(),a.beginPath(),a.rect(k.x1,k.y1,k.width,k.height),a.clip(),i&&(j.beginPath(),j.rect(k.x1,k.y1,k.width,k.height),j.clip());for(var u=0;u<g.dataSeriesIndexes.length;u++){var v=g.dataSeriesIndexes[u],c=this.data[v],f=c.dataPoints,m=c.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:v},m=R(m),j.fillStyle=m,m=[],p=!0;var e,h,l,C,d=0,D=g.axisY.convertValueToPixel(g.axisY.logarithmic?g.axisY.viewportMinimum:0),y=null;if(n=!1,0<f.length){var w=c._colorSet[d%c._colorSet.length],s=c.lineColor=c.options.lineColor||w,x=s;a.fillStyle=w,a.strokeStyle=s,a.lineWidth=c.lineThickness;var o="solid";if(a.setLineDash){var A=V(c.nullDataLineDashType,c.lineThickness),o=c.lineDashType,z=V(o,c.lineThickness);a.setLineDash(z)}for(;d<f.length;d++)if(!((l=f[d].x.getTime?f[d].x.getTime():f[d].x)<g.axisX.dataInfo.viewPortMin||l>g.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!n))){var $=h;"number"!=typeof f[d].y?(c.connectNullData||n||p||r(),n=!0):(e=g.axisX.convertValueToPixel(l),h=g.axisY.convertValueToPixel(f[d].y),p||n?(!p&&c.connectNullData?(a.setLineDash&&(c.options.nullDataLineDashType||o===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(p=e,n=h,e=q.x,h=q.y,r(),a.moveTo(q.x,q.y),e=p,h=n,y=q,o=c.nullDataLineDashType,a.setLineDash(A)),a.lineTo(e,$),a.lineTo(e,h),i&&(j.lineTo(e,$),j.lineTo(e,h))):(a.beginPath(),a.moveTo(e,h),i&&(j.beginPath(),j.moveTo(e,h)),y={x:e,y:h}),n=p=!1):(a.lineTo(e,$),i&&j.lineTo(e,$),a.lineTo(e,h),i&&j.lineTo(e,h),0==d%250&&r()),q={x:e,y:h},d<f.length-1&&(x!==(f[d].lineColor||s)||o!==(f[d].lineDashType||c.lineDashType))&&(r(),x=f[d].lineColor||s,a.strokeStyle=x,a.setLineDash&&(f[d].lineDashType?(o=f[d].lineDashType,a.setLineDash(V(o,c.lineThickness))):(o=c.lineDashType,a.setLineDash(z)))),l=c.dataPointIds[d],this._eventManager.objectMap[l]={id:l,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:d,x1:e,y1:h},0!==f[d].markerSize&&(0<f[d].markerSize||0<c.markerSize)&&($=c.getMarkerProperties(d,e,h,a),m.push($),l=R(l),i&&m.push({x:e,y:h,ctx:j,type:$.type,size:$.size,color:l,borderColor:l,borderThickness:$.borderThickness})),(f[d].indexLabel||c.indexLabel||f[d].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:f[d],dataSeries:c,point:{x:e,y:h},direction:0>f[d].y===g.axisY.reversed?1:-1,color:w}))}r(),F.drawMarkers(m)}}return i&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&a.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&a.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(k.x1,k.y1,k.width,k.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderStackedArea=function(e){function u(){if(!(1>o.length)){for(0<a.lineThickness&&c.stroke();0<o.length;){var d=o.pop();c.lineTo(d.x,d.y),i&&j.lineTo(d.x,d.y)}c.closePath(),c.globalAlpha=a.fillOpacity,c.fill(),c.globalAlpha=1,c.beginPath(),i&&(j.closePath(),j.fill(),j.beginPath()),o=[]}}var z=e.targetCanvasCtx||this.plotArea.ctx,c=i?this._preRenderCtx:z;if(!(0>=e.dataSeriesIndexes.length)){var g,h,A,r,m,s=null,f=null,B=[],l=this.plotArea,C=[],o=[],v=[],w=[],d=0,x=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),j=this._eventManager.ghostCtx;i&&j.beginPath(),c.save(),i&&j.save(),c.beginPath(),c.rect(l.x1,l.y1,l.width,l.height),c.clip(),i&&(j.beginPath(),j.rect(l.x1,l.y1,l.width,l.height),j.clip());for(var s=[],t=0;t<e.dataSeriesIndexes.length;t++){var n=e.dataSeriesIndexes[t],a=this.data[n],k=a.dataPoints;for(d=0,a.dataPointIndexes=[];d<k.length;d++)n=k[d].x.getTime?k[d].x.getTime():k[d].x,a.dataPointIndexes[n]=d,s[n]||(v.push(n),s[n]=!0);v.sort(Q)}for(t=0;t<e.dataSeriesIndexes.length;t++){if(n=e.dataSeriesIndexes[t],k=(a=this.data[n]).dataPoints,r=!0,o=[],d=a.id,this._eventManager.objectMap[d]={objectType:"dataSeries",dataSeriesIndex:n},d=R(d),j.fillStyle=d,0<v.length){var s=a._colorSet[0],y=a.lineColor=a.options.lineColor||s,D=y;if(c.fillStyle=s,c.strokeStyle=y,c.lineWidth=a.lineThickness,m="solid",c.setLineDash){var I=V(a.nullDataLineDashType,a.lineThickness);m=a.lineDashType;var H=V(m,a.lineThickness);c.setLineDash(H)}for(var $=!0,d=0;d<v.length;d++){var f=v[d],q=0<=a.dataPointIndexes[f]?k[a.dataPointIndexes[f]]:{x:f,y:null};if(!(f<e.axisX.dataInfo.viewPortMin||f>e.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!$))){if("number"!=typeof q.y)a.connectNullData||$||r||u(),$=!0;else{g=e.axisX.convertValueToPixel(f);var p=C[f]?C[f]:0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length){if(w[f]=q.y+(w[f]?w[f]:0),0>=w[f]&&e.axisY.logarithmic)continue;h=e.axisY.convertValueToPixel(w[f])}else h=e.axisY.convertValueToPixel(q.y),h-=p;if(o.push({x:g,y:x-p}),C[f]=x-h,r||$?(!r&&a.connectNullData?(c.setLineDash&&(a.options.nullDataLineDashType||m===a.lineDashType&&a.lineDashType!==a.nullDataLineDashType)&&(r=o.pop(),m=o[o.length-1],u(),c.moveTo(A.x,A.y),o.push(m),o.push(r),m=a.nullDataLineDashType,c.setLineDash(I)),c.lineTo(g,h),i&&j.lineTo(g,h)):(c.beginPath(),c.moveTo(g,h),i&&(j.beginPath(),j.moveTo(g,h))),$=r=!1):(c.lineTo(g,h),i&&j.lineTo(g,h),0==d%250&&(u(),c.moveTo(g,h),i&&j.moveTo(g,h),o.push({x:g,y:x-p}))),A={x:g,y:h},d<k.length-1&&(D!==(k[d].lineColor||y)||m!==(k[d].lineDashType||a.lineDashType))&&(u(),c.beginPath(),c.moveTo(g,h),o.push({x:g,y:x-p}),D=k[d].lineColor||y,c.strokeStyle=D,c.setLineDash&&(k[d].lineDashType?(m=k[d].lineDashType,c.setLineDash(V(m,a.lineThickness))):(m=a.lineDashType,c.setLineDash(H)))),0<=a.dataPointIndexes[f]){var G=a.dataPointIds[a.dataPointIndexes[f]];this._eventManager.objectMap[G]={id:G,objectType:"dataPoint",dataSeriesIndex:n,dataPointIndex:a.dataPointIndexes[f],x1:g,y1:h}}0<=a.dataPointIndexes[f]&&0!==q.markerSize&&(0<q.markerSize||0<a.markerSize)&&(p=a.getMarkerProperties(a.dataPointIndexes[f],g,h,c),B.push(p),f=R(G),i&&B.push({x:g,y:h,ctx:j,type:p.type,size:p.size,color:f,borderColor:f,borderThickness:p.borderThickness})),(q.indexLabel||a.indexLabel||q.indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:q,dataSeries:a,point:{x:g,y:h},direction:0>k[d].y===e.axisY.reversed?1:-1,color:s})}}}u(),c.moveTo(g,h),i&&j.moveTo(g,h)}delete a.dataPointIndexes}return F.drawMarkers(B),i&&(z.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&c.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&c.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(l.x1,l.y1,l.width,l.height),j.restore()),c.restore(),{source:z,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderStackedArea100=function(d){function u(){for(0<a.lineThickness&&c.stroke();0<p.length;){var d=p.pop();c.lineTo(d.x,d.y),i&&j.lineTo(d.x,d.y)}c.closePath(),c.globalAlpha=a.fillOpacity,c.fill(),c.globalAlpha=1,c.beginPath(),i&&(j.closePath(),j.fill(),j.beginPath()),p=[]}var z=d.targetCanvasCtx||this.plotArea.ctx,c=i?this._preRenderCtx:z;if(!(0>=d.dataSeriesIndexes.length)){var g,h,A,r,n,l=null,e=null,m=this.plotArea,B=[],C=[],p=[],v=[],w=[],f=0,x=d.axisY.convertValueToPixel(d.axisY.logarithmic?d.axisY.viewportMinimum:0),j=this._eventManager.ghostCtx;c.save(),i&&j.save(),c.beginPath(),c.rect(m.x1,m.y1,m.width,m.height),c.clip(),i&&(j.beginPath(),j.rect(m.x1,m.y1,m.width,m.height),j.clip());for(var l=[],s=0;s<d.dataSeriesIndexes.length;s++){var o=d.dataSeriesIndexes[s],a=this.data[o],k=a.dataPoints;for(f=0,a.dataPointIndexes=[];f<k.length;f++)o=k[f].x.getTime?k[f].x.getTime():k[f].x,a.dataPointIndexes[o]=f,l[o]||(v.push(o),l[o]=!0);v.sort(Q)}for(s=0;s<d.dataSeriesIndexes.length;s++){if(o=d.dataSeriesIndexes[s],k=(a=this.data[o]).dataPoints,r=!0,l=a.id,this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:o},l=R(l),j.fillStyle=l,p=[],0<v.length){var l=a._colorSet[f%a._colorSet.length],y=a.lineColor=a.options.lineColor||l,D=y;if(c.fillStyle=l,c.strokeStyle=y,c.lineWidth=a.lineThickness,n="solid",c.setLineDash){var J=V(a.nullDataLineDashType,a.lineThickness);n=a.lineDashType;var H=V(n,a.lineThickness);c.setLineDash(H)}for(var $=!0,f=0;f<v.length;f++){var e=v[f],t=0<=a.dataPointIndexes[e]?k[a.dataPointIndexes[e]]:{x:e,y:null};if(!(e<d.axisX.dataInfo.viewPortMin||e>d.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!$))){if("number"!=typeof t.y)a.connectNullData||$||r||u(),$=!0;else{I=0!==d.dataPointYSums[e]?100*(t.y/d.dataPointYSums[e]):0,g=d.axisX.convertValueToPixel(e);var I,q=C[e]?C[e]:0;if(d.axisY.logarithmic||d.axisY.scaleBreaks&&0<d.axisY.scaleBreaks._appliedBreaks.length){if(w[e]=I+(w[e]?w[e]:0),0>=w[e]&&d.axisY.logarithmic)continue;h=d.axisY.convertValueToPixel(w[e])}else h=d.axisY.convertValueToPixel(I),h-=q;if(p.push({x:g,y:x-q}),C[e]=x-h,r||$?(!r&&a.connectNullData?(c.setLineDash&&(a.options.nullDataLineDashType||n===a.lineDashType&&a.lineDashType!==a.nullDataLineDashType)&&(r=p.pop(),n=p[p.length-1],u(),c.moveTo(A.x,A.y),p.push(n),p.push(r),n=a.nullDataLineDashType,c.setLineDash(J)),c.lineTo(g,h),i&&j.lineTo(g,h)):(c.beginPath(),c.moveTo(g,h),i&&(j.beginPath(),j.moveTo(g,h))),$=r=!1):(c.lineTo(g,h),i&&j.lineTo(g,h),0==f%250&&(u(),c.moveTo(g,h),i&&j.moveTo(g,h),p.push({x:g,y:x-q}))),A={x:g,y:h},f<k.length-1&&(D!==(k[f].lineColor||y)||n!==(k[f].lineDashType||a.lineDashType))&&(u(),c.beginPath(),c.moveTo(g,h),p.push({x:g,y:x-q}),D=k[f].lineColor||y,c.strokeStyle=D,c.setLineDash&&(k[f].lineDashType?(n=k[f].lineDashType,c.setLineDash(V(n,a.lineThickness))):(n=a.lineDashType,c.setLineDash(H)))),0<=a.dataPointIndexes[e]){var G=a.dataPointIds[a.dataPointIndexes[e]];this._eventManager.objectMap[G]={id:G,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:a.dataPointIndexes[e],x1:g,y1:h}}0<=a.dataPointIndexes[e]&&0!==t.markerSize&&(0<t.markerSize||0<a.markerSize)&&(q=a.getMarkerProperties(f,g,h,c),B.push(q),e=R(G),i&&B.push({x:g,y:h,ctx:j,type:q.type,size:q.size,color:e,borderColor:e,borderThickness:q.borderThickness})),(t.indexLabel||a.indexLabel||t.indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:t,dataSeries:a,point:{x:g,y:h},direction:0>k[f].y===d.axisY.reversed?1:-1,color:l})}}}u(),c.moveTo(g,h),i&&j.moveTo(g,h)}delete a.dataPointIndexes}return F.drawMarkers(B),i&&(z.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",d.axisX.maskCanvas&&c.drawImage(d.axisX.maskCanvas,0,0,this.width,this.height),d.axisY.maskCanvas&&c.drawImage(d.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(m.x1,m.y1,m.width,m.height),j.restore()),c.restore(),{source:z,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderBubble=function(e){var q=e.targetCanvasCtx||this.plotArea.ctx,f=i?this._preRenderCtx:q;if(!(0>=e.dataSeriesIndexes.length)){var g,k,h=this.plotArea,a=0;f.save(),i&&this._eventManager.ghostCtx.save(),f.beginPath(),f.rect(h.x1,h.y1,h.width,h.height),f.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var o=-1/0,m=1/0,l=0;l<e.dataSeriesIndexes.length;l++)for(var p=e.dataSeriesIndexes[l],j=this.data[p],d=j.dataPoints,c=0,a=0;a<d.length;a++)(g=g=d[a].getTime?d[a].x.getTime():d[a].x)<e.axisX.dataInfo.viewPortMin||g>e.axisX.dataInfo.viewPortMax|| void 0===d[a].z||((c=d[a].z)>o&&(o=c),c<m&&(m=c));for(var r=25*Math.PI,t=Math.max(Math.pow(.25*Math.min(h.height,h.width)/2,2)*Math.PI,r),l=0;l<e.dataSeriesIndexes.length;l++)if(p=e.dataSeriesIndexes[l],0<(d=(j=this.data[p]).dataPoints).length){for(f.strokeStyle="#4572A7 ",a=0;a<d.length;a++)if(!((g=g=d[a].getTime?d[a].x.getTime():d[a].x)<e.axisX.dataInfo.viewPortMin||g>e.axisX.dataInfo.viewPortMax)&&"number"==typeof d[a].y){g=e.axisX.convertValueToPixel(g),k=e.axisY.convertValueToPixel(d[a].y);var c=d[a].z,n=2*Math.max(Math.sqrt((o===m?t/2:r+(t-r)/(o-m)*(c-m))/Math.PI)<<0,1),c=j.getMarkerProperties(a,f);c.size=n,f.globalAlpha=j.fillOpacity,F.drawMarker(g,k,f,c.type,c.size,c.color,c.borderColor,c.borderThickness),f.globalAlpha=1;var s=j.dataPointIds[a];this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:a,x1:g,y1:k,size:n},n=R(s),i&&F.drawMarker(g,k,this._eventManager.ghostCtx,c.type,c.size,n,n,c.borderThickness),(d[a].indexLabel||j.indexLabel||d[a].indexLabelFormatter||j.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:d[a],dataSeries:j,point:{x:g,y:k},direction:1,bounds:{x1:g-c.size/2,y1:k-c.size/2,x2:g+c.size/2,y2:k+c.size/2},color:null})}}return i&&(q.drawImage(this._preRenderCanvas,0,0,this.width,this.height),f.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&f.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&f.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),f.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),f.restore(),{source:q,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0}}},a.prototype.renderScatter=function(g){var m=g.targetCanvasCtx||this.plotArea.ctx,e=i?this._preRenderCtx:m;if(!(0>=g.dataSeriesIndexes.length)){var f,k,c=this.plotArea,d=0;e.save(),i&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(c.x1,c.y1,c.width,c.height),e.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip());for(var n=0;n<g.dataSeriesIndexes.length;n++){var p=g.dataSeriesIndexes[n],l=this.data[p],h=l.dataPoints;if(0<h.length){e.strokeStyle="#4572A7 ",c.height,c.width;for(var j=0,o=0,d=0;d<h.length;d++)if(!((f=f=h[d].getTime?h[d].x.getTime():h[d].x)<g.axisX.dataInfo.viewPortMin||f>g.axisX.dataInfo.viewPortMax)&&"number"==typeof h[d].y){f=g.axisX.convertValueToPixel(f),k=g.axisY.convertValueToPixel(h[d].y);var a=l.getMarkerProperties(d,f,k,e);e.globalAlpha=l.fillOpacity,F.drawMarker(a.x,a.y,a.ctx,a.type,a.size,a.color,a.borderColor,a.borderThickness),e.globalAlpha=1,Math.sqrt((j-f)*(j-f)+(o-k)*(o-k))<Math.min(a.size,5)&&h.length>Math.min(this.plotArea.width,this.plotArea.height)||(j=l.dataPointIds[d],this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:d,x1:f,y1:k},j=R(j),i&&F.drawMarker(a.x,a.y,this._eventManager.ghostCtx,a.type,a.size,j,j,a.borderThickness),(h[d].indexLabel||l.indexLabel||h[d].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:h[d],dataSeries:l,point:{x:f,y:k},direction:1,bounds:{x1:f-a.size/2,y1:k-a.size/2,x2:f+a.size/2,y2:k+a.size/2},color:null}),j=f,o=k)}}}return i&&(m.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&e.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&e.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:m,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0}}},a.prototype.renderCandlestick=function(f){var w=f.targetCanvasCtx||this.plotArea.ctx,a=i?this._preRenderCtx:w,c=this._eventManager.ghostCtx;if(!(0>=f.dataSeriesIndexes.length)){var g,k,p,q,l,x,h=null,r=null,m=this.plotArea,d=0,h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,n=f.axisX.dataInfo.minDiff;isFinite(n)||(n=.3*Math.abs(f.axisX.range)),n=this.options.dataPointWidth?this.dataPointWidth:.7*m.width*(f.axisX.logarithmic?Math.log(n)/Math.log(f.axisX.range):Math.abs(n)/Math.abs(f.axisX.range))<<0,this.dataPointMaxWidth&&h>r&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<h&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),n<h&&(n=h),n>r&&(n=r),a.save(),i&&c.save(),a.beginPath(),a.rect(m.x1,m.y1,m.width,m.height),a.clip(),i&&(c.beginPath(),c.rect(m.x1,m.y1,m.width,m.height),c.clip());for(var y=0;y<f.dataSeriesIndexes.length;y++){var B,z=f.dataSeriesIndexes[y],j=this.data[z],e=j.dataPoints;if(0<e.length){for(var A=5<n&&!!j.bevelEnabled,d=0;d<e.length;d++)if(!((x=e[d].getTime?e[d].x.getTime():e[d].x)<f.axisX.dataInfo.viewPortMin||x>f.axisX.dataInfo.viewPortMax)&&null!=e[d].y&&e[d].y.length&&"number"==typeof e[d].y[0]&&"number"==typeof e[d].y[1]&&"number"==typeof e[d].y[2]&&"number"==typeof e[d].y[3]){g=f.axisX.convertValueToPixel(x),k=f.axisY.convertValueToPixel(e[d].y[0]),p=f.axisY.convertValueToPixel(e[d].y[1]),q=f.axisY.convertValueToPixel(e[d].y[2]),l=f.axisY.convertValueToPixel(e[d].y[3]);var s=g-n/2<<0,t=s+n<<0,r=j.options.fallingColor?j.fallingColor:j._colorSet[0],h=e[d].color?e[d].color:j._colorSet[0],u=Math.round(Math.max(1,.15*n)),o=0==u%2?0:.5,v=j.dataPointIds[d];this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:z,dataPointIndex:d,x1:s,y1:k,x2:t,y2:p,x3:g,y3:q,x4:g,y4:l,borderThickness:u,color:h},a.strokeStyle=h,a.beginPath(),a.lineWidth=u,c.lineWidth=Math.max(u,4),"candlestick"===j.type?(a.moveTo(g-o,p),a.lineTo(g-o,Math.min(k,l)),a.stroke(),a.moveTo(g-o,Math.max(k,l)),a.lineTo(g-o,q),a.stroke(),au(a,s,Math.min(k,l),t,Math.max(k,l),e[d].y[0]<=e[d].y[3]?j.risingColor:r,u,h,A,A,!1,!1,j.fillOpacity),i&&(h=R(v),c.strokeStyle=h,c.moveTo(g-o,p),c.lineTo(g-o,Math.min(k,l)),c.stroke(),c.moveTo(g-o,Math.max(k,l)),c.lineTo(g-o,q),c.stroke(),au(c,s,Math.min(k,l),t,Math.max(k,l),h,0,null,!1,!1,!1,!1))):"ohlc"===j.type&&(a.moveTo(g-o,p),a.lineTo(g-o,q),a.stroke(),a.beginPath(),a.moveTo(g,k),a.lineTo(s,k),a.stroke(),a.beginPath(),a.moveTo(g,l),a.lineTo(t,l),a.stroke(),i&&(h=R(v),c.strokeStyle=h,c.moveTo(g-o,p),c.lineTo(g-o,q),c.stroke(),c.beginPath(),c.moveTo(g,k),c.lineTo(s,k),c.stroke(),c.beginPath(),c.moveTo(g,l),c.lineTo(t,l),c.stroke())),(e[d].indexLabel||j.indexLabel||e[d].indexLabelFormatter||j.indexLabelFormatter)&&this._indexLabels.push({chartType:j.type,dataPoint:e[d],dataSeries:j,point:{x:s+(t-s)/2,y:f.axisY.reversed?q:p},direction:1,bounds:{x1:s,y1:Math.min(p,q),x2:t,y2:Math.max(p,q)},color:h})}}}return i&&(w.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",f.axisX.maskCanvas&&a.drawImage(f.axisX.maskCanvas,0,0,this.width,this.height),f.axisY.maskCanvas&&a.drawImage(f.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(m.x1,m.y1,m.width,m.height),c.restore()),a.restore(),{source:w,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0}}},a.prototype.renderBoxAndWhisker=function(f){var C=f.targetCanvasCtx||this.plotArea.ctx,c=i?this._preRenderCtx:C,g=this._eventManager.ghostCtx;if(!(0>=f.dataSeriesIndexes.length)){var h,m,o,p,n,r,D,k=null,l=this.plotArea,a=0,k=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,j=f.axisX.dataInfo.minDiff;isFinite(j)||(j=.3*Math.abs(f.axisX.range)),j=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(f.axisX.logarithmic?Math.log(j)/Math.log(f.axisX.range):Math.abs(j)/Math.abs(f.axisX.range))<<0,this.dataPointMaxWidth&&k>a&&(k=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<k&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,k)),j<k&&(j=k),j>a&&(j=a),c.save(),i&&g.save(),c.beginPath(),c.rect(l.x1,l.y1,l.width,l.height),c.clip(),i&&(g.beginPath(),g.rect(l.x1,l.y1,l.width,l.height),g.clip());for(var z=!1,z=!!f.axisY.reversed,F=0;F<f.dataSeriesIndexes.length;F++){var H=f.dataSeriesIndexes[F],e=this.data[H],d=e.dataPoints;if(0<d.length){for(var B=5<j&&!!e.bevelEnabled,a=0;a<d.length;a++)if(!((D=d[a].getTime?d[a].x.getTime():d[a].x)<f.axisX.dataInfo.viewPortMin||D>f.axisX.dataInfo.viewPortMax)&&null!=d[a].y&&d[a].y.length&&"number"==typeof d[a].y[0]&&"number"==typeof d[a].y[1]&&"number"==typeof d[a].y[2]&&"number"==typeof d[a].y[3]&&"number"==typeof d[a].y[4]&&5===d[a].y.length){h=f.axisX.convertValueToPixel(D),m=f.axisY.convertValueToPixel(d[a].y[0]),o=f.axisY.convertValueToPixel(d[a].y[1]),p=f.axisY.convertValueToPixel(d[a].y[2]),n=f.axisY.convertValueToPixel(d[a].y[3]),r=f.axisY.convertValueToPixel(d[a].y[4]);var T,U,W,X,q=h-j/2<<0,s=h+j/2<<0,k=d[a].color?d[a].color:e._colorSet[0],w=Math.round(Math.max(1,.15*j)),t=0==w%2?0:.5,I=d[a].whiskerColor?d[a].whiskerColor:d[a].color?e.whiskerColor?e.whiskerColor:d[a].color:e.whiskerColor?e.whiskerColor:k,x="number"==typeof d[a].whiskerThickness?d[a].whiskerThickness:"number"==typeof e.options.whiskerThickness?e.whiskerThickness:w,N=d[a].whiskerDashType?d[a].whiskerDashType:e.whiskerDashType,$=null==d[a].whiskerLength?null==e.options.whiskerLength?j:e.whiskerLength:d[a].whiskerLength,$="number"==typeof $?0>=$?0:$>=j?j:$:"string"==typeof $?parseInt($)*j/100>j?j:parseInt($)*j/100:j,u=1==Math.round(x)%2?.5:0,J=d[a].stemColor?d[a].stemColor:d[a].color?e.stemColor?e.stemColor:d[a].color:e.stemColor?e.stemColor:k,y="number"==typeof d[a].stemThickness?d[a].stemThickness:"number"==typeof e.options.stemThickness?e.stemThickness:w,v=1==Math.round(y)%2?.5:0,O=d[a].stemDashType?d[a].stemDashType:e.stemDashType,K=d[a].lineColor?d[a].lineColor:d[a].color?e.lineColor?e.lineColor:d[a].color:e.lineColor?e.lineColor:k,A="number"==typeof d[a].lineThickness?d[a].lineThickness:"number"==typeof e.options.lineThickness?e.lineThickness:w,P=d[a].lineDashType?d[a].lineDashType:e.lineDashType,L=1==Math.round(A)%2?.5:0,Q=e.upperBoxColor,S=e.lowerBoxColor,M=null==e.options.fillOpacity?1:e.fillOpacity,G=e.dataPointIds[a];this._eventManager.objectMap[G]={id:G,objectType:"dataPoint",dataSeriesIndex:H,dataPointIndex:a,x1:q,y1:m,x2:s,y2:o,x3:h,y3:p,x4:h,y4:n,y5:r,borderThickness:w,color:k,stemThickness:y,stemColor:J,whiskerThickness:x,whiskerLength:$,whiskerColor:I,lineThickness:A,lineColor:K},c.save(),0<y&&(c.beginPath(),c.strokeStyle=J,c.lineWidth=y,c.setLineDash&&c.setLineDash(V(O,y)),c.moveTo(h-v,o),c.lineTo(h-v,m),c.stroke(),c.moveTo(h-v,n),c.lineTo(h-v,p),c.stroke()),c.restore(),g.lineWidth=Math.max(w,4),c.beginPath(),au(c,q,Math.min(r,o),s,Math.max(o,r),S,0,k,!!z&&B,!z&&B,!1,!1,M),c.beginPath(),au(c,q,Math.min(p,r),s,Math.max(r,p),Q,0,k,!z&&B,!!z&&B,!1,!1,M),c.beginPath(),c.lineWidth=w,c.strokeStyle=k,c.rect(q-t,Math.min(o,p)-t,s-q+2*t,Math.max(o,p)-Math.min(o,p)+2*t),c.stroke(),c.save(),0<A&&(c.beginPath(),c.globalAlpha=1,c.setLineDash&&c.setLineDash(V(P,A)),c.strokeStyle=K,c.lineWidth=A,c.moveTo(q,r-L),c.lineTo(s,r-L),c.stroke()),c.restore(),c.save(),0<x&&(c.beginPath(),c.setLineDash&&c.setLineDash(V(N,x)),c.strokeStyle=I,c.lineWidth=x,c.moveTo(h-$/2<<0,n-u),c.lineTo(h+$/2<<0,n-u),c.stroke(),c.moveTo(h-$/2<<0,m+u),c.lineTo(h+$/2<<0,m+u),c.stroke()),c.restore(),i&&(k=R(G),g.strokeStyle=k,g.lineWidth=y,0<y&&(g.moveTo(h-t-v,o),g.lineTo(h-t-v,Math.max(m,n)),g.stroke(),g.moveTo(h-t-v,Math.min(m,n)),g.lineTo(h-t-v,p),g.stroke()),au(g,q,Math.max(o,p),s,Math.min(o,p),k,0,null,!1,!1,!1,!1),0<x&&(g.beginPath(),g.lineWidth=x,g.moveTo(h+$/2,n-u),g.lineTo(h-$/2,n-u),g.stroke(),g.moveTo(h+$/2,m+u),g.lineTo(h-$/2,m+u),g.stroke())),(d[a].indexLabel||e.indexLabel||d[a].indexLabelFormatter||e.indexLabelFormatter)&&this._indexLabels.push({chartType:e.type,dataPoint:d[a],dataSeries:e,point:{x:q+(s-q)/2,y:f.axisY.reversed?m:n},direction:1,bounds:{x1:q,y1:Math.min(m,n),x2:s,y2:Math.max(m,n)},color:k})}}}return i&&(C.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.globalCompositeOperation="source-atop",f.axisX.maskCanvas&&c.drawImage(f.axisX.maskCanvas,0,0,this.width,this.height),f.axisY.maskCanvas&&c.drawImage(f.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),c.clearRect(l.x1,l.y1,l.width,l.height),g.restore()),c.restore(),{source:C,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0}}},a.prototype.renderRangeColumn=function(c){var q=c.targetCanvasCtx||this.plotArea.ctx,k=i?this._preRenderCtx:q;if(!(0>=c.dataSeriesIndexes.length)){var e,g,r,l=null,h=this.plotArea,a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;e=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var f=c.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(c.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:.9*(h.width*(c.axisX.logarithmic?Math.log(f)/Math.log(c.axisX.range):Math.abs(f)/Math.abs(c.axisX.range))/c.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&a>e&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,e)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&e<a&&(e=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),f<a&&(f=a),f>e&&(f=e),k.save(),i&&this._eventManager.ghostCtx.save(),k.beginPath(),k.rect(h.x1,h.y1,h.width,h.height),k.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var o=0;o<c.dataSeriesIndexes.length;o++){var u,s=c.dataSeriesIndexes[o],m=this.data[s],d=m.dataPoints;if(0<d.length){for(var t=5<f&&!!m.bevelEnabled,a=0;a<d.length;a++)if(!((r=d[a].getTime?d[a].x.getTime():d[a].x)<c.axisX.dataInfo.viewPortMin||r>c.axisX.dataInfo.viewPortMax)&&null!=d[a].y&&d[a].y.length&&"number"==typeof d[a].y[0]&&"number"==typeof d[a].y[1]){l=c.axisX.convertValueToPixel(r),e=c.axisY.convertValueToPixel(d[a].y[0]),g=c.axisY.convertValueToPixel(d[a].y[1]);var j=c.axisX.reversed?l+c.plotType.totalDataSeries*f/2-(c.previousDataSeriesCount+o)*f<<0:l-c.plotType.totalDataSeries*f/2+(c.previousDataSeriesCount+o)*f<<0,n=c.axisX.reversed?j-f<<0:j+f<<0,l=d[a].color?d[a].color:m._colorSet[a%m._colorSet.length];if(e>g){var p=e;e=g,g=p}p=m.dataPointIds[a],this._eventManager.objectMap[p]={id:p,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:a,x1:j,y1:e,x2:n,y2:g},au(k,c.axisX.reversed?n:j,e,c.axisX.reversed?j:n,g,l,0,l,t,t,!1,!1,m.fillOpacity),l=R(p),i&&au(this._eventManager.ghostCtx,c.axisX.reversed?n:j,e,c.axisX.reversed?j:n,g,l,0,null,!1,!1,!1,!1),(d[a].indexLabel||m.indexLabel||d[a].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:d[a],dataSeries:m,indexKeyword:0,point:{x:j+(n-j)/2,y:d[a].y[1]>=d[a].y[0]?g:e},direction:d[a].y[1]>=d[a].y[0]?-1:1,bounds:{x1:j,y1:Math.min(e,g),x2:n,y2:Math.max(e,g)},color:l}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:d[a],dataSeries:m,indexKeyword:1,point:{x:j+(n-j)/2,y:d[a].y[1]>=d[a].y[0]?e:g},direction:d[a].y[1]>=d[a].y[0]?1:-1,bounds:{x1:j,y1:Math.min(e,g),x2:n,y2:Math.max(e,g)},color:l}))}}}return i&&(q.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.globalCompositeOperation="source-atop",c.axisX.maskCanvas&&k.drawImage(c.axisX.maskCanvas,0,0,this.width,this.height),c.axisY.maskCanvas&&k.drawImage(c.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),k.restore(),{source:q,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0}}},a.prototype.renderError=function(g){var w=g.targetCanvasCtx||this.plotArea.ctx,r=i?this._preRenderCtx:w,f=!!g.axisY._position&&"left"!==g.axisY._position&&"right"!==g.axisY._position;if(!(0>=g.dataSeriesIndexes.length)){var x,y,h,k,j,l,z,m=null,C=!1,p=this.plotArea,a=0,v=g.axisX.dataInfo.minDiff;isFinite(v)||(v=.3*Math.abs(g.axisX.range)),r.save(),i&&this._eventManager.ghostCtx.save(),r.beginPath(),r.rect(p.x1,p.y1,p.width,p.height),r.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip());for(var s=0,d=0;d<this.data.length;d++)!this.data[d].type.match(/(bar|column)/ig)||!this.data[d].visible||this.data[d].type.match(/(stacked)/ig)&&s||s++;for(var A=0;A<g.dataSeriesIndexes.length;A++){var G,D=g.dataSeriesIndexes[A],e=this.data[D],c=e.dataPoints,q=null!=e._linkedSeries&& !!e._linkedSeries.type.match(/(bar|column)/ig)&&!!e._linkedSeries.visible,u=0;if(q)for(m=e._linkedSeries.id,d=0;d<m;d++)!this.data[d].type.match(/(bar|column)/ig)||!this.data[d].visible||this.data[d].type.match(/(stacked)/ig)&&u||(this.data[d].type.match(/(range)/ig)&&(C=!0),u++);if(m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:f?Math.min(.15*this.height,.9*(this.plotArea.height/(q?s:1)))<<0:.3*this.width,C&&(a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:f?Math.min(.15*this.height,.9*(this.plotArea.height/(q?s:1)))<<0:.03*this.width),d=this.options.dataPointWidth?this.dataPointWidth:.9*((f?p.height:p.width)*(g.axisX.logarithmic?Math.log(v)/Math.log(g.axisX.range):Math.abs(v)/Math.abs(g.axisX.range))/(q?s:1))<<0,this.dataPointMaxWidth&&m>a&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<m&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),d<m&&(d=m),d>a&&(d=a),0<c.length)for(var F=e._colorSet,a=0;a<c.length;a++){var H,I,J,K,L,m=e.lineColor=e.options.color?e.options.color:F[0],n={color:c[a].whiskerColor?c[a].whiskerColor:c[a].color?e.whiskerColor?e.whiskerColor:c[a].color:e.whiskerColor?e.whiskerColor:m,thickness:null==c[a].whiskerThickness?e.whiskerThickness:c[a].whiskerThickness,dashType:c[a].whiskerDashType?c[a].whiskerDashType:e.whiskerDashType,length:null==c[a].whiskerLength?null==e.options.whiskerLength?d:e.options.whiskerLength:c[a].whiskerLength,trimLength:null==c[a].whiskerLength&&null==e.options.whiskerLength?50:0};n.length="number"==typeof n.length?0>=n.length?0:n.length>=d?d:n.length:"string"==typeof n.length?parseInt(n.length)*d/100>d?d:parseInt(n.length)*d/100>d:d,n.thickness="number"==typeof n.thickness?0>n.thickness?0:Math.round(n.thickness):2;var M,t={color:c[a].stemColor?c[a].stemColor:c[a].color?e.stemColor?e.stemColor:c[a].color:e.stemColor?e.stemColor:m,thickness:c[a].stemThickness?c[a].stemThickness:e.stemThickness,dashType:c[a].stemDashType?c[a].stemDashType:e.stemDashType};if(t.thickness="number"==typeof t.thickness?0>t.thickness?0:Math.round(t.thickness):2,!((z=c[a].getTime?c[a].x.getTime():c[a].x)<g.axisX.dataInfo.viewPortMin||z>g.axisX.dataInfo.viewPortMax)&&null!=c[a].y&&c[a].y.length&&"number"==typeof c[a].y[0]&&"number"==typeof c[a].y[1]){var o=g.axisX.convertValueToPixel(z);f?y=o:x=o,o=g.axisY.convertValueToPixel(c[a].y[0]),f?h=o:j=o,o=g.axisY.convertValueToPixel(c[a].y[1]),f?k=o:l=o,f?(j=g.axisX.reversed?y+(q?s:1)*d/2-(q?u-1:0)*d<<0:y-(q?s:1)*d/2+(q?u-1:0)*d<<0,l=g.axisX.reversed?j-d<<0:j+d<<0):(h=g.axisX.reversed?x+(q?s:1)*d/2-(q?u-1:0)*d<<0:x-(q?s:1)*d/2+(q?u-1:0)*d<<0,k=g.axisX.reversed?h-d<<0:h+d<<0),!f&&j>l&&(o=j,j=l,l=o),f&&h>k&&(o=h,h=k,k=o),o=e.dataPointIds[a],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:D,dataPointIndex:a,x1:Math.min(h,k),y1:Math.min(j,l),x2:Math.max(k,h),y2:Math.max(l,j),isXYSwapped:f,stemProperties:t,whiskerProperties:n},B(r,Math.min(h,k),Math.min(j,l),Math.max(k,h),Math.max(l,j),m,n,t,f),i&&B(this._eventManager.ghostCtx,h,j,k,l,m,n,t,f),(c[a].indexLabel||e.indexLabel||c[a].indexLabelFormatter||e.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:c[a],dataSeries:e,indexKeyword:0,point:{x:f?c[a].y[1]>=c[a].y[0]?h:k:h+(k-h)/2,y:f?j+(l-j)/2:c[a].y[1]>=c[a].y[0]?l:j},direction:c[a].y[1]>=c[a].y[0]?-1:1,bounds:{x1:f?Math.min(h,k):h,y1:f?j:Math.min(j,l),x2:f?Math.max(h,k):k,y2:f?l:Math.max(j,l)},color:m,axisSwapped:f}),this._indexLabels.push({chartType:"error",dataPoint:c[a],dataSeries:e,indexKeyword:1,point:{x:f?c[a].y[1]>=c[a].y[0]?k:h:h+(k-h)/2,y:f?j+(l-j)/2:c[a].y[1]>=c[a].y[0]?j:l},direction:c[a].y[1]>=c[a].y[0]?1:-1,bounds:{x1:f?Math.min(h,k):h,y1:f?j:Math.min(j,l),x2:f?Math.max(h,k):k,y2:f?l:Math.max(j,l)},color:m,axisSwapped:f}))}}}return i&&(w.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&r.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&r.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:w,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0}}},a.prototype.renderRangeBar=function(c){var p=c.targetCanvasCtx||this.plotArea.ctx,l=i?this._preRenderCtx:p;if(!(0>=c.dataSeriesIndexes.length)){var e,h,f,q,k=null,j=this.plotArea,a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;e=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/c.plotType.totalDataSeries))<<0;var g=c.axisX.dataInfo.minDiff;isFinite(g)||(g=.3*Math.abs(c.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.9*(j.height*(c.axisX.logarithmic?Math.log(g)/Math.log(c.axisX.range):Math.abs(g)/Math.abs(c.axisX.range))/c.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&a>e&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,e)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&e<a&&(e=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),g<a&&(g=a),g>e&&(g=e),l.save(),i&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(j.x1,j.y1,j.width,j.height),l.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(j.x1,j.y1,j.width,j.height),this._eventManager.ghostCtx.clip());for(var o=0;o<c.dataSeriesIndexes.length;o++){var r=c.dataSeriesIndexes[o],m=this.data[r],d=m.dataPoints;if(0<d.length){var t,s=5<g&&!!m.bevelEnabled;for(a=0,l.strokeStyle="#4572A7 ";a<d.length;a++)if(!((q=d[a].getTime?d[a].x.getTime():d[a].x)<c.axisX.dataInfo.viewPortMin||q>c.axisX.dataInfo.viewPortMax)&&null!=d[a].y&&d[a].y.length&&"number"==typeof d[a].y[0]&&"number"==typeof d[a].y[1]){e=c.axisY.convertValueToPixel(d[a].y[0]),h=c.axisY.convertValueToPixel(d[a].y[1]),f=c.axisX.convertValueToPixel(q),f=c.axisX.reversed?f+c.plotType.totalDataSeries*g/2-(c.previousDataSeriesCount+o)*g<<0:f-c.plotType.totalDataSeries*g/2+(c.previousDataSeriesCount+o)*g<<0;var n=c.axisX.reversed?f-g<<0:f+g<<0;e>h&&(k=e,e=h,h=k),k=d[a].color?d[a].color:m._colorSet[a%m._colorSet.length],au(l,e,c.axisX.reversed?n:f,h,c.axisX.reversed?f:n,k,0,null,s,!1,!1,!1,m.fillOpacity),k=m.dataPointIds[a],this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:a,x1:e,y1:f,x2:h,y2:n},k=R(k),i&&au(this._eventManager.ghostCtx,e,c.axisX.reversed?n:f,h,c.axisX.reversed?f:n,k,0,null,!1,!1,!1,!1),(d[a].indexLabel||m.indexLabel||d[a].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:d[a],dataSeries:m,indexKeyword:0,point:{x:d[a].y[1]>=d[a].y[0]?e:h,y:f+(n-f)/2},direction:d[a].y[1]>=d[a].y[0]?-1:1,bounds:{x1:Math.min(e,h),y1:f,x2:Math.max(e,h),y2:n},color:k}),this._indexLabels.push({chartType:"rangeBar",dataPoint:d[a],dataSeries:m,indexKeyword:1,point:{x:d[a].y[1]>=d[a].y[0]?h:e,y:f+(n-f)/2},direction:d[a].y[1]>=d[a].y[0]?1:-1,bounds:{x1:Math.min(e,h),y1:f,x2:Math.max(e,h),y2:n},color:k}))}}}return i&&(p.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",c.axisX.maskCanvas&&l.drawImage(c.axisX.maskCanvas,0,0,this.width,this.height),c.axisY.maskCanvas&&l.drawImage(c.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(j.x1,j.y1,j.width,j.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:p,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0}}},a.prototype.renderRangeArea=function(g){function t(){if(C){for(var a=null,d=j.length-1;0<=d;d--)a=j[d],e.lineTo(a.x,a.y2),l.lineTo(a.x,a.y2);if(e.closePath(),e.globalAlpha=c.fillOpacity,e.fill(),e.globalAlpha=1,l.fill(),0<c.lineThickness){for(e.beginPath(),e.moveTo(a.x,a.y2),d=0;d<j.length;d++)a=j[d],e.lineTo(a.x,a.y2);for(e.moveTo(j[0].x,j[0].y1),d=0;d<j.length;d++)a=j[d],e.lineTo(a.x,a.y1);e.stroke()}e.beginPath(),e.moveTo(f,h),l.beginPath(),l.moveTo(f,h),C={x:f,y:h},(j=[]).push({x:f,y1:h,y2:o})}}var z=g.targetCanvasCtx||this.plotArea.ctx,e=i?this._preRenderCtx:z;if(!(0>=g.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,m=[],k=this.plotArea;e.save(),i&&l.save(),e.beginPath(),e.rect(k.x1,k.y1,k.width,k.height),e.clip(),i&&(l.beginPath(),l.rect(k.x1,k.y1,k.width,k.height),l.clip());for(var A=0;A<g.dataSeriesIndexes.length;A++){var j=[],B=g.dataSeriesIndexes[A],c=this.data[B],d=c.dataPoints,m=c.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:B},m=R(m),l.fillStyle=m;var f,h,o,p,m=[],u=!0,a=0,C=null;if(0<d.length){var v=c._colorSet[a%c._colorSet.length],w=c.lineColor=c.options.lineColor||v,x=w;e.fillStyle=v,e.strokeStyle=w,e.lineWidth=c.lineThickness;var q="solid";if(e.setLineDash){var D=V(c.nullDataLineDashType,c.lineThickness),q=c.lineDashType,y=V(q,c.lineThickness);e.setLineDash(y)}for(var r=!0;a<d.length;a++)if(!((p=d[a].x.getTime?d[a].x.getTime():d[a].x)<g.axisX.dataInfo.viewPortMin||p>g.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!r))){if(null!==d[a].y&&d[a].y.length&&"number"==typeof d[a].y[0]&&"number"==typeof d[a].y[1]){if(f=g.axisX.convertValueToPixel(p),h=g.axisY.convertValueToPixel(d[a].y[0]),o=g.axisY.convertValueToPixel(d[a].y[1]),u||r?(c.connectNullData&&!u?(e.setLineDash&&(c.options.nullDataLineDashType||q===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(j[j.length-1].newLineDashArray=y,q=c.nullDataLineDashType,e.setLineDash(D)),e.lineTo(f,h),i&&l.lineTo(f,h),j.push({x:f,y1:h,y2:o})):(e.beginPath(),e.moveTo(f,h),C={x:f,y:h},(j=[]).push({x:f,y1:h,y2:o}),i&&(l.beginPath(),l.moveTo(f,h))),r=u=!1):(e.lineTo(f,h),j.push({x:f,y1:h,y2:o}),i&&l.lineTo(f,h),0==a%250&&t()),p=c.dataPointIds[a],this._eventManager.objectMap[p]={id:p,objectType:"dataPoint",dataSeriesIndex:B,dataPointIndex:a,x1:f,y1:h,y2:o},a<d.length-1&&(x!==(d[a].lineColor||w)||q!==(d[a].lineDashType||c.lineDashType))&&(t(),x=d[a].lineColor||w,j[j.length-1].newStrokeStyle=x,e.strokeStyle=x,e.setLineDash&&(d[a].lineDashType?(q=d[a].lineDashType,j[j.length-1].newLineDashArray=V(q,c.lineThickness),e.setLineDash(j[j.length-1].newLineDashArray)):(q=c.lineDashType,j[j.length-1].newLineDashArray=y,e.setLineDash(y)))),0!==d[a].markerSize&&(0<d[a].markerSize||0<c.markerSize)){var n=c.getMarkerProperties(a,f,o,e);m.push(n);var s=R(p);i&&m.push({x:f,y:o,ctx:l,type:n.type,size:n.size,color:s,borderColor:s,borderThickness:n.borderThickness}),n=c.getMarkerProperties(a,f,h,e),m.push(n),s=R(p),i&&m.push({x:f,y:h,ctx:l,type:n.type,size:n.size,color:s,borderColor:s,borderThickness:n.borderThickness})}(d[a].indexLabel||c.indexLabel||d[a].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:d[a],dataSeries:c,indexKeyword:0,point:{x:f,y:h},direction:d[a].y[0]>d[a].y[1]===g.axisY.reversed?-1:1,color:v}),this._indexLabels.push({chartType:"rangeArea",dataPoint:d[a],dataSeries:c,indexKeyword:1,point:{x:f,y:o},direction:d[a].y[0]>d[a].y[1]===g.axisY.reversed?1:-1,color:v}))}else r||u||t(),r=!0}t(),F.drawMarkers(m)}}return i&&(z.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&e.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&e.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(k.x1,k.y1,k.width,k.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:z,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderRangeSplineArea=function(f){function B(g,h){var a=A(j,2);if(0<a.length){if(0<d.lineThickness){e.strokeStyle=h,e.setLineDash&&e.setLineDash(g),e.beginPath(),e.moveTo(a[0].x,a[0].y);for(var c=0;c<a.length-3;c+=3)(a[c].newStrokeStyle||a[c].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(a[c].x,a[c].y),a[c].newStrokeStyle&&(e.strokeStyle=a[c].newStrokeStyle),a[c].newLineDashArray&&e.setLineDash(a[c].newLineDashArray)),e.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y)}for(e.beginPath(),e.moveTo(a[0].x,a[0].y),i&&(n.beginPath(),n.moveTo(a[0].x,a[0].y)),c=0;c<a.length-3;c+=3)e.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y),i&&n.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y);for(a=A(y,2),e.lineTo(y[y.length-1].x,y[y.length-1].y),c=a.length-1;2<c;c-=3)e.bezierCurveTo(a[c-1].x,a[c-1].y,a[c-2].x,a[c-2].y,a[c-3].x,a[c-3].y),i&&n.bezierCurveTo(a[c-1].x,a[c-1].y,a[c-2].x,a[c-2].y,a[c-3].x,a[c-3].y);if(e.closePath(),e.globalAlpha=d.fillOpacity,e.fill(),i&&(n.closePath(),n.fill()),e.globalAlpha=1,0<d.lineThickness){e.strokeStyle=h,e.setLineDash&&e.setLineDash(g),e.beginPath(),e.moveTo(a[0].x,a[0].y);for(var f=c=0;c<a.length-3;c+=3,f++)(j[f].newStrokeStyle||j[f].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(a[c].x,a[c].y),j[f].newStrokeStyle&&(e.strokeStyle=j[f].newStrokeStyle),j[f].newLineDashArray&&e.setLineDash(j[f].newLineDashArray)),e.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y);for(a=A(j,2),e.moveTo(a[0].x,a[0].y),f=c=0;c<a.length-3;c+=3,f++)(j[f].newStrokeStyle||j[f].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(a[c].x,a[c].y),j[f].newStrokeStyle&&(e.strokeStyle=j[f].newStrokeStyle),j[f].newLineDashArray&&e.setLineDash(j[f].newLineDashArray)),e.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y);e.stroke()}e.beginPath()}}var v=f.targetCanvasCtx||this.plotArea.ctx,e=i?this._preRenderCtx:v;if(!(0>=f.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,k=[],h=this.plotArea;e.save(),i&&n.save(),e.beginPath(),e.rect(h.x1,h.y1,h.width,h.height),e.clip(),i&&(n.beginPath(),n.rect(h.x1,h.y1,h.width,h.height),n.clip());for(var w=0;w<f.dataSeriesIndexes.length;w++){var x=f.dataSeriesIndexes[w],d=this.data[x],c=d.dataPoints,k=d.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:x},k=R(k),n.fillStyle=k;var g,l,p,k=[],a=0,j=[],y=[];if(0<c.length){var s=d._colorSet[a%d._colorSet.length],q=d.lineColor=d.options.lineColor||s,z=q;e.fillStyle=s,e.lineWidth=d.lineThickness;var t,o="solid";if(e.setLineDash){var C=V(d.nullDataLineDashType,d.lineThickness),o=d.lineDashType;t=V(o,d.lineThickness)}for(l=!1;a<c.length;a++)if(!((g=c[a].x.getTime?c[a].x.getTime():c[a].x)<f.axisX.dataInfo.viewPortMin||g>f.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!l))){if(null!==c[a].y&&c[a].y.length&&"number"==typeof c[a].y[0]&&"number"==typeof c[a].y[1]){g=f.axisX.convertValueToPixel(g),l=f.axisY.convertValueToPixel(c[a].y[0]),p=f.axisY.convertValueToPixel(c[a].y[1]);var u=d.dataPointIds[a];if(this._eventManager.objectMap[u]={id:u,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:a,x1:g,y1:l,y2:p},j[j.length]={x:g,y:l},y[y.length]={x:g,y:p},a<c.length-1&&(z!==(c[a].lineColor||q)||o!==(c[a].lineDashType||d.lineDashType))&&(z=c[a].lineColor||q,j[j.length-1].newStrokeStyle=z,e.setLineDash&&(c[a].lineDashType?(o=c[a].lineDashType,j[j.length-1].newLineDashArray=V(o,d.lineThickness)):(o=d.lineDashType,j[j.length-1].newLineDashArray=t))),0!==c[a].markerSize&&(0<c[a].markerSize||0<d.markerSize)){var m=d.getMarkerProperties(a,g,l,e);k.push(m);var r=R(u);i&&k.push({x:g,y:l,ctx:n,type:m.type,size:m.size,color:r,borderColor:r,borderThickness:m.borderThickness}),m=d.getMarkerProperties(a,g,p,e),k.push(m),r=R(u),i&&k.push({x:g,y:p,ctx:n,type:m.type,size:m.size,color:r,borderColor:r,borderThickness:m.borderThickness})}(c[a].indexLabel||d.indexLabel||c[a].indexLabelFormatter||d.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:c[a],dataSeries:d,indexKeyword:0,point:{x:g,y:l},direction:c[a].y[0]<=c[a].y[1]?-1:1,color:s}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:c[a],dataSeries:d,indexKeyword:1,point:{x:g,y:p},direction:c[a].y[0]<=c[a].y[1]?1:-1,color:s})),l=!1}else 0<a&&!l&&(d.connectNullData?e.setLineDash&&0<j.length&&(d.options.nullDataLineDashType||!c[a-1].lineDashType)&&(j[j.length-1].newLineDashArray=C,o=d.nullDataLineDashType):(B(t,q),j=[],y=[])),l=!0}B(t,q),F.drawMarkers(k)}}return i&&(v.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",f.axisX.maskCanvas&&e.drawImage(f.axisX.maskCanvas,0,0,this.width,this.height),f.axisY.maskCanvas&&e.drawImage(f.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:v,dest:this.plotArea.ctx,animationCallback:E.xClipAnimation,easingFunction:E.easing.linear,animationBase:0}}},a.prototype.renderWaterfall=function(c){var v=c.targetCanvasCtx||this.plotArea.ctx,g=i?this._preRenderCtx:v;if(!(0>=c.dataSeriesIndexes.length)){var k,f,h,y,s=this._eventManager.ghostCtx,l=null,m=this.plotArea,a=0,z=c.axisY.convertValueToPixel(c.axisY.logarithmic?c.axisY.viewportMinimum:0),a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/c.plotType.totalDataSeries))<<0;var j=c.axisX.dataInfo.minDiff;isFinite(j)||(j=.3*Math.abs(c.axisX.range)),j=this.options.dataPointWidth?this.dataPointWidth:.6*(m.width*(c.axisX.logarithmic?Math.log(j)/Math.log(c.axisX.range):Math.abs(j)/Math.abs(c.axisX.range))/c.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&a>f&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<a&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),j<a&&(j=a),j>f&&(j=f),g.save(),i&&this._eventManager.ghostCtx.save(),g.beginPath(),g.rect(m.x1,m.y1,m.width,m.height),g.clip(),i&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.clip());for(var q=0;q<c.dataSeriesIndexes.length;q++){var A=c.dataSeriesIndexes[q],d=this.data[A],e=d.dataPoints,l=d._colorSet[0];d.risingColor=d.options.risingColor?d.options.risingColor:l,d.fallingColor=d.options.fallingColor?d.options.fallingColor:"#e40a0a";var p="number"==typeof d.options.lineThickness?Math.round(d.lineThickness):1,t=1==Math.round(p)%2?-0.5:0;if(0<e.length)for(var B=5<j&&!!d.bevelEnabled,r=!1,u=null,w=null,a=0;a<e.length;a++)if(y=e[a].getTime?e[a].x.getTime():e[a].x,"number"!=typeof e[a].y){if(0<a&&!r&&d.connectNullData)var C=d.options.nullDataLineDashType||!e[a-1].lineDashType?d.nullDataLineDashType:e[a-1].lineDashType;r=!0}else{k=c.axisX.convertValueToPixel(y),f=0===d.dataPointEOs[a].cumulativeSum?z:c.axisY.convertValueToPixel(d.dataPointEOs[a].cumulativeSum),h=0===d.dataPointEOs[a].cumulativeSumYStartValue?z:c.axisY.convertValueToPixel(d.dataPointEOs[a].cumulativeSumYStartValue),k=c.axisX.reversed?k+c.plotType.totalDataSeries*j/2-(c.previousDataSeriesCount+q)*j<<0:k-c.plotType.totalDataSeries*j/2+(c.previousDataSeriesCount+q)*j<<0;var o=c.axisX.reversed?k-j<<0:k+j<<0;f>h&&(l=f,f=h,h=l),c.axisY.reversed&&(l=f,f=h,h=l),l=d.dataPointIds[a],this._eventManager.objectMap[l]={id:l,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:a,x1:k,y1:f,x2:o,y2:h};var n=e[a].color?e[a].color:0<e[a].y?d.risingColor:d.fallingColor;au(g,c.axisX.reversed?o:k,c.axisY.reversed?h:f,c.axisX.reversed?k:o,c.axisY.reversed?f:h,n,0,n,B,B,!1,!1,d.fillOpacity),l=R(l),i&&au(this._eventManager.ghostCtx,c.axisX.reversed?o:k,f,c.axisX.reversed?k:o,h,l,0,null,!1,!1,!1,!1);var x,n=k;x=void 0!==e[a].isIntermediateSum&& !0===e[a].isIntermediateSum|| void 0!==e[a].isCumulativeSum&& !0===e[a].isCumulativeSum?0<e[a].y?f:h:0<e[a].y?h:f,0<a&&u&&(!r||d.connectNullData)&&(r&&g.setLineDash&&g.setLineDash(V(C,p)),g.beginPath(),g.moveTo(u,w-t),g.lineTo(n,x-t),0<p&&g.stroke(),i&&(s.beginPath(),s.moveTo(u,w-t),s.lineTo(n,x-t),0<p&&s.stroke())),r=!1,u=o,w=0<e[a].y?f:h,n=e[a].lineDashType?e[a].lineDashType:d.options.lineDashType?d.options.lineDashType:"shortDash",g.strokeStyle=e[a].lineColor?e[a].lineColor:d.options.lineColor?d.options.lineColor:"#9e9e9e",g.lineWidth=p,g.setLineDash&&(n=V(n,p),g.setLineDash(n)),(e[a].indexLabel||d.indexLabel||e[a].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:e[a],dataSeries:d,point:{x:k+(o-k)/2,y:0<=e[a].y?f:h},direction:0>e[a].y===c.axisY.reversed?1:-1,bounds:{x1:k,y1:Math.min(f,h),x2:o,y2:Math.max(f,h)},color:l})}}return i&&(v.drawImage(this._preRenderCanvas,0,0,this.width,this.height),g.globalCompositeOperation="source-atop",c.axisX.maskCanvas&&g.drawImage(c.axisX.maskCanvas,0,0,this.width,this.height),c.axisY.maskCanvas&&g.drawImage(c.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),g.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),g.restore(),{source:v,dest:this.plotArea.ctx,animationCallback:E.fadeInAnimation,easingFunction:E.easing.easeInQuad,animationBase:0}}};var C=function(a,c,e,h,j,f,d,g,k){if(!(0>e)){if(void 0===g&&(g=1),!i){var l=Number((d%(2*Math.PI)).toFixed(8));Number((f%(2*Math.PI)).toFixed(8))===l&&(d-=1e-4)}a.save(),a.globalAlpha=g,"pie"===j?(a.beginPath(),a.moveTo(c.x,c.y),a.arc(c.x,c.y,e,f,d,!1),a.fillStyle=h,a.strokeStyle="white",a.lineWidth=2,a.closePath(),a.fill()):"doughnut"===j&&(a.beginPath(),a.arc(c.x,c.y,e,f,d,!1),0<=k&&a.arc(c.x,c.y,k*e,d,f,!0),a.closePath(),a.fillStyle=h,a.strokeStyle="white",a.lineWidth=2,a.fill()),a.globalAlpha=1,a.restore()}};a.prototype.renderPie=function(c){function k(h){var c=q.plotArea.ctx;for(c.clearRect(f.x1,f.y1,f.width,f.height),c.fillStyle=q.backgroundColor,c.fillRect(f.x1,f.y1,f.width,f.height),c=0;c<e.length;c++){var d=t[c].startAngle,j=t[c].endAngle;if(j>d){var i=.07*g*Math.cos(t[c].midAngle),k=.07*g*Math.sin(t[c].midAngle),l=!1;e[c].exploded?(1e-9<Math.abs(t[c].center.x-(y.x+i))||1e-9<Math.abs(t[c].center.y-(y.y+k)))&&(t[c].center.x=y.x+i*h,t[c].center.y=y.y+k*h,l=!0):(0<Math.abs(t[c].center.x-y.x)||0<Math.abs(t[c].center.y-y.y))&&(t[c].center.x=y.x+i*(1-h),t[c].center.y=y.y+k*(1-h),l=!0),l&&((i={}).dataSeries=a,i.dataPoint=a.dataPoints[c],i.index=c,q.toolTip.highlightObjects([i])),C(q.plotArea.ctx,t[c].center,t[c].radius,e[c].color?e[c].color:a._colorSet[c%a._colorSet.length],a.type,d,j,a.fillOpacity,t[c].percentInnerRadius)}}for((h=q.plotArea.ctx).save(),h.fillStyle="black",h.strokeStyle="grey",h.textBaseline="middle",h.lineJoin="round",c=c=0;c<e.length;c++)(d=t[c]).indexLabelText&&(d.indexLabelTextBlock.y-=d.indexLabelTextBlock.height/2,j=0,j="left"===d.hemisphere?"inside"!==a.indexLabelPlacement?-(d.indexLabelTextBlock.width+s):-d.indexLabelTextBlock.width/2:"inside"!==a.indexLabelPlacement?s:-d.indexLabelTextBlock.width/2,d.indexLabelTextBlock.x+=j,d.indexLabelTextBlock.render(!0),d.indexLabelTextBlock.x-=j,d.indexLabelTextBlock.y+=d.indexLabelTextBlock.height/2,"inside"!==d.indexLabelPlacement&&0<d.indexLabelLineThickness&&(j=d.center.x+g*Math.cos(d.midAngle),i=d.center.y+g*Math.sin(d.midAngle),h.strokeStyle=d.indexLabelLineColor,h.lineWidth=d.indexLabelLineThickness,h.setLineDash&&h.setLineDash(V(d.indexLabelLineDashType,d.indexLabelLineThickness)),h.beginPath(),h.moveTo(j,i),h.lineTo(d.indexLabelTextBlock.x,d.indexLabelTextBlock.y),h.lineTo(d.indexLabelTextBlock.x+("left"===d.hemisphere?-s:s),d.indexLabelTextBlock.y),h.stroke()),h.lineJoin="miter");h.save()}function l(a,c){var d=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,e=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,f=c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2,g=c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2;return c.indexLabelTextBlock.y>a.indexLabelTextBlock.y?f-e:d-g}function n(c){for(var a=null,d=1;d<e.length;d++)if(a=(c+d+t.length)%t.length,t[a].hemisphere!==t[c].hemisphere){a=null;break}else if(t[a].indexLabelText&&a!==c&&(0>l(t[a],t[c])||("right"===t[c].hemisphere?t[a].indexLabelTextBlock.y>=t[c].indexLabelTextBlock.y:t[a].indexLabelTextBlock.y<=t[c].indexLabelTextBlock.y)))break;else a=null;return a}function o(f,a,k){if(1e3<(k=(k||0)+1))return 0;a=a||0;var m=0,d=y.y-1*r,h=y.y+1*r;if(0<=f&&f<e.length){var c=t[f];if(0>a&&c.indexLabelTextBlock.y<d||0<a&&c.indexLabelTextBlock.y>h)return 0;var j=0,i=j=j=0;for(0>a?c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2>d&&c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2+a<d&&(a=-(d-(c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2+a))):c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2<d&&c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2+a>h&&(a=c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2+a-h),a=c.indexLabelTextBlock.y+a,d=0,d="right"===c.hemisphere?y.x+Math.sqrt(Math.pow(r,2)-Math.pow(a-y.y,2)):y.x-Math.sqrt(Math.pow(r,2)-Math.pow(a-y.y,2)),i=y.x+g*Math.cos(c.midAngle),j=y.y+g*Math.sin(c.midAngle),j=Math.sqrt(Math.pow(d-i,2)+Math.pow(a-j,2)),i=Math.acos(g/r),j=Math.acos((r*r+g*g-j*j)/(2*g*r)),a=j<i?a-c.indexLabelTextBlock.y:0,d=null,h=1;h<e.length;h++)if(d=(f-h+t.length)%t.length,t[d].hemisphere!==t[f].hemisphere){d=null;break}else if(t[d].indexLabelText&&t[d].hemisphere===t[f].hemisphere&&d!==f&&(0>l(t[d],t[f])||("right"===t[f].hemisphere?t[d].indexLabelTextBlock.y<=t[f].indexLabelTextBlock.y:t[d].indexLabelTextBlock.y>=t[f].indexLabelTextBlock.y)))break;else d=null;i=d,j=n(f),h=d=0,0>a?(h="right"===c.hemisphere?i:j,m=a,null!==h&&(i=-a,(a=c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2-(t[h].indexLabelTextBlock.y+t[h].indexLabelTextBlock.height/2))-i<u&& +(h=o(h,d=-i,k+1)).toFixed(x)> +d.toFixed(x)&&(m=a>u?-(a-u):-(i-(h-d))))):0<a&&(h="right"===c.hemisphere?j:i,m=a,null!==h&&(i=a,(a=t[h].indexLabelTextBlock.y-t[h].indexLabelTextBlock.height/2-(c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2))-i<u&& +(h=o(h,d=i,k+1)).toFixed(x)< +d.toFixed(x)&&(m=a>u?a-u:i-(d-h)))),m&&(k=c.indexLabelTextBlock.y+m,a=0,a="right"===c.hemisphere?y.x+Math.sqrt(Math.pow(r,2)-Math.pow(k-y.y,2)):y.x-Math.sqrt(Math.pow(r,2)-Math.pow(k-y.y,2)),c.midAngle>Math.PI/2-w&&c.midAngle<Math.PI/2+w?(d=(f-1+t.length)%t.length,d=t[d],f=t[(f+1+t.length)%t.length],"left"===c.hemisphere&&"right"===d.hemisphere&&a>d.indexLabelTextBlock.x?a=d.indexLabelTextBlock.x-15:"right"===c.hemisphere&&"left"===f.hemisphere&&a<f.indexLabelTextBlock.x&&(a=f.indexLabelTextBlock.x+15)):c.midAngle>3*Math.PI/2-w&&c.midAngle<3*Math.PI/2+w&&(d=(f-1+t.length)%t.length,d=t[d],f=t[(f+1+t.length)%t.length],"right"===c.hemisphere&&"left"===d.hemisphere&&a<d.indexLabelTextBlock.x?a=d.indexLabelTextBlock.x+15:"left"===c.hemisphere&&"right"===f.hemisphere&&a>f.indexLabelTextBlock.x&&(a=f.indexLabelTextBlock.x-15)),c.indexLabelTextBlock.y=k,c.indexLabelTextBlock.x=a,c.indexLabelAngle=Math.atan2(c.indexLabelTextBlock.y-y.y,c.indexLabelTextBlock.x-y.x))}return m}function h(){var h=q.plotArea.ctx;h.fillStyle="grey",h.strokeStyle="grey",h.font="16px Arial",h.textBaseline="middle";for(var A=h=0,p=0,B=!0,A=0;10>A&&(1>A||0<p);A++){if((a.radius|| !a.radius&& void 0!==a.innerRadius&&null!==a.innerRadius&&g-p<=j)&&(B=!1),B&&(g-=p),p=0,"inside"!==a.indexLabelPlacement){for(h=0,r=g*v;h<e.length;h++){var c=t[h];c.indexLabelTextBlock.x=y.x+r*Math.cos(c.midAngle),c.indexLabelTextBlock.y=y.y+r*Math.sin(c.midAngle),c.indexLabelAngle=c.midAngle,c.radius=g,c.percentInnerRadius=z}for(var D,i,h=0;h<e.length;h++){var c=t[h],d=n(h);if(null!==d){var w=l(D=t[h],i=t[d])-u;if(0>w){for(var m=i=0,k=0;k<e.length;k++)k!==h&&t[k].hemisphere===c.hemisphere&&(t[k].indexLabelTextBlock.y<c.indexLabelTextBlock.y?i++:m++);i=w/(i+m||1)*m;var m=-1*(w-i),C=k=0;"right"===c.hemisphere?(k=o(h,i),+(C=o(d,m=-1*(w-k))).toFixed(x)< +m.toFixed(x)&& +k.toFixed(x)<= +i.toFixed(x)&&o(h,-(m-C))):(k=o(d,i),+(C=o(h,m=-1*(w-k))).toFixed(x)< +m.toFixed(x)&& +k.toFixed(x)<= +i.toFixed(x)&&o(d,-(m-C)))}}}}else for(h=0;h<e.length;h++)c=t[h],r="pie"===a.type?.7*g:.8*g,d=y.x+r*Math.cos(c.midAngle),i=y.y+r*Math.sin(c.midAngle),c.indexLabelTextBlock.x=d,c.indexLabelTextBlock.y=i;for(h=0;h<e.length;h++)0!==(d=(c=t[h]).indexLabelTextBlock.measureText()).height&&0!==d.width&&(d=d=0,"right"===c.hemisphere?(d=f.x2-(c.indexLabelTextBlock.x+c.indexLabelTextBlock.width+s),d*=-1):d=f.x1-(c.indexLabelTextBlock.x-c.indexLabelTextBlock.width-s),0<d&&(!B&&c.indexLabelText&&(i="right"===c.hemisphere?f.x2-c.indexLabelTextBlock.x:c.indexLabelTextBlock.x-f.x1,.3*c.indexLabelTextBlock.maxWidth>i?c.indexLabelText="":c.indexLabelTextBlock.maxWidth=.85*i,.3*c.indexLabelTextBlock.maxWidth<i&&(c.indexLabelTextBlock.x-="right"===c.hemisphere?2:-2)),Math.abs(c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2-y.y)<g||Math.abs(c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2-y.y)<g)&&(9<(d/=Math.abs(Math.cos(c.indexLabelAngle)))&&(d*=.3),d>p&&(p=d)),d=d=0,0<c.indexLabelAngle&&c.indexLabelAngle<Math.PI?(d=f.y2-(c.indexLabelTextBlock.y+c.indexLabelTextBlock.height/2+5),d*=-1):d=f.y1-(c.indexLabelTextBlock.y-c.indexLabelTextBlock.height/2-5),0<d&&(!B&&c.indexLabelText&&0===o(h,d*(i=0<c.indexLabelAngle&&c.indexLabelAngle<Math.PI?-1:1))&&o(h,2*i),Math.abs(c.indexLabelTextBlock.x-y.x)<g&&(9<(d/=Math.abs(Math.sin(c.indexLabelAngle)))&&(d*=.3),d>p&&(p=d))));var E=function(g,a,c){for(var d=[],f=0;d.push(t[a]),a!==c;a=(a+1+e.length)%e.length);for(d.sort(function(a,c){return a.y-c.y}),a=0;a<d.length;a++)if(c=d[a],f<.7*g)f+=c.indexLabelTextBlock.height,c.indexLabelTextBlock.text="",c.indexLabelText="",c.indexLabelTextBlock.measureText();else break};!function(){for(var c=-1,g=-1,d=0,i=!1,f=0;f<e.length;f++)if(i=!1,(D=t[f]).indexLabelText){var j=n(f);if(null!==j){var h,a=t[j];if(w=0,h=0>(w=l(D,a))){h=D.indexLabelTextBlock.x;var k=D.indexLabelTextBlock.y-D.indexLabelTextBlock.height/2,m=D.indexLabelTextBlock.y+D.indexLabelTextBlock.height/2,o=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,p=a.indexLabelTextBlock.x+a.indexLabelTextBlock.width,q=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2;h=!(D.indexLabelTextBlock.x+D.indexLabelTextBlock.width<a.indexLabelTextBlock.x-s)&&!(h>p+s)&&!(k>q+s)&&!(m<o-s)}h?(0>c&&(c=f),j!==c&&(g=j,d+=-w),0==f%Math.max(e.length/10,3)&&(i=!0)):i=!0,i&&0<d&&0<=c&&0<=g&&(E(d,c,g),g=c=-1,d=0)}}0<d&&E(d,c,g)}()}}function p(){if(q.plotArea.layoutManager.reset(),q.title&&(q.title.dockInsidePlotArea||"center"===q.title.horizontalAlign&&"center"===q.title.verticalAlign)&&q.title.render(),q.subtitles)for(var c=0;c<q.subtitles.length;c++){var a=q.subtitles[c];(a.dockInsidePlotArea||"center"===a.horizontalAlign&&"center"===a.verticalAlign)&&a.render()}q.legend&&(q.legend.dockInsidePlotArea||"center"===q.legend.horizontalAlign&&"center"===q.legend.verticalAlign)&&(q.legend.setLayout(),q.legend.render())}var q=this;if(!(0>=c.dataSeriesIndexes.length)){var r,a=this.data[c.dataSeriesIndexes[0]],e=a.dataPoints,s=10,f=this.plotArea,t=a.dataPointEOs,u=2,v=1.3,w=20/180*Math.PI,x=6,y={x:(f.x2+f.x1)/2,y:(f.y2+f.y1)/2},i=0;c=!1;for(var d=0;d<e.length;d++)i+=Math.abs(e[d].y),!c&& void 0!==e[d].indexLabel&&null!==e[d].indexLabel&&0<e[d].indexLabel.toString().length&&(c=!0),!c&& void 0!==e[d].label&&null!==e[d].label&&0<e[d].label.toString().length&&(c=!0);if(0!==i){c=c|| void 0!==a.indexLabel&&null!==a.indexLabel&&0<a.indexLabel.toString().length;var g="inside"!==a.indexLabelPlacement&&c?.75*Math.min(f.width,f.height)/2:.92*Math.min(f.width,f.height)/2;a.radius&&(g=ae(a.radius,g));var j=void 0!==a.innerRadius&&null!==a.innerRadius?ae(a.innerRadius,g):.7*g;a.radius=g,"doughnut"===a.type&&(a.innerRadius=j);var z=Math.min(j/g,(g-1)/g);this.pieDoughnutClickHandler=function(a){var c;q.isAnimating||null!=a.dataSeries.explodeOnClick&&!a.dataSeries.explodeOnClick||((a=a.dataPoint).exploded=!a.exploded,1<this.dataPoints.length&&q._animator.animate(0,500,function(a){k(a),p(),q.dispatchEvent("dataAnimationIterationEnd",{chart:q}),q.dispatchEvent("dataAnimationEnd",{chart:q})}))},function(){if(a&&e){for(var l=0,n=0,o=0,p=0,h=0;h<e.length;h++){var d=e[h],k=a.dataPointIds[h];t[h].id=k,t[h].objectType="dataPoint",t[h].dataPointIndex=h,t[h].dataSeriesIndex=0;var s,u,c=t[h],j={percent:null,total:null},r=null,j=q.getPercentAndTotal(a,d);(a.indexLabelFormatter||d.indexLabelFormatter)&&(r={chart:q.options,dataSeries:a,dataPoint:d,total:j.total,percent:j.percent}),j=d.indexLabelFormatter?d.indexLabelFormatter(r):d.indexLabel?q.replaceKeywordsWithValue(d.indexLabel,d,a,h):a.indexLabelFormatter?a.indexLabelFormatter(r):a.indexLabel?q.replaceKeywordsWithValue(a.indexLabel,d,a,h):d.label?d.label:"",q._eventManager.objectMap[k]=c,c.center={x:y.x,y:y.y},c.y=d.y,c.radius=g,c.percentInnerRadius=z,c.indexLabelText=j,c.indexLabelPlacement=a.indexLabelPlacement,c.indexLabelLineColor=d.indexLabelLineColor?d.indexLabelLineColor:a.options.indexLabelLineColor?a.options.indexLabelLineColor:d.color?d.color:a._colorSet[h%a._colorSet.length],s=d.indexLabelLineThickness,c.indexLabelLineThickness=null==s?a.indexLabelLineThickness:d.indexLabelLineThickness,c.indexLabelLineDashType=d.indexLabelLineDashType?d.indexLabelLineDashType:a.indexLabelLineDashType,c.indexLabelFontColor=d.indexLabelFontColor?d.indexLabelFontColor:a.indexLabelFontColor,c.indexLabelFontStyle=d.indexLabelFontStyle?d.indexLabelFontStyle:a.indexLabelFontStyle,c.indexLabelFontWeight=d.indexLabelFontWeight?d.indexLabelFontWeight:a.indexLabelFontWeight,u=d.indexLabelFontSize,c.indexLabelFontSize=null==u?a.indexLabelFontSize:d.indexLabelFontSize,c.indexLabelFontFamily=d.indexLabelFontFamily?d.indexLabelFontFamily:a.indexLabelFontFamily,c.indexLabelBackgroundColor=d.indexLabelBackgroundColor?d.indexLabelBackgroundColor:a.options.indexLabelBackgroundColor?a.options.indexLabelBackgroundColor:a.indexLabelBackgroundColor,c.indexLabelMaxWidth=d.indexLabelMaxWidth?d.indexLabelMaxWidth:a.indexLabelMaxWidth?a.indexLabelMaxWidth:.33*f.width,c.indexLabelWrap=void 0!==d.indexLabelWrap?d.indexLabelWrap:a.indexLabelWrap,c.indexLabelTextAlign=d.indexLabelTextAlign?d.indexLabelTextAlign:a.indexLabelTextAlign?a.indexLabelTextAlign:"left",c.startAngle=0===h?a.startAngle?a.startAngle/180*Math.PI:0:t[h-1].endAngle,c.startAngle=(c.startAngle+2*Math.PI)%(2*Math.PI),c.endAngle=c.startAngle+2*Math.PI/i*Math.abs(d.y),d=(c.endAngle+c.startAngle)/2,d=(d+2*Math.PI)%(2*Math.PI),c.midAngle=d,c.midAngle>Math.PI/2-w&&c.midAngle<Math.PI/2+w?((0===l||t[o].midAngle>c.midAngle)&&(o=h),l++):c.midAngle>3*Math.PI/2-w&&c.midAngle<3*Math.PI/2+w&&((0===n||t[p].midAngle>c.midAngle)&&(p=h),n++),c.hemisphere=d>Math.PI/2&&d<=3*Math.PI/2?"left":"right",c.indexLabelTextBlock=new m(q.plotArea.ctx,{fontSize:c.indexLabelFontSize,fontFamily:c.indexLabelFontFamily,fontColor:c.indexLabelFontColor,fontStyle:c.indexLabelFontStyle,fontWeight:c.indexLabelFontWeight,textAlign:c.indexLabelTextAlign,backgroundColor:c.indexLabelBackgroundColor,maxWidth:c.indexLabelMaxWidth,maxHeight:c.indexLabelWrap?5*c.indexLabelFontSize:1.5*c.indexLabelFontSize,text:c.indexLabelText,padding:0,textBaseline:"top"}),c.indexLabelTextBlock.measureText()}for(h=0,k=d=0,j=!1;h<e.length;h++)c=t[(o+h)%e.length],1<l&&c.midAngle>Math.PI/2-w&&c.midAngle<Math.PI/2+w&&(d<=l/2&&!j?(c.hemisphere="right",d++):(c.hemisphere="left",j=!0));for(h=0,j=!1;h<e.length;h++)c=t[(p+h)%e.length],1<n&&c.midAngle>3*Math.PI/2-w&&c.midAngle<3*Math.PI/2+w&&(k<=n/2&&!j?(c.hemisphere="left",k++):(c.hemisphere="right",j=!0))}}(),h(),h(),h(),h(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(i){var d=q.plotArea.ctx;d.clearRect(f.x1,f.y1,f.width,f.height),d.fillStyle=q.backgroundColor,d.fillRect(f.x1,f.y1,f.width,f.height);for(var d=t[0].startAngle+2*Math.PI*i,c=0;c<e.length;c++){var h=0===c?t[c].startAngle:g,g=h+(t[c].endAngle-t[c].startAngle),j=!1;g>d&&(g=d,j=!0);var k=e[c].color?e[c].color:a._colorSet[c%a._colorSet.length];if(g>h&&C(q.plotArea.ctx,t[c].center,t[c].radius,k,a.type,h,g,a.fillOpacity,t[c].percentInnerRadius),j)break}p(),q.dispatchEvent("dataAnimationIterationEnd",{chart:q}),1<=i&&q.dispatchEvent("dataAnimationEnd",{chart:q})},function(){q.disableToolTip=!1,q._animator.animate(0,q.animatedRender?500:0,function(a){k(a),p(),q.dispatchEvent("dataAnimationIterationEnd",{chart:q})}),q.dispatchEvent("dataAnimationEnd",{chart:q})})}}};var D=function(c,a,d,e){void 0===d&&(d=1),0>=Math.round(a.y4-a.y1)||(c.save(),c.globalAlpha=d,c.beginPath(),c.moveTo(Math.round(a.x1),Math.round(a.y1)),c.lineTo(Math.round(a.x2),Math.round(a.y2)),c.lineTo(Math.round(a.x3),Math.round(a.y3)),c.lineTo(Math.round(a.x4),Math.round(a.y4)),"undefined"!==a.x5&&(c.lineTo(Math.round(a.x5),Math.round(a.y5)),c.lineTo(Math.round(a.x6),Math.round(a.y6))),c.closePath(),c.fillStyle=e||a.color,c.fill(),c.globalAplha=1,c.restore())};a.prototype.renderFunnel=function(d){function M(){var d,f,e,g;if("inside"!==c.indexLabelPlacement)for(var a=0;a<l.length;a++)0==z[a].textBlock.text.length?z[a].isDirty=!0:(e=void 0!==(d=l[a]).x5?(d.y2+d.y4)/2:(d.y2+d.y3)/2,f=c.reversed?void 0!==d.x5&&e>t?Y(e).x2+1:(d.x2+d.x3)/2+1:void 0!==d.x5?e<t?Y(e).x2+1:(d.x4+d.x3)/2+1:(d.x2+d.x3)/2+1,z[a].textBlock.x=f+_,z[a].textBlock.y=e-z[a].height/2,c.reversed?(z[a].textBlock.y+z[a].height>s+A&&(z[a].textBlock.y=s+A-z[a].height),z[a].textBlock.y<aa-A&&(z[a].textBlock.y=aa-A)):(z[a].textBlock.y<s-A&&(z[a].textBlock.y=s-A),z[a].textBlock.y+z[a].height>aa+A&&(z[a].textBlock.y=aa+A-z[a].height)));else for(a=0;a<l.length;a++)0==z[a].textBlock.text.length?z[a].isDirty=!0:(f=(d=l[a]).height,e=z[a].height,g=z[a].width,f>=e?(f=a!=G?(d.x4+d.x3)/2-g/2:(d.x5+d.x4)/2-g/2,e=a!=G?(d.y1+d.y3)/2-e/2:(d.y1+d.y4)/2-e/2,z[a].textBlock.x=f,z[a].textBlock.y=e):z[a].isDirty=!0)}function S(a,d){return(d<l.length?z[d].textBlock.y:c.reversed?s+A:aa+A)-(0>a?c.reversed?aa-A:s-A:z[a].textBlock.y+z[a].height+ac)}function I(m,d,j){var e,f,n,i=[],k=A,p=[];if(-1!==d&&(0<=H.indexOf(d)?(f=H.indexOf(d),H.splice(f,1)):(H.push(d),H=H.sort(function(a,c){return a-c}))),0===H.length)i=R;else{f=A*(1!=H.length||0!=H[0]&&H[0]!=l.length-1?2:1)/U();for(var a=0;a<l.length;a++){if(1==H.length&&0==H[0]){if(0===a){i.push(R[a]),e=k;continue}}else 0===a&&(e=-1*k);i.push(R[a]+e),(0<=H.indexOf(a)||a<l.length&&0<=H.indexOf(a+1))&&(e+=f)}}n=function(){for(var c=[],a=0;a<l.length;a++)c.push(i[a]-l[a].y1);return c}();var q={startTime:(new Date).getTime(),duration:j||500,easingFunction:function(a,c,d,e){return E.easing.easeOutQuart(a,c,d,e)},changeSection:function(e){for(var c,d,a=0;a<l.length;a++)c=n[a],d=l[a],c*=e,void 0===p[a]&&(p[a]=0),0>p&&(p*=-1),d.y1+=c-p[a],d.y2+=c-p[a],d.y3+=c-p[a],d.y4+=c-p[a],d.y5&&(d.y5+=c-p[a],d.y6+=c-p[a]),p[a]=c}};m._animator.animate(0,j,function(f){var e=m.plotArea.ctx||m.ctx;ad=!0,e.clearRect(h.x1,h.y1,h.x2-h.x1,h.y2-h.y1),e.fillStyle=m.backgroundColor,e.fillRect(h.x1,h.y1,h.width,h.height),q.changeSection(f,d);var a={};for(a.dataSeries=c,a.dataPoint=c.reversed?c.dataPoints[g.length-1-d]:c.dataPoints[d],a.index=c.reversed?g.length-1-d:d,m.toolTip.highlightObjects([a]),a=0;a<l.length;a++)D(e,l[a],c.fillOpacity);Q(e),o&&("inside"!==c.indexLabelPlacement?N(e):M(),O(e)),1<=f&&(ad=!1)},null,E.easing.easeOutQuart)}function U(){for(var c=0,a=0;a<l.length-1;a++)(0<=H.indexOf(a)||0<=H.indexOf(a+1))&&c++;return c}function N(c){for(var f,e,g,d,a=0;a<l.length;a++)d=1==z[a].lineThickness%2?.5:0,e=((l[a].y2+l[a].y4)/2<<0)+d,f=Y(e).x2-1,g=z[a].textBlock.x,d=(z[a].textBlock.y+z[a].height/2<<0)+d,z[a].isDirty||0==z[a].lineThickness||(c.strokeStyle=z[a].lineColor,c.lineWidth=z[a].lineThickness,c.setLineDash&&c.setLineDash(V(z[a].lineDashType,z[a].lineThickness)),c.beginPath(),c.moveTo(f,e),c.lineTo(g,d),c.stroke())}function W(a){for(a-=1;-1<=a&& -1!=a&&z[a].isDirty;a--);return a}function X(a){for(a+=1;a<=l.length&&a!=l.length&&z[a].isDirty;a++);return a}function Y(c){for(var a,d=0;d<g.length;d++)if(l[d].y1<c&&l[d].y4>c){a=l[d];break}return a?{x1:c=a.y6&&c>a.y6?a.x3+(a.x4-a.x3)/(a.y4-a.y3)*(c-a.y3):a.x2+(a.x3-a.x2)/(a.y3-a.y2)*(c-a.y2),x2:c}:-1}function O(c){for(var a=0;a<l.length;a++)z[a].isDirty||(c&&(z[a].textBlock.ctx=c),z[a].textBlock.render(!0))}function Q(a){if(p.plotArea.layoutManager.reset(),a.roundRect||P(a),p.title&&(p.title.dockInsidePlotArea||"center"===p.title.horizontalAlign&&"center"===p.title.verticalAlign)&&(p.title.ctx=a,p.title.render()),p.subtitles)for(var d=0;d<p.subtitles.length;d++){var c=p.subtitles[d];(c.dockInsidePlotArea||"center"===c.horizontalAlign&&"center"===c.verticalAlign)&&(p.subtitles.ctx=a,c.render())}p.legend&&(p.legend.dockInsidePlotArea||"center"===p.legend.horizontalAlign&&"center"===p.legend.verticalAlign)&&(p.legend.ctx=a,p.legend.setLayout(),p.legend.render()),n.fNg&&n.fNg(p)}var p=this;if(!(0>=d.dataSeriesIndexes.length)){for(var c=this.data[d.dataSeriesIndexes[0]],g=c.dataPoints,h=this.plotArea,A=.025*h.width,j=.01*h.width,k=0,v=h.height-2*A,f=Math.min(h.width-2*j,2.8*h.height),o=!1,e=0;e<g.length;e++)!o&& void 0!==g[e].indexLabel&&null!==g[e].indexLabel&&0<g[e].indexLabel.toString().length&&(o=!0),!o&& void 0!==g[e].label&&null!==g[e].label&&0<g[e].label.toString().length&&(o=!0),(o||"function"!=typeof c.indexLabelFormatter)&&"function"!=typeof g[e].indexLabelFormatter||(o=!0);o=o|| void 0!==c.indexLabel&&null!==c.indexLabel&&0<c.indexLabel.toString().length,"inside"!==c.indexLabelPlacement&&o||(j=(h.width-.75*f)/2);var e=h.x1+j,J=h.x2-j,w=h.y1+A,B=h.y2-A,r=d.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=c.length&&c.dataPoints&&c.visible&&0!==g.length){var Z,K,_=30*(J-(d=75*f/100))/100;"funnel"===c.type?(ab=null==c.options.neckHeight?.35*v:c.neckHeight,K=c.options.neckWidth,a=null==K?.25*d:c.neckWidth,ab="string"==typeof ab&&ab.match(/%$/)?(ab=parseInt(ab))*v/100:parseInt(ab),a="string"==typeof a&&a.match(/%$/)?(a=parseInt(a))*d/100:parseInt(a),ab>v?ab=v:0>=ab&&(ab=0),a>d?a=d-.5:0>=a&&(a=0)):"pyramid"===c.type&&(a=ab=0,c.reversed=!c.reversed);var j=e+d/2,C=e,L=e+d,s=c.reversed?B:w,x=j-a/2,F=j+a/2,t=c.reversed?w+ab:B-ab,aa=c.reversed?w:B;d=[];var ab,a,G,j=[],l=[],f=[],q=w,u=(t-s)/(x-C),y=-u,e="area"===(c.valueRepresents?c.valueRepresents:"height")?function(){var c,j,d=C,h=L,l=x,m=F;c=w,m=Math.abs(((j=B-ab)-c)*(h-d+(m-l))/2),l=F-x,c=j-c,j=l*(j-B),j=Math.abs(j),j=m+j;for(var m=[],n=0,e=0;e<g.length;e++){if(void 0===g[e].y)return -1;g[e].y="number"==typeof g[e].y?g[e].y:0,n+=Math.abs(g[e].y)}if(0===n)return -1;for(var i,f,k=m[0]=0,a=0,h=h-d,k=!1,e=0;e<g.length;e++)d=Math.abs(g[e].y)*j/n,k?i=0==Number(l.toFixed(3))?0:d/l:0>(f=u*u*h*h-4*Math.abs(u)*d)?(k=(h+(f=l))*(c-a)/2,d-=k,i=c-a,a+=c-a,i+=0==f?0:d/f,a+=d/f,k=!0):(i=(Math.abs(u)*h-Math.sqrt(f))/2,f=h-2*i/Math.abs(u),a+=i,a>c&&(a-=i,k=(h+(f=l))*(c-a)/2,d-=k,i=c-a,a+=c-a,i+=d/f,a+=d/f,k=!0),h=f),m.push(i);return m}():function(){for(var c=0,d=[],a=0;a<g.length;a++){if(void 0===g[a].y)return -1;g[a].y="number"==typeof g[a].y?g[a].y:0,c+=Math.abs(g[a].y)}if(0===c)return -1;for(a=d[0]=0;a<g.length;a++)d.push(Math.abs(g[a].y)*v/c);return d}();if(-1!==e){if(c.reversed)for(f.push(q),a=e.length-1;0<a;a--)q+=e[a],f.push(q);else for(a=0;a<e.length;a++)q+=e[a],f.push(q);if(c.reversed)for(a=0;a<e.length;a++)f[a]<t?(d.push(x),j.push(F),G=a):(d.push((f[a]-s+u*C)/u),j.push((f[a]-s+y*L)/y));else for(a=0;a<e.length;a++)f[a]<t?(d.push((f[a]-s+u*C)/u),j.push((f[a]-s+y*L)/y),G=a):(d.push(x),j.push(F));for(a=0;a<e.length-1;a++)q=c.reversed?g[g.length-1-a].color?g[g.length-1-a].color:c._colorSet[(g.length-1-a)%c._colorSet.length]:g[a].color?g[a].color:c._colorSet[a%c._colorSet.length],a===G?l.push({x1:d[a],y1:f[a],x2:j[a],y2:f[a],x3:F,y3:t,x4:j[a+1],y4:f[a+1],x5:d[a+1],y5:f[a+1],x6:x,y6:t,id:a,height:f[a+1]-f[a],color:q}):l.push({x1:d[a],y1:f[a],x2:j[a],y2:f[a],x3:j[a+1],y3:f[a+1],x4:d[a+1],y4:f[a+1],id:a,height:f[a+1]-f[a],color:q});var ac=2,z=[],ad=!1,H=[],R=[],e=!1;for(d=d=0,T(H),a=0;a<g.length;a++)g[a].exploded&&(e=!0,c.reversed?H.push(g.length-1-a):H.push(a));if(r.clearRect(h.x1,h.y1,h.width,h.height),r.fillStyle=p.backgroundColor,r.fillRect(h.x1,h.y1,h.width,h.height),o&&c.visible&&(function(){if(c&&g){for(var v,k,d,e,w,x,n,y,A,B,o,C,D,f,E,h,j=[],s=[],t={percent:null,total:null},u=null,a=0;a<g.length;a++)h=Y(h=void 0!==(h=l[a]).x5?(h.y2+h.y4)/2:(h.y2+h.y3)/2).x2+1,j[a]=J-h-_;h=.5*_;for(var a=0,q=g.length-1;a<g.length||0<=q;a++,q--)k=(d=c.reversed?g[q]:g[a]).color?d.color:c.reversed?c._colorSet[(g.length-1-a)%c._colorSet.length]:c._colorSet[a%c._colorSet.length],e=d.indexLabelPlacement||c.indexLabelPlacement||"outside",E=d.indexLabelTextAlign||c.indexLabelTextAlign||"left",w=d.indexLabelBackgroundColor||c.indexLabelBackgroundColor||(i?"transparent":null),x=d.indexLabelFontColor||c.indexLabelFontColor||"#979797",v=d.indexLabelFontSize,n=null==v?c.indexLabelFontSize:d.indexLabelFontSize,y=d.indexLabelFontStyle||c.indexLabelFontStyle||"normal",A=d.indexLabelFontFamily||c.indexLabelFontFamily||"arial",B=d.indexLabelFontWeight||c.indexLabelFontWeight||"normal",k=d.indexLabelLineColor||c.options.indexLabelLineColor||k,o="number"==typeof d.indexLabelLineThickness?d.indexLabelLineThickness:"number"==typeof c.indexLabelLineThickness?c.indexLabelLineThickness:2,C=d.indexLabelLineDashType||c.indexLabelLineDashType||"solid",D=void 0!==d.indexLabelWrap?d.indexLabelWrap:void 0===c.indexLabelWrap||c.indexLabelWrap,f=c.dataPointIds[a],p._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataPointIndex:a,dataSeriesIndex:0,funnelSection:l[c.reversed?g.length-1-a:a]},"inside"===c.indexLabelPlacement&&(j[a]=a!==G?c.reversed?l[a].x2-l[a].x1:l[a].x3-l[a].x4:l[a].x3-l[a].x6,20>j[a]&&(j[a]=a!==G&&c.reversed?l[a].x3-l[a].x4:l[a].x2-l[a].x1,j[a]/=2)),f=d.indexLabelMaxWidth?d.indexLabelMaxWidth:c.options.indexLabelMaxWidth?c.indexLabelMaxWidth:j[a],(f>j[a]||0>f)&&(f=j[a]),s[a]="inside"===c.indexLabelPlacement&&l[a].height,t=p.getPercentAndTotal(c,d),(c.indexLabelFormatter||d.indexLabelFormatter)&&(u={chart:p.options,dataSeries:c,dataPoint:d,total:t.total,percent:t.percent}),d=d.indexLabelFormatter?d.indexLabelFormatter(u):d.indexLabel?p.replaceKeywordsWithValue(d.indexLabel,d,c,a):c.indexLabelFormatter?c.indexLabelFormatter(u):c.indexLabel?p.replaceKeywordsWithValue(c.indexLabel,d,c,a):d.label?d.label:"",0>=o&&(o=0),1e3>f&&1e3-f<h&&(f+=1e3-f),r.roundRect||P(r),e=new m(r,{fontSize:n,fontFamily:A,fontColor:x,fontStyle:y,fontWeight:B,horizontalAlign:e,textAlign:E,backgroundColor:w,maxWidth:f,maxHeight:!1===s[a]?D?4.28571429*n:1.5*n:s[a],text:d,padding:ac}),e.measureText(),z.push({textBlock:e,id:c.reversed?q:a,isDirty:!1,lineColor:k,lineThickness:o,lineDashType:C,height:e.height<e.maxHeight?e.height:e.maxHeight,width:e.width<e.maxWidth?e.width:e.maxWidth})}}(),M(),function(){var e,j,d,k,h,i=[];h=!1,d=0;for(var m,f=J-L-_/2,f=c.options.indexLabelMaxWidth?c.indexLabelMaxWidth>f?f:c.indexLabelMaxWidth:f,a=z.length-1;0<=a;a--)m=g[z[a].id],d=z[a],k=d.textBlock,j=(e=X(a)<l.length?z[X(a)]:null)?e.textBlock:null,d=d.height,e&&k.y+d+ac>j.y&&(h=!0),d=m.indexLabelMaxWidth||f,(d>f||0>d)&&(d=f),i.push(d);if(h)for(a=z.length-1;0<=a;a--)e=l[a],z[a].textBlock.maxWidth=i[i.length-(a+1)],z[a].textBlock.measureText(),z[a].textBlock.x=J-f,d=z[a].textBlock.height<z[a].textBlock.maxHeight?z[a].textBlock.height:z[a].textBlock.maxHeight,h=z[a].textBlock.width<z[a].textBlock.maxWidth?z[a].textBlock.width:z[a].textBlock.maxWidth,z[a].height=d,z[a].width=h,d=void 0!==e.x5?(e.y2+e.y4)/2:(e.y2+e.y3)/2,z[a].textBlock.y=d-z[a].height/2,c.reversed?(z[a].textBlock.y+z[a].height>s+A&&(z[a].textBlock.y=s+A-z[a].height),z[a].textBlock.y<aa-A&&(z[a].textBlock.y=aa-A)):(z[a].textBlock.y<s-A&&(z[a].textBlock.y=s-A),z[a].textBlock.y+z[a].height>aa+A&&(z[a].textBlock.y=aa+A-z[a].height))}(),"inside"!==c.indexLabelPlacement)){for(function(){function i(d,c){if(0>d||d>=z.length)return 0;var a,f,e=z[d].textBlock;return 0>c?(c*=-1,(a=S(f=W(d),d))>=c)?(e.y-=c,c):0==d?(0<a&&(e.y-=a),a):(0<(a+=i(f,-(c-a)))&&(e.y-=a),a):(f=X(d),(a=S(d,f))>=c)?(e.y+=c,c):d==l.length-1?(0<a&&(e.y+=a),a):(0<(a+=i(f,c-a))&&(e.y+=a),a)}function k(){var g,h,a,c,f,i=0;c=(B-w+2*A)/m,f=m;for(var e,j=1;j<f;j++){a=j*c;for(var d=z.length-1;0<=d;d--)!z[d].isDirty&&z[d].textBlock.y<a&&z[d].textBlock.y+z[d].height>a&& !((e=X(d))>=z.length-1)&&z[d].textBlock.y+z[d].height+ac>z[e].textBlock.y&&(z[d].textBlock.y=z[d].textBlock.y+z[d].height-a>a-z[d].textBlock.y?a+1:a-z[d].height-1)}for(e=l.length-1;0<e;e--)if(!z[e].isDirty){if(0>(a=W(e))&&z[a=0].isDirty)break;if(z[e].textBlock.y<z[a].textBlock.y+z[a].height){for(f=0,h=h||e,c=e;z[c].textBlock.y<z[a].textBlock.y+z[a].height+ac;)if(g=g||z[c].textBlock.y+z[c].height,f+=z[c].height,f+=ac,c=a,0>=c||0>(a=W(c))){f+=z[c=0].height;break}if(c!=e){g-=i=z[c].textBlock.y,i=n(g=f-g,h,c);break}}}return i}function n(e,a,c){var d=[],f=0,g=0;for(e=Math.abs(e);c<=a;c++)d.push(l[c]);for(d.sort(function(a,c){return a.height-c.height}),c=0;c<d.length;c++)if(a=d[c],f<e)g++,f+=z[a.id].height+ac,z[a.id].textBlock.text="",z[a.id].indexLabelText="",z[a.id].isDirty=!0,z[a.id].textBlock.measureText();else break;return g}for(var c,d,e,f,g,h,m=1,j=0;j<2*m;j++){for(var a=z.length-1;0<=a&&(0<=W(a)&&W(a),f=(e=z[a]).textBlock,h=(g=X(a)<l.length?z[X(a)]:null)?g.textBlock:null,c=+e.height.toFixed(6),d=+f.y.toFixed(6),!(!e.isDirty&&g&&d+c+ac> +h.y.toFixed(6))|| !((d=i(a,-(c=f.y+c+ac-h.y)))<c)||(0<d&&(c-=d),(d=i(X(a),c))==c));a--);k()}}(),a=0;a<g.length;a++)z[a].isDirty||(d=(J-(d=z[a].textBlock.x+z[a].width))/2,0==a&&(k=d),k>d&&(k=d));for(a=0;a<l.length;a++)l[a].x1+=k,l[a].x2+=k,l[a].x3+=k,l[a].x4+=k,l[a].x5&&(l[a].x5+=k,l[a].x6+=k),z[a].textBlock.x+=k}for(a=0;a<l.length;a++)D(r,k=l[a],c.fillOpacity),R.push(k.y1);if(Q(r),o&&c.visible&&("inside"===c.indexLabelPlacement||p.animationEnabled||N(r),p.animationEnabled||O()),!o)for(a=0;a<g.length;a++)d={id:k=c.dataPointIds[a],objectType:"dataPoint",dataPointIndex:a,dataSeriesIndex:0,funnelSection:l[c.reversed?g.length-1-a:a]},p._eventManager.objectMap[k]=d;return!p.animationEnabled&&e?I(p,-1,0):p.animationEnabled&&!p.animatedRender&&I(p,-1,0),this.funnelPyramidClickHandler=function(a){var e,d=-1;!ad&&!p.isAnimating&&(null==a.dataSeries.explodeOnClick||a.dataSeries.explodeOnClick)&&0<=(d=c.reversed?g.length-1-a.dataPointIndex:a.dataPointIndex)&&(a=d,("funnel"===c.type||"pyramid"===c.type)&&(c.reversed?g[g.length-1-a].exploded=!g[g.length-1-a].exploded:g[a].exploded=!g[a].exploded),I(p,d,500))},{source:r,dest:this.plotArea.ctx,animationCallback:function(a,c){E.fadeInAnimation(a,c),1<=a&&(I(p,-1,500),Q(p.plotArea.ctx||p.ctx))},easingFunction:E.easing.easeInQuad,animationBase:0}}}}},a.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},a.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,a.prototype.set=function(d,e,c){c=void 0===c||c,"options"===d?(this.options=e,c&&this.render()):a.base.set.call(this,d,e,c)},a.prototype.exportChart=function(a){var c=(a=void 0===a?{}:a).format?a.format:"png",f=a.fileName?a.fileName:this.exportFileName;if(a.toDataURL)return this.canvas.toDataURL("image/"+c);var e=this.canvas;if(e&&c&&f){f=f+"."+c,a="image/"+c;var e=e.toDataURL(a),j=!1,d=document.createElement("a");if(d.download=f,d.href=e,"undefined"!=typeof Blob&&new Blob){for(var g=e.replace(/^data:[a-z\/]*;base64,/,""),g=atob(g),h=new ArrayBuffer(g.length),h=new Uint8Array(h),i=0;i<g.length;i++)h[i]=g.charCodeAt(i);c=new Blob([h.buffer],{type:"image/"+c});try{window.navigator.msSaveBlob(c,f),j=!0}catch(k){d.dataset.downloadurl=[a,d.download,d.href].join(":"),d.href=window.URL.createObjectURL(c)}}if(!j)try{(event=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),d.dispatchEvent?d.dispatchEvent(event):d.fireEvent&&d.fireEvent("onclick")}catch(l){(c=window.open()).document.write("<img src='"+e+"'></img><div>Please right click on the image and save it to your device</div>"),c.document.close()}}},a.prototype.print=function(){var d=this.exportChart({toDataURL:!0}),a=document.createElement("iframe");a.setAttribute("class","canvasjs-chart-print-frame"),aa(a,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),a.style.height=this.height+"px",this._canvasJSContainer.appendChild(a);var e=this,c=a.contentWindow||a.contentDocument.document||a.contentDocument;c.document.open(),c.document.write('<!DOCTYPE HTML>\n<html><body><img src="'+d+'"/><body/></html>'),c.document.body&&c.document.body.style&&(c.document.body.style.margin="0px 0px 0px 0px",c.document.body.style.padding="0px 0px 0px 0px"),c.document.close(),setTimeout(function(){c.focus(),c.print(),setTimeout(function(){e._canvasJSContainer.removeChild(a)},1e3)},500)},a.prototype.getPercentAndTotal=function(c,d){var a=null,e=null,f=a=null;if(0<=c.type.indexOf("stacked"))e=0,(a=d.x.getTime?d.x.getTime():d.x)in c.plotUnit.yTotals&&(e=c.plotUnit.yTotals[a],a=c.plotUnit.yAbsTotals[a],f=isNaN(d.y)?0:0===a?0:100*(d.y/a));else if("pie"===c.type||"doughnut"===c.type||"funnel"===c.type||"pyramid"===c.type){for(a=e=0;a<c.dataPoints.length;a++)isNaN(c.dataPoints[a].y)||(e+=c.dataPoints[a].y);f=isNaN(d.y)?0:100*(d.y/e)}return{percent:f,total:e}},a.prototype.replaceKeywordsWithValue=function(d,k,a,l,g){var i=this;if(g=void 0===g?0:g,(0<=a.type.indexOf("stacked")||"pie"===a.type||"doughnut"===a.type||"funnel"===a.type||"pyramid"===a.type)&&(0<=d.indexOf("#percent")||0<=d.indexOf("#total"))){var e="#percent",h="#total",c=this.getPercentAndTotal(a,k),h=isNaN(c.total)?h:c.total,e=isNaN(c.percent)?e:c.percent;do{if(c="",a.percentFormatString)c=a.percentFormatString;else{var c="#,##0.",f=Math.max(Math.ceil(Math.log(1/Math.abs(e))/Math.LN10),2);(isNaN(f)||!isFinite(f))&&(f=2);for(var j=0;j<f;j++)c+="#";a.percentFormatString=c}d=(d=d.replace("#percent",ar(e,c,i._cultureInfo))).replace("#total",ar(h,a.yValueFormatString?a.yValueFormatString:"#,##0.########",i._cultureInfo))}while(0<=d.indexOf("#percent")||0<=d.indexOf("#total"))}return d.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(c){if('"'===c[0]&&'"'===c[c.length-1]||"'"===c[0]&&"'"===c[c.length-1])return c.slice(1,c.length-1);c=(c=O(c.slice(1,c.length-1))).replace("#index",g);var e=null;try{var d=c.match(/(.*?)\s*\[\s*(.*?)\s*\]/);d&&0<d.length&&(e=O(d[2]),c=O(d[1]))}catch(f){}if(d=null,"color"===c)return"waterfall"===a.type?k.color?k.color:0<k.y?a.risingColor:a.fallingColor:"error"===a.type?a.color?a.color:a._colorSet[e%a._colorSet.length]:k.color?k.color:a.color?a.color:a._colorSet[l%a._colorSet.length];if(k.hasOwnProperty(c))d=k;else{if(!a.hasOwnProperty(c))return"";d=a}return(d=d[c],null!==e&&(d=d[e]),"x"!==c)?"y"===c?ar(d,k.yValueFormatString?k.yValueFormatString:a.yValueFormatString?a.yValueFormatString:a.yValueFormatString="#,##0.########",i._cultureInfo):"z"===c?ar(d,k.zValueFormatString?k.zValueFormatString:a.zValueFormatString?a.zValueFormatString:a.zValueFormatString="#,##0.########",i._cultureInfo):d:a.axisX&&"dateTime"===a.axisX.valueType||"dateTime"===a.xValueType||k.x&&k.x.getTime?a.axisX.logarithmic?void 0:aq(d,k.xValueFormatString?k.xValueFormatString:a.xValueFormatString?a.xValueFormatString:a.xValueFormatString=i.axisX&&i.axisX.autoValueFormatString?i.axisX.autoValueFormatString:"DD MMM YY",i._cultureInfo):ar(d,k.xValueFormatString?k.xValueFormatString:a.xValueFormatString?a.xValueFormatString:a.xValueFormatString="#,##0.########",i._cultureInfo)})},p(j,f),j.prototype.setLayout=function(){var x,w=this.dockInsidePlotArea?this.chart.plotArea:this.chart,f=w.layoutManager.getFreeSpace(),u=null,s=0,t=0,l=0,n=0,q=this.markerMargin=this.chart.options.legend&&null!=this.chart.options.legend.markerMargin?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var k=[],r=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",u=this.verticalAlign,l=this.maxWidth=null!==this.maxWidth?this.maxWidth:f.width,n=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*f.height):"center"===this.verticalAlign&&(this.orientation="vertical",("left"===this.horizontalAlign||"center"===this.horizontalAlign||"right"===this.horizontalAlign)&&(u=this.horizontalAlign),l=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*f.width,n=this.maxHeight=null!==this.maxHeight?this.maxHeight:f.height),this.errorMarkerColor=[];for(var h=0;h<this.dataSeries.length;h++){var a=this.dataSeries[h];if(a.dataPoints&&a.dataPoints.length){if("pie"!==a.type&&"doughnut"!==a.type&&"funnel"!==a.type&&"pyramid"!==a.type){var y,c=a.legendMarkerType=a.legendMarkerType?a.legendMarkerType:("line"===a.type||"stepLine"===a.type||"spline"===a.type||"scatter"===a.type||"bubble"===a.type)&&a.markerType?a.markerType:"error"===a.type&&a._linkedSeries?a._linkedSeries.legendMarkerType?a._linkedSeries.legendMarkerType:e.getDefaultLegendMarker(a._linkedSeries.type):e.getDefaultLegendMarker(a.type),i=a.legendText?a.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:a,dataPoint:null}):a.name,p=a.legendMarkerColor=a.legendMarkerColor?a.legendMarkerColor:a.markerColor?a.markerColor:"error"===a.type?null==a.whiskerColor?a._colorSet[0]:a.whiskerColor:a._colorSet[0],g=a.markerSize||"line"!==a.type&&"stepLine"!==a.type&&"spline"!==a.type?.75*this.lineHeight:0,o=a.legendMarkerBorderColor?a.legendMarkerBorderColor:a.markerBorderColor,v=a.legendMarkerBorderThickness?a.legendMarkerBorderThickness:a.markerBorderThickness?Math.max(1,Math.round(.2*g)):0;"error"===a.type&&this.errorMarkerColor.push(p),i=this.chart.replaceKeywordsWithValue(i,a.dataPoints[0],a,h),c={markerType:c,markerColor:p,text:i,textBlock:null,chartType:a.type,markerSize:g,lineColor:a._colorSet[0],dataSeriesIndex:a.index,dataPointIndex:null,markerBorderColor:o,markerBorderThickness:v},k.push(c)}else for(var j=0;j<a.dataPoints.length;j++){var d=a.dataPoints[j],c=d.legendMarkerType?d.legendMarkerType:a.legendMarkerType?a.legendMarkerType:e.getDefaultLegendMarker(a.type),i=d.legendText?d.legendText:a.legendText?a.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:a,dataPoint:d}):d.name?d.name:"DataPoint: "+(j+1),p=d.legendMarkerColor?d.legendMarkerColor:a.legendMarkerColor?a.legendMarkerColor:d.color?d.color:a.color?a.color:a._colorSet[j%a._colorSet.length],g=.75*this.lineHeight,o=d.legendMarkerBorderColor?d.legendMarkerBorderColor:a.legendMarkerBorderColor?a.legendMarkerBorderColor:d.markerBorderColor?d.markerBorderColor:a.markerBorderColor,v=d.legendMarkerBorderThickness?d.legendMarkerBorderThickness:a.legendMarkerBorderThickness?a.legendMarkerBorderThickness:d.markerBorderThickness||a.markerBorderThickness?Math.max(1,Math.round(.2*g)):0,i=this.chart.replaceKeywordsWithValue(i,d,a,j),c={markerType:c,markerColor:p,text:i,textBlock:null,chartType:a.type,markerSize:g,dataSeriesIndex:h,dataPointIndex:j,markerBorderColor:o,markerBorderThickness:v};(d.showInLegend||a.showInLegend&& !1!==d.showInLegend)&&k.push(c)}}}if(!0===this.reversed&&k.reverse(),0<k.length){for(a=null,p=i=d=j=0,d=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,l):this.itemMaxWidth=Math.min(this.itemWidth,l):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,l):this.itemMaxWidth=l,g=0===g?.75*this.lineHeight:g,d-=g+q,h=0;h<k.length;h++)c=k[h],o=d,("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType)&&(o-=.2*this.lineHeight),0>=n|| void 0===n||0>=o|| void 0===o||("horizontal"===this.orientation?(c.textBlock=new m(this.ctx,{x:0,y:0,maxWidth:o,maxHeight:this.itemWrap?n:this.lineHeight,angle:0,text:c.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),c.textBlock.measureText(),null!==this.itemWidth&&(c.textBlock.width=this.itemWidth-(g+q+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0))),(!a||a.width+Math.round(c.textBlock.width+g+q+(0===a.width?0:this.horizontalSpacing)+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0))>l)&&(a={items:[],width:0},r.push(a),this.height+=i,i=0),i=Math.max(i,c.textBlock.height)):(c.textBlock=new m(this.ctx,{x:0,y:0,maxWidth:d,maxHeight:!0===this.itemWrap?n:1.5*this.fontSize,angle:0,text:c.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),c.textBlock.measureText(),null!==this.itemWidth&&(c.textBlock.width=this.itemWidth-(g+q+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0))),this.height<n-this.lineHeight?(a={items:[],width:0},r.push(a)):(a=r[j],j=(j+1)%r.length),this.height+=c.textBlock.height),c.textBlock.x=a.width,c.textBlock.y=0,a.width+=Math.round(c.textBlock.width+g+q+(0===a.width?0:this.horizontalSpacing)+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0)),a.items.push(c),this.width=Math.max(a.width,this.width),p=c.textBlock.width+(g+q+("line"===c.chartType||"spline"===c.chartType||"stepLine"===c.chartType?.2*this.lineHeight:0)));this.itemWidth=p,this.height=!1===this.itemWrap?r.length*this.lineHeight:this.height+i,this.height=Math.min(n,this.height),this.width=Math.min(l,this.width)}for("top"===this.verticalAlign?(t="left"===this.horizontalAlign?f.x1:"right"===this.horizontalAlign?f.x2-this.width:f.x1+f.width/2-this.width/2,s=f.y1):"center"===this.verticalAlign?(t="left"===this.horizontalAlign?f.x1:"right"===this.horizontalAlign?f.x2-this.width:f.x1+f.width/2-this.width/2,s=f.y1+f.height/2-this.height/2):"bottom"===this.verticalAlign&&(t="left"===this.horizontalAlign?f.x1:"right"===this.horizontalAlign?f.x2-this.width:f.x1+f.width/2-this.width/2,s=f.y2-this.height),this.items=k,h=0;h<this.items.length;h++)(c=k[h]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[c.id]={id:c.id,objectType:"legendItem",legendItemIndex:h,dataSeriesIndex:c.dataSeriesIndex,dataPointIndex:c.dataPointIndex};this.markerSize=g,this.rows=r,0<k.length&&w.layoutManager.registerSpace(u,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:t,y1:s,x2:t+this.width,y2:s+this.height}},j.prototype.render=function(){var k=this.bounds.x1,l=this.bounds.y1,t=this.markerMargin,u=this.maxWidth,p=this.maxHeight,i=this.markerSize,q=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(k,l,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var r=0,m=0;m<q.length;m++){for(var s=q[m],n=0,f=0;f<s.items.length;f++){var a=s.items[f],c=a.textBlock.x+k+(0===f?.2*i:this.horizontalSpacing),g=l+r,j=c;if(this.chart.data[a.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(k,l,u,Math.max(p-p%this.lineHeight,0)),this.ctx.clip(),("line"===a.chartType||"stepLine"===a.chartType||"spline"===a.chartType)&&(this.ctx.strokeStyle=a.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(c-.1*this.lineHeight,g+this.lineHeight/2),this.ctx.lineTo(c+.85*this.lineHeight,g+this.lineHeight/2),this.ctx.stroke(),j-=.1*this.lineHeight),"error"===a.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=i/8,this.ctx.beginPath();var d=c-.08*this.lineHeight+.1*this.lineHeight,e=g+.15*this.lineHeight,h=.7*this.lineHeight,o=h+.02*this.lineHeight;this.ctx.moveTo(d,e),this.ctx.lineTo(d+h,e),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(d+h/2,e),this.ctx.lineTo(d+h/2,e+o),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(d,e+o),this.ctx.lineTo(d+h,e+o),this.ctx.stroke(),this.errorMarkerColor.shift()}F.drawMarker(c+i/2,g+this.lineHeight/2,this.ctx,a.markerType,"error"===a.chartType||"line"===a.chartType||"spline"===a.chartType?a.markerSize/2:a.markerSize,a.markerColor,a.markerBorderColor,a.markerBorderThickness),a.textBlock.x=c+t+i,("line"===a.chartType||"stepLine"===a.chartType||"spline"===a.chartType)&&(a.textBlock.x+=.1*this.lineHeight),a.textBlock.y=Math.round(g+this.lineHeight/2),a.textBlock.render(!0),this.ctx.restore(),n=0<f?Math.max(n,a.textBlock.height):a.textBlock.height,this.chart.data[a.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),c=R(a.id),this.ghostCtx.fillStyle=c,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(j,a.textBlock.y-this.lineHeight/2,a.textBlock.x+a.textBlock.width-j,a.textBlock.height),a.x1=this.chart._eventManager.objectMap[a.id].x1=j,a.y1=this.chart._eventManager.objectMap[a.id].y1=a.textBlock.y-this.lineHeight/2,a.x2=this.chart._eventManager.objectMap[a.id].x2=a.textBlock.x+a.textBlock.width,a.y2=this.chart._eventManager.objectMap[a.id].y2=a.textBlock.y+a.textBlock.height-this.lineHeight/2}r+=n}},p(e,f),e.prototype.getDefaultAxisPlacement=function(){var a=this.type;return"column"===a||"line"===a||"stepLine"===a||"spline"===a||"area"===a||"stepArea"===a||"splineArea"===a||"stackedColumn"===a||"stackedLine"===a||"bubble"===a||"scatter"===a||"stackedArea"===a||"stackedColumn100"===a||"stackedLine100"===a||"stackedArea100"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeArea"===a||"rangeSplineArea"===a||"boxAndWhisker"===a||"waterfall"===a?"normal":"bar"===a||"stackedBar"===a||"stackedBar100"===a||"rangeBar"===a?"xySwapped":"pie"===a||"doughnut"===a||"funnel"===a||"pyramid"===a?"none":("error"!==a&&window.console.log("Unknown Chart Type: "+a),null)},e.getDefaultLegendMarker=function(a){return"column"===a||"stackedColumn"===a||"stackedLine"===a||"bar"===a||"stackedBar"===a||"stackedBar100"===a||"bubble"===a||"scatter"===a||"stackedColumn100"===a||"stackedLine100"===a||"stepArea"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeBar"===a||"rangeArea"===a||"rangeSplineArea"===a||"boxAndWhisker"===a||"waterfall"===a?"square":"line"===a||"stepLine"===a||"spline"===a||"pie"===a||"doughnut"===a?"circle":"area"===a||"splineArea"===a||"stackedArea"===a||"stackedArea100"===a||"funnel"===a||"pyramid"===a?"triangle":"error"===a?"none":(window.console.log("Unknown Chart Type: "+a),null)},e.prototype.getDataPointAtX=function(c,j){if(!this.dataPoints||0===this.dataPoints.length)return null;var a={dataPoint:null,distance:1/0,index:NaN},e=null,f=0,h=0,g=1,k=1/0,l=0,m=0,d=0;for("none"!==this.chart.plotInfo.axisPlacement&&(d=this.axisX.logarithmic?1<(d=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/d*Math.log(c/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/d*(c-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(h=0<g?d+f:d-f)&&h<this.dataPoints.length){var e=this.dataPoints[h],i=this.axisX.logarithmic?e.x>c?e.x/c:c/e.x:Math.abs(e.x-c);if(i<a.distance&&(a.dataPoint=e,a.distance=i,a.index=h),(e=i)<=k?k=e:0<g?l++:m++,1e3<l&&1e3<m)break}else if(0>d-f&&d+f>=this.dataPoints.length)break;-1===g?(f++,g=1):g=-1}return j||(a.dataPoint.x.getTime?a.dataPoint.x.getTime():a.dataPoint.x)!==(c.getTime?c.getTime():c)?j&&null!==a.dataPoint?a:null:a},e.prototype.getDataPointAtXY=function(e,d,o){if(!this.dataPoints||0===this.dataPoints.length||e<this.chart.plotArea.x1||e>this.chart.plotArea.x2||d<this.chart.plotArea.y1||d>this.chart.plotArea.y2)return null;o=o||!1;var h=[],n=0,f=0,m=1,k=!1,p=1/0,q=0,r=0,l=0;if("none"!==this.chart.plotInfo.axisPlacement){if(l=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:e,y:d}),this.axisX.logarithmic)var a=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),l=1<a?Math.min(Math.max((this.dataPoints.length-1)/a*Math.log(l/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else l=0<(a=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/a*(l-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0}for(;;){if(0<=(f=0<m?l+n:l-n)&&f<this.dataPoints.length){var a=this.chart._eventManager.objectMap[this.dataPointIds[f]],i=this.dataPoints[f],c=null;if(a){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":e>=a.x1&&e<=a.x2&&d>=a.y1&&d<=a.y2&&(h.push({dataPoint:i,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(a.x1-e),Math.abs(a.x2-e),Math.abs(a.y1-d),Math.abs(a.y2-d))}),k=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var g=Y("markerSize",i,this)||4,j=o?20:g,c=Math.sqrt(Math.pow(a.x1-e,2)+Math.pow(a.y1-d,2));c<=j&&h.push({dataPoint:i,dataPointIndex:f,dataSeries:this,distance:c}),(a=Math.abs(a.x1-e))<=p?p=a:0<m?q++:r++,c<=g/2&&(k=!0);break;case"rangeArea":case"rangeSplineArea":g=Y("markerSize",i,this)||4,j=o?20:g,(c=Math.min(Math.sqrt(Math.pow(a.x1-e,2)+Math.pow(a.y1-d,2)),Math.sqrt(Math.pow(a.x1-e,2)+Math.pow(a.y2-d,2))))<=j&&h.push({dataPoint:i,dataPointIndex:f,dataSeries:this,distance:c}),(a=Math.abs(a.x1-e))<=p?p=a:0<m?q++:r++,c<=g/2&&(k=!0);break;case"bubble":g=a.size,c=Math.sqrt(Math.pow(a.x1-e,2)+Math.pow(a.y1-d,2)),c<=g/2&&(h.push({dataPoint:i,dataPointIndex:f,dataSeries:this,distance:c}),k=!0);break;case"pie":case"doughnut":g=a.center,j="doughnut"===this.type?a.percentInnerRadius*a.radius:0,(c=Math.sqrt(Math.pow(g.x-e,2)+Math.pow(g.y-d,2)))<a.radius&&c>j&&(0>(c=Math.atan2(d-g.y,e-g.x))&&(c+=2*Math.PI),c=Number(((180*(c/Math.PI)%360+360)%360).toFixed(12)),g=Number(((180*(a.startAngle/Math.PI)%360+360)%360).toFixed(12)),j=Number(((180*(a.endAngle/Math.PI)%360+360)%360).toFixed(12)),0===j&&1<a.endAngle&&(j=360),g>=j&&0!==i.y&&(j+=360,c<g&&(c+=360)),c>g&&c<j&&(h.push({dataPoint:i,dataPointIndex:f,dataSeries:this,distance:0}),k=!0));break;case"funnel":case"pyramid":d>(c=a.funnelSection).y1&&d<c.y4&&(c.y6?d>c.y6?(f=c.x6+(c.x5-c.x6)/(c.y5-c.y6)*(d-c.y6),c=c.x3+(c.x4-c.x3)/(c.y4-c.y3)*(d-c.y3)):(f=c.x1+(c.x6-c.x1)/(c.y6-c.y1)*(d-c.y1),c=c.x2+(c.x3-c.x2)/(c.y3-c.y2)*(d-c.y2)):(f=c.x1+(c.x4-c.x1)/(c.y4-c.y1)*(d-c.y1),c=c.x2+(c.x3-c.x2)/(c.y3-c.y2)*(d-c.y2)),e>f&&e<c&&(h.push({dataPoint:i,dataPointIndex:a.dataPointIndex,dataSeries:this,distance:0}),k=!0));break;case"boxAndWhisker":(e>=a.x1-a.borderThickness/2&&e<=a.x2+a.borderThickness/2&&d>=a.y4-a.borderThickness/2&&d<=a.y1+a.borderThickness/2||Math.abs(a.x2-e+a.x1-e)<a.borderThickness&&d>=a.y1&&d<=a.y4)&&(h.push({dataPoint:i,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(a.x1-e),Math.abs(a.x2-e),Math.abs(a.y2-d),Math.abs(a.y3-d))}),k=!0);break;case"candlestick":(e>=a.x1-a.borderThickness/2&&e<=a.x2+a.borderThickness/2&&d>=a.y2-a.borderThickness/2&&d<=a.y3+a.borderThickness/2||Math.abs(a.x2-e+a.x1-e)<a.borderThickness&&d>=a.y1&&d<=a.y4)&&(h.push({dataPoint:i,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(a.x1-e),Math.abs(a.x2-e),Math.abs(a.y2-d),Math.abs(a.y3-d))}),k=!0);break;case"ohlc":(Math.abs(a.x2-e+a.x1-e)<a.borderThickness&&d>=a.y2&&d<=a.y3||e>=a.x1&&e<=(a.x2+a.x1)/2&&d>=a.y1-a.borderThickness/2&&d<=a.y1+a.borderThickness/2||e>=(a.x1+a.x2)/2&&e<=a.x2&&d>=a.y4-a.borderThickness/2&&d<=a.y4+a.borderThickness/2)&&(h.push({dataPoint:i,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(a.x1-e),Math.abs(a.x2-e),Math.abs(a.y2-d),Math.abs(a.y3-d))}),k=!0)}if(k||1e3<q&&1e3<r)break}}else if(0>l-n&&l+n>=this.dataPoints.length)break;-1===m?(n++,m=1):m=-1}for(d=0,e=null;d<h.length;d++)e?h[d].distance<=e.distance&&(e=h[d]):e=h[d];return e},e.prototype.getMarkerProperties=function(a,d,e,f){var c=this.dataPoints;return{x:d,y:e,ctx:f,type:c[a].markerType?c[a].markerType:this.markerType,size:c[a].markerSize?c[a].markerSize:this.markerSize,color:c[a].markerColor?c[a].markerColor:this.markerColor?this.markerColor:c[a].color?c[a].color:this.color?this.color:this._colorSet[a%this._colorSet.length],borderColor:c[a].markerBorderColor?c[a].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:c[a].markerBorderThickness?c[a].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},p(c,f),c.prototype.createExtraLabelsForLog=function(d){if(!(5<(d=(d||0)+1))){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var f=c.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),a=Math.ceil(this.viewportMinimum/f)*f;a<e;a+=f)a<this.viewportMinimum||this.logLabelValues.push(a);this.logLabelValues.sort(Q),this.createExtraLabelsForLog(d)}}},c.prototype.createLabels=function(){var c,n,p,s,h,T,e=0,a=0,g=0,d=this.interval,l=0,t=.6*this.chart.height;c=!1;var j=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],k=j.length?null==this.scaleBreaks.firstBreakIndex?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(p=this.viewportMaximum,this.labels){c=Math.ceil(d);for(var d=Math.ceil(this.intervalStartPosition),f=!1,e=d;e<this.viewportMaximum;e+=c)if(this.labels[e])f=!0;else{f=!1;break}f&&(this.interval=c,this.intervalStartPosition=d)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),d=0,f=k;d<this.logLabelValues.length;d++)if((e=this.logLabelValues[d])<this.viewportMinimum)d++;else{for(;f<j.length&&e>j[f].endValue;f++);c=f<j.length&&e>=j[f].startValue&&e<=j[f].endValue,h=e,c||(c=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:h,label:this.labels[h]?this.labels[h]:null}):"axisX"===this.type&&this.labels[h]?this.labels[h]:ar(h,this.valueFormatString,this.chart._cultureInfo),c=new m(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:g,angle:this.labelAngle,text:this.prefix+c+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:h,textBlock:c,effectiveHeight:null}))}for(f=k,e=this.intervalStartPosition;e<=p;e=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?e*Math.pow(this.logarithmBase,this.interval):e+this.interval:(this.logarithmic&&this.equidistantInterval?e*Math.pow(this.logarithmBase,this.interval):e+this.interval).toFixed(12))){for(;f<j.length&&e>j[f].endValue;f++);c=f<j.length&&e>=j[f].startValue&&e<=j[f].endValue,h=e,c||(c=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:h,label:this.labels[h]?this.labels[h]:null}):"axisX"===this.type&&this.labels[h]?this.labels[h]:ar(h,this.valueFormatString,this.chart._cultureInfo),c=new m(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:g,angle:this.labelAngle,text:this.prefix+c+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:h,textBlock:c,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),p=M(new Date(this.viewportMaximum),this.interval,this.intervalType),f=k,e=this.intervalStartPosition;e<p;M(e,d,this.intervalType)){for(c=e.getTime();f<j.length&&c>j[f].endValue;f++);h=c,(c=f<j.length&&c>=j[f].startValue&&c<=j[f].endValue)||(c=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(h),label:this.labels[h]?this.labels[h]:null}):"axisX"===this.type&&this.labels[h]?this.labels[h]:aq(h,this.valueFormatString,this.chart._cultureInfo),c=new m(this.ctx,{x:0,y:0,maxWidth:a,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:g,angle:this.labelAngle,text:this.prefix+c+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:h,textBlock:c,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(l=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*aj[this.intervalType+"Duration"]*this.interval,a=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(g=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):("left"===this._position||"right"===this._position)&&(l=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*aj[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(a=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),g=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),d=0;d<this._labels.length;d++){(c=this._labels[d].textBlock).maxWidth=a,c.maxHeight=g;var q=c.measureText();s=q.height}if(p=[],k=j=0,this.labelAutoFit||this.options.labelAutoFit){if(null==this.labelAngle||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position){if(a=.9*l>>0,k=0,!this.chart.panEnabled&&1<=this._labels.length){for(e=0,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap;e<this._labels.length;e++)if(!this._labels[e].breaksLabelType){c=this._labels[e].textBlock;for(var U,u,V,W,X,Y,Z,_,v,aa,w,x,ab,y,z,ac,A,B,ad,ae,af,C,ag,D,ah,E,ai,F,ak,G,al,H,am,I,an,J,ao,K,ap,L,as,at,au,av,aw,ax,N,ay,O,az,P,Q,R,aA,aB,aC,aD,o,f=c.text.split(" "),d=0;d<f.length;d++)h=f[d],this.ctx.font=c.fontStyle+" "+c.fontWeight+" "+c.fontSize+"px "+c.fontFamily,(h=this.ctx.measureText(h)).width>k&&(o=e,k=h.width)}for(e=0,e=this.intervalStartPosition<this.viewportMinimum?1:0;e<this._labels.length;e++)if(!this._labels[e].breaksLabelType){for(q=(c=this._labels[e].textBlock).measureText(),f=e+1;f<this._labels.length;f++)if(!this._labels[f].breaksLabelType){n=(n=this._labels[f].textBlock).measureText();break}if(p.push(c.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,p),Math.PI,this.labelAngle,Math.PI,this.labelAngle,d=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(g-c.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),null==this.options.labelAngle&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle){if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?g:Math.min((d-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d),h=(t-(s+c.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),null==this.options.labelWrap){if(null==this.options.labelWrap){if(null==this.options.labelMaxWidth){if(null!=n){if(d=q.width+n.width>>0,f=this.labelFontSize,k<a)d-2*a>j&&(j=d-2*a,d>=2*a&&d<2.2*a?(this.sessionVariables.labelMaxWidth=a,null==this.options.labelFontSize&&12<f&&(f=Math.floor(12/13*f),c.measureText()),N=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==N?f:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):d>=2.2*a&&d<2.8*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelFontSize=f):d>=2.8*a&&d<3.2*a?(this.sessionVariables.labelMaxWidth=Math.max(a,k),this.sessionVariables.labelWrap=!0,null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),c.measureText()),O=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==O?f:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):d>=3.2*a&&d<3.6*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelFontSize=this.labelFontSize):d>3.6*a&&d<5*a?(null==this.options.labelFontSize&&12<f&&(f=Math.floor(12/13*f),c.measureText()),P=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==P?f:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=h):d>5*a&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=f,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelAngle=this.labelAngle));else if(o===e&&(0===o&&k+this._labels[o+1].textBlock.measureText().width-2*a>j||o===this._labels.length-1&&k+this._labels[o-1].textBlock.measureText().width-2*a>j||0<o&&o<this._labels.length-1&&k+this._labels[o+1].textBlock.measureText().width-2*a>j&&k+this._labels[o-1].textBlock.measureText().width-2*a>j))j=0===o?k+this._labels[o+1].textBlock.measureText().width-2*a:k+this._labels[o-1].textBlock.measureText().width-2*a,Q=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==Q?f:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=h;else if(0===j)for(R=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==R?f:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,d=0;d<this._labels.length;d++)(c=this._labels[d].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,k),h),q=c.measureText(),d<this._labels.length-1&&(f=d+1,(n=this._labels[f].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,k),h),n=n.measureText(),q.width+n.width>>0>2*a&&(this.sessionVariables.labelAngle=-25))}}else this.options.labelMaxWidth<a?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=d):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=g)}}else this.labelWrap?null==this.options.labelMaxWidth?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,k),h),this.sessionVariables.labelWrap=this.labelWrap,n&&q.width+n.width>>0>2*a&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle):null==this.options.labelMaxWidth?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelMaxWidth=a,n&&q.width+n.width>>0>2*a&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=h)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelWrap=this.labelWrap)}else(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?g:Math.min((d-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d),h=0!=this.labelAngle?(t-(s+c.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):a,this.sessionVariables.labelMaxHeight=this.labelWrap?(t-h*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,null==this.options.labelWrap)?null==this.options.labelWrap&&(this.labelWrap&&null!=this.options.labelMaxWidth?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:h,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelMaxHeight=d<.9*l?.9*l:d,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:h):(this.options.labelMaxWidth,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:h,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=g)}for(d=0;d<this._labels.length;d++)(c=this._labels[d].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,c.fontSize=this.sessionVariables.labelFontSize,c.angle=this.labelAngle=this.sessionVariables.labelAngle,c.wrap=this.labelWrap=this.sessionVariables.labelWrap,c.maxHeight=this.sessionVariables.labelMaxHeight,c.measureText()}else for(e=0;e<this._labels.length;e++)(c=this._labels[e].textBlock).maxWidth=(H=this.options.labelMaxWidth,this.labelMaxWidth=null==H?null==this.sessionVariables.labelMaxWidth?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth),c.fontSize=(I=this.options.labelFontSize,this.labelFontSize=null==I?null==this.sessionVariables.labelFontSize?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize),c.angle=(J=this.options.labelAngle,this.labelAngle=null==J?null==this.sessionVariables.labelAngle?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle),c.wrap=(K=this.options.labelWrap,this.labelWrap=null==K?null==this.sessionVariables.labelWrap?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap),L=this.sessionVariables.labelMaxHeight,c.maxHeight=null==L?this.sessionVariables.labelMaxHeight=g:this.sessionVariables.labelMaxHeight,c.measureText()}else if("left"===this._position||"right"===this._position){if(a=null==this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth,g=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(e=0,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=g,u=this.sessionVariables.labelAngle,this.sessionVariables.labelAngle=null==u?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap;e<this._labels.length;e++)if(!this._labels[e].breaksLabelType){for(q=(c=this._labels[e].textBlock).measureText(),f=e+1;f<this._labels.length;f++)if(!this._labels[f].breaksLabelType){n=(n=this._labels[f].textBlock).measureText();break}p.push(c.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,p),d=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(g-c.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.PI,this.labelAngle,Math.PI,this.labelAngle,null==this.options.labelAngle&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?null==this.options.labelWrap?null==this.options.labelWrap&&(null==this.options.labelMaxWidth?null==n||(l=q.height+n.height>>0)-2*g>k&&(k=l-2*g,l>=2*g&&l<2.4*g?(null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),c.measureText()),this.sessionVariables.labelMaxHeight=g,v=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==v?this.labelFontSize:this.options.labelFontSize):l>=2.4*g&&l<2.8*g?(this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):l>=2.8*g&&l<3.2*g?(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelWrap=!0,null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),c.measureText()),w=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==w?this.labelFontSize:this.options.labelFontSize,x=this.sessionVariables.labelAngle,this.sessionVariables.labelAngle=null==x?0:this.sessionVariables.labelAngle):l>=3.2*g&&l<3.6*g?(this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):l>3.6*g&&l<10*g?(null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),c.measureText()),y=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==y?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=g,z=this.sessionVariables.labelAngle,this.sessionVariables.labelAngle=null==z?0:this.sessionVariables.labelAngle):l>10*g&&l<50*g&&(null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),c.measureText()),A=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==A?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelMaxWidth=a,B=this.sessionVariables.labelAngle,this.sessionVariables.labelAngle=null==B?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?a:Math.min((d-g*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),g),null==this.options.labelWrap)?null==this.options.labelWrap&&(this.labelWrap&&null!=this.options.labelMaxWidth?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=d):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=0===this.labelAngle?g:d,null==this.options.labelMaxWidth&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?g:d,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=a):(this.sessionVariables.labelMaxHeight=g,this.options.labelMaxWidth,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap)}for(d=0;d<this._labels.length;d++)(c=this._labels[d].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,c.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,c.angle=this.labelAngle=this.sessionVariables.labelAngle,c.wrap=this.labelWrap=this.sessionVariables.labelWrap,c.maxHeight=this.sessionVariables.labelMaxHeight,c.measureText()}else for(e=0;e<this._labels.length;e++)(c=this._labels[e].textBlock).maxWidth=(C=this.options.labelMaxWidth,this.labelMaxWidth=null==C?null==this.sessionVariables.labelMaxWidth?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth),c.fontSize=(D=this.options.labelFontSize,this.labelFontSize=null==D?null==this.sessionVariables.labelFontSize?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize),c.angle=(E=this.options.labelAngle,this.labelAngle=null==E?null==this.sessionVariables.labelAngle?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle),c.wrap=(F=this.options.labelWrap,this.labelWrap=null==F?null==this.sessionVariables.labelWrap?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap),G=this.sessionVariables.labelMaxHeight,c.maxHeight=null==G?this.sessionVariables.labelMaxHeight=g:this.sessionVariables.labelMaxHeight,c.measureText()}}for(e=0;e<this.stripLines.length;e++){var aE,aF,aG,aH,aI,aJ,S,aK,r,a=this.stripLines[e];"outside"===a.labelPlacement?(g=this.sessionVariables.labelMaxWidth,("bottom"===this._position||"top"===this._position)&&(null==a.options.labelWrap&&null!=this.sessionVariables.stripLineLabelMaxHeight?r=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=r=a.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),("left"===this._position||"right"===this._position)&&(null==a.options.labelWrap&&null!=this.sessionVariables.stripLineLabelMaxHeight?r=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=r=a.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),null==a.labelBackgroundColor&&(a.labelBackgroundColor="#EEEEEE")):(g="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,r=null==a.options.labelWrap||a.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,S=a.labelBackgroundColor,null==S&&(null==a.startValue&&0!==a.startValue?a.labelBackgroundColor=i?"transparent":null:a.labelBackgroundColor="#EEEEEE")),c=new m(this.ctx,{x:0,y:0,backgroundColor:a.labelBackgroundColor,borderColor:a.labelBorderColor,borderThickness:a.labelBorderThickness,cornerRadius:a.labelCornerRadius,maxWidth:a.options.labelMaxWidth?a.options.labelMaxWidth:g,maxHeight:r,angle:this.labelAngle,text:a.labelFormatter?a.labelFormatter({chart:this.chart,axis:this,stripLine:a}):a.label,textAlign:this.labelTextAlign,fontSize:"outside"===a.labelPlacement?a.options.labelFontSize?a.labelFontSize:this.labelFontSize:a.labelFontSize,fontFamily:"outside"===a.labelPlacement?a.options.labelFontFamily?a.labelFontFamily:this.labelFontFamily:a.labelFontFamily,fontWeight:"outside"===a.labelPlacement?a.options.labelFontWeight?a.labelFontWeight:this.labelFontWeight:a.labelFontWeight,fontColor:a.labelFontColor||a.color,fontStyle:"outside"===a.labelPlacement?a.options.labelFontStyle?a.labelFontStyle:this.fontWeight:a.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:a.value,textBlock:c,effectiveHeight:null,stripLine:a})}},c.prototype.createLabelsAndCalculateWidth=function(){var e=0,a=0;this._labels=[],this._stripLineLabels=[];var g=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(a=0;a<this._labels.length;a++){var f=this._labels[a].textBlock,c=f.measureText(),d=0===this.labelAngle?c.width:c.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(c.height-f.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle));e<d&&(e=d),this._labels[a].effectiveWidth=d}for(a=0;a<this._stripLineLabels.length;a++)"outside"===this._stripLineLabels[a].stripLine.labelPlacement&&this._stripLineLabels[a].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[a].stripLine.value<=this.viewportMaximum&&(c=(f=this._stripLineLabels[a].textBlock).measureText(),e<(d=0===this.labelAngle?c.width:c.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(c.height-f.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(e=d),this._stripLineLabels[a].effectiveWidth=d)}return(this.title?this._titleTextBlock.measureText().height+2:0)+e+("inside"===this.tickPlacement?0:this.tickLength)+g},c.prototype.createLabelsAndCalculateHeight=function(){var e=0;this._labels=[],this._stripLineLabels=[];var f,a=0,g=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(a=0;a<this._labels.length;a++){var c=(f=this._labels[a].textBlock).measureText(),d=0===this.labelAngle?c.height:c.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(c.height-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle));e<d&&(e=d),this._labels[a].effectiveHeight=d}for(a=0;a<this._stripLineLabels.length;a++)"outside"===this._stripLineLabels[a].stripLine.labelPlacement&&this._stripLineLabels[a].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[a].stripLine.value<=this.viewportMaximum&&(c=(f=this._stripLineLabels[a].textBlock).measureText(),e<(d=0===this.labelAngle?c.height:c.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(c.height-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(e=d),this._stripLineLabels[a].effectiveHeight=d)}return(this.title?this._titleTextBlock.measureText().height+2:0)+e+("inside"===this.tickPlacement?0:this.tickLength)+g},c.setLayout=function(c,f,d,e,y,k){var U,V,T,h,g,j,n,o=c[0]?c[0].chart:f[0].chart,q=o.isNavigator?0:10,l=o._axes;if(c&&0<c.length)for(var a=0;a<c.length;a++)c[a]&&c[a].calculateAxisParameters();if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].calculateAxisParameters();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].calculateAxisParameters();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateAxisParameters();for(a=0;a<l.length;a++)if(l[a]&&l[a].scaleBreaks&&l[a].scaleBreaks._appliedBreaks.length)for(var C=l[a].scaleBreaks._appliedBreaks,p=0;p<C.length&&!(C[p].startValue>l[a].viewportMaximum);p++)C[p].endValue<l[a].viewportMinimum||(null==l[a].scaleBreaks.firstBreakIndex&&(l[a].scaleBreaks.firstBreakIndex=p),C[p].startValue>=l[a].viewPortMinimum&&(l[a].scaleBreaks.lastBreakIndex=p));for(var W,s,D,L,M,N,t=p=0,G=0,u=0,A=0,w=0,E=0,x=g=0,C=L=M=N=!1,a=0;a<l.length;a++)l[a]&&l[a].title&&(l[a]._titleTextBlock=new m(l[a].ctx,{text:l[a].title,horizontalAlign:"center",fontSize:l[a].titleFontSize,fontFamily:l[a].titleFontFamily,fontWeight:l[a].titleFontWeight,fontColor:l[a].titleFontColor,fontStyle:l[a].titleFontStyle,borderColor:l[a].titleBorderColor,borderThickness:l[a].titleBorderThickness,backgroundColor:l[a].titleBackgroundColor,cornerRadius:l[a].titleCornerRadius,textBaseline:"top"}));for(a=0;a<l.length;a++)if(l[a].title)switch(l[a]._position){case"left":l[a]._titleTextBlock.maxWidth=l[a].titleMaxWidth||k.height,l[a]._titleTextBlock.maxHeight=l[a].titleWrap?.8*k.width:1.5*l[a].titleFontSize,l[a]._titleTextBlock.angle=-90;break;case"right":l[a]._titleTextBlock.maxWidth=l[a].titleMaxWidth||k.height,l[a]._titleTextBlock.maxHeight=l[a].titleWrap?.8*k.width:1.5*l[a].titleFontSize,l[a]._titleTextBlock.angle=90;break;default:l[a]._titleTextBlock.maxWidth=l[a].titleMaxWidth||k.width,l[a]._titleTextBlock.maxHeight=l[a].titleWrap?.8*k.height:1.5*l[a].titleFontSize,l[a]._titleTextBlock.angle=0}if("normal"===y){for(var u=[],A=[],w=[],E=[],O=[],P=[],J=[],K=[];4>p;){var X,Y,Z,_,Q=0,R=0,F=0,B=0,z=y=0,i=0,I=0,r=0,v=0,S=0,H=0;if(d&&0<d.length)for(w=[],a=S=0;a<d.length;a++)w.push(Math.ceil(d[a]?d[a].createLabelsAndCalculateWidth():0)),S+=w[a],i+=d[a]&&!o.isNavigator?d[a].margin:0;else w.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateWidth():0));if(J.push(w),e&&0<e.length)for(E=[],a=H=0;a<e.length;a++)E.push(Math.ceil(e[a]?e[a].createLabelsAndCalculateWidth():0)),H+=E[a],I+=e[a]?e[a].margin:0;else E.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(K.push(E),h=Math.round(k.x1+S+i),j=Math.round(k.x2-H-I>o.width-q?o.width-q:k.x2-H-I),c&&0<c.length)for(u=[],a=r=0;a<c.length;a++)c[a]&&(c[a].lineCoordinates={}),c[a].lineCoordinates.width=Math.abs(j-h),c[a].title&&(c[a]._titleTextBlock.maxWidth=0<c[a].titleMaxWidth&&c[a].titleMaxWidth<c[a].lineCoordinates.width?c[a].titleMaxWidth:c[a].lineCoordinates.width),u.push(Math.ceil(c[a]?c[a].createLabelsAndCalculateHeight():0)),r+=u[a],y+=c[a]&&!o.isNavigator?c[a].margin:0;else u.push(Math.ceil(c[0]?c[0].createLabelsAndCalculateHeight():0));if(O.push(u),f&&0<f.length)for(A=[],a=v=0;a<f.length;a++)f[a]&&(f[a].lineCoordinates={}),f[a].lineCoordinates.width=Math.abs(j-h),f[a].title&&(f[a]._titleTextBlock.maxWidth=0<f[a].titleMaxWidth&&f[a].titleMaxWidth<f[a].lineCoordinates.width?f[a].titleMaxWidth:f[a].lineCoordinates.width),A.push(Math.ceil(f[a]?f[a].createLabelsAndCalculateHeight():0)),v+=A[a],z+=f[a]&&!o.isNavigator?f[a].margin:0;else A.push(Math.ceil(f[0]?f[0].createLabelsAndCalculateHeight():0));if(P.push(A),c&&0<c.length)for(a=0;a<c.length;a++)c[a]&&(c[a].lineCoordinates.x1=h,j=Math.round(k.x2-H-I>o.width-q?o.width-q:k.x2-H-I),c[a]._labels&&1<c[a]._labels.length&&(g=n=0,n=c[a]._labels[1],g="dateTime"===c[a].valueType?c[a]._labels[c[a]._labels.length-2]:c[a]._labels[c[a]._labels.length-1],t=n.textBlock.width*Math.cos(Math.PI/180*Math.abs(n.textBlock.angle))+(n.textBlock.height-g.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(n.textBlock.angle)),G=g.textBlock.width*Math.cos(Math.PI/180*Math.abs(g.textBlock.angle))+(g.textBlock.height-g.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(g.textBlock.angle))),!c[a]|| !c[a].labelAutoFit||null==s||null==D||o.isNavigator||o.stockChart||(g=0,0<c[a].labelAngle?D+G>j&&(g+=0<c[a].labelAngle?D+G-j-H:0):0>c[a].labelAngle?s-t<h&&s-t<c[a].viewportMinimum&&(x=h-(i+c[a].tickLength+w+s-t+c[a].labelFontSize/2)):0===c[a].labelAngle&&(D+G>j&&(g=D+G/2-j-H),s-t<h&&s-t<c[a].viewportMinimum&&(x=h-i-c[a].tickLength-w-s+t/2)),c[a].viewportMaximum===c[a].maximum&&c[a].viewportMinimum===c[a].minimum&&0<c[a].labelAngle&&0<g?j-=g:c[a].viewportMaximum===c[a].maximum&&c[a].viewportMinimum===c[a].minimum&&0>c[a].labelAngle&&0<x?h+=x:c[a].viewportMaximum===c[a].maximum&&c[a].viewportMinimum===c[a].minimum&&0===c[a].labelAngle&&(0<x&&(h+=x),0<g&&(j-=g))),o.panEnabled?r=null==o.sessionVariables.axisX.height?o.sessionVariables.axisX.height=r:o.sessionVariables.axisX.height:o.sessionVariables.axisX.height=r,g=Math.round(k.y2-r-y+Q),n=Math.round(k.y2),c[a].lineCoordinates.x2=j,c[a].lineCoordinates.width=j-h,c[a].lineCoordinates.y1=g,c[a].lineCoordinates.y2=g+c[a].lineThickness/2,"inside"===c[a].labelPlacement&&0<a&&(c[a].lineCoordinates.y1=c[a].lineCoordinates.y1+u[a]-(c[a]._titleTextBlock?c[a]._titleTextBlock.height:0)-("inside"===c[a].tickPlacement?c[a].tickLength:0),c[a].lineCoordinates.y2=c[a].lineCoordinates.y1+c[a].lineThickness/2),c[a].bounds={x1:h,y1:g,x2:j,y2:n-(r+y-u[a]-Q),width:j-h,height:n-g}),Q+=u[a]+c[a].margin;if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].lineCoordinates.x1=Math.round(k.x1+S+i),f[a].lineCoordinates.x2=Math.round(k.x2-H-I>o.width-q?o.width-q:k.x2-H-I),f[a].lineCoordinates.width=Math.abs(j-h),f[a]._labels&&1<f[a]._labels.length&&(n=f[a]._labels[1],g="dateTime"===f[a].valueType?f[a]._labels[f[a]._labels.length-2]:f[a]._labels[f[a]._labels.length-1],t=n.textBlock.width*Math.cos(Math.PI/180*Math.abs(n.textBlock.angle))+(n.textBlock.height-g.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(n.textBlock.angle)),G=g.textBlock.width*Math.cos(Math.PI/180*Math.abs(g.textBlock.angle))+(g.textBlock.height-g.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(g.textBlock.angle))),o.panEnabled?v=null==o.sessionVariables.axisX2.height?o.sessionVariables.axisX2.height=v:o.sessionVariables.axisX2.height:o.sessionVariables.axisX2.height=v,g=Math.round(k.y1),n=Math.round(k.y2+f[a].margin),f[a].lineCoordinates.y1=g+v+z-R,f[a].lineCoordinates.y2=g,"inside"===f[a].labelPlacement&&0<a&&(f[a].lineCoordinates.y1=f[a-1].bounds.y1-A[a]+(f[a]._titleTextBlock?f[a]._titleTextBlock.height:0)),f[a].bounds={x1:h,y1:g+(v+z-A[a]-R),x2:j,y2:n,width:j-h,height:n-g},R+=A[a]+f[a].margin;if(d&&0<d.length)for(a=0;a<d.length;a++)i=o.isNavigator?0:10,d[a]&&(h=Math.round(c[0]?c[0].lineCoordinates.x1:f[0].lineCoordinates.x1),i=d[a]._labels&&0<d[a]._labels.length?d[a]._labels[d[a]._labels.length-1].textBlock.height/2:q,g=Math.round(k.y1+v+z<Math.max(i,q)?Math.max(i,q):k.y1+v+z),j=Math.round(c[0]?c[0].lineCoordinates.x1:f[0].lineCoordinates.x1),i=0<c.length?0:d[a]._labels&&0<d[a]._labels.length?d[a]._labels[0].textBlock.height/2:q,n=Math.round(k.y2-r-y-i),d[a].lineCoordinates={x1:h-F,y1:g,x2:j-F,y2:n,height:Math.abs(n-g)},"inside"===d[a].labelPlacement&&0<a&&(d[a].lineCoordinates.x1=d[a].lineCoordinates.x1-(w[a]-(d[a]._titleTextBlock?d[a]._titleTextBlock.height:0))+("outside"===d[a].tickPlacement?d[a].tickLength:0),d[a].lineCoordinates.x2=d[a].lineCoordinates.x1+d[a].lineThickness/2),d[a].bounds={x1:h-(w[a]+F),y1:g,x2:j,y2:n,width:j-h,height:n-g},d[a].title&&(d[a]._titleTextBlock.maxWidth=0<d[a].titleMaxWidth&&d[a].titleMaxWidth<d[a].lineCoordinates.height?d[a].titleMaxWidth:d[a].lineCoordinates.height),F+=w[a]+d[a].margin);if(e&&0<e.length)for(a=0;a<e.length;a++)e[a]&&(h=Math.round(c[0]?c[0].lineCoordinates.x2:f[0].lineCoordinates.x2),j=Math.round(h),i=e[a]._labels&&0<e[a]._labels.length?e[a]._labels[e[a]._labels.length-1].textBlock.height/2:0,g=Math.round(k.y1+v+z<Math.max(i,q)?Math.max(i,q):k.y1+v+z),i=0<c.length?0:e[a]._labels&&0<e[a]._labels.length?e[a]._labels[0].textBlock.height/2:0,n=Math.round(k.y2-(r+y+i)),e[a].lineCoordinates={x1:h+B,y1:g,x2:h+B,y2:n,height:Math.abs(n-g)},"inside"===e[a].labelPlacement&&0<a&&(e[a].lineCoordinates.x1=e[a].lineCoordinates.x1+(E[a]-(e[a]._titleTextBlock?e[a]._titleTextBlock.height:0))-("outside"===e[a].tickPlacement?e[a].tickLength:0)-2,e[a].lineCoordinates.x2=e[a].lineCoordinates.x1+e[a].lineThickness/2),e[a].bounds={x1:h,y1:g,x2:j+(E[a]+B),y2:n,width:j-h,height:n-g},e[a].title&&(e[a]._titleTextBlock.maxWidth=0<e[a].titleMaxWidth&&e[a].titleMaxWidth<e[a].lineCoordinates.height?e[a].titleMaxWidth:e[a].lineCoordinates.height),B+=E[a]+e[a].margin);if(c&&0<c.length)for(a=0;a<c.length;a++)c[a]&&(c[a].calculateValueToPixelConversionParameters(),c[a].calculateBreaksSizeInValues(),c[a]._labels&&1<c[a]._labels.length&&(s=(c[a].logarithmic?Math.log(c[a]._labels[1].position/c[a].viewportMinimum)/c[a].conversionParameters.lnLogarithmBase:c[a]._labels[1].position-c[a].viewportMinimum)*Math.abs(c[a].conversionParameters.pixelPerUnit)+c[a].lineCoordinates.x1,h=c[a]._labels[c[a]._labels.length-("dateTime"===c[a].valueType?2:1)].position,h=c[a].getApparentDifference(c[a].viewportMinimum,h),D=c[a].logarithmic?(1<h?Math.log(h)/c[a].conversionParameters.lnLogarithmBase*Math.abs(c[a].conversionParameters.pixelPerUnit):0)+c[a].lineCoordinates.x1:(0<h?h*Math.abs(c[a].conversionParameters.pixelPerUnit):0)+c[a].lineCoordinates.x1));if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].calculateValueToPixelConversionParameters(),f[a].calculateBreaksSizeInValues(),f[a]._labels&&1<f[a]._labels.length&&(s=(f[a].logarithmic?Math.log(f[a]._labels[1].position/f[a].viewportMinimum)/f[a].conversionParameters.lnLogarithmBase:f[a]._labels[1].position-f[a].viewportMinimum)*Math.abs(f[a].conversionParameters.pixelPerUnit)+f[a].lineCoordinates.x1,h=f[a]._labels[f[a]._labels.length-("dateTime"===f[a].valueType?2:1)].position,h=f[a].getApparentDifference(f[a].viewportMinimum,h),D=f[a].logarithmic?(1<h?Math.log(h)/f[a].conversionParameters.lnLogarithmBase*Math.abs(f[a].conversionParameters.pixelPerUnit):0)+f[a].lineCoordinates.x1:(0<h?h*Math.abs(f[a].conversionParameters.pixelPerUnit):0)+f[a].lineCoordinates.x1);for(a=0;a<l.length;a++)"axisY"===l[a].type&&(l[a].calculateValueToPixelConversionParameters(),l[a].calculateBreaksSizeInValues());if(0<p){if(c&&0<c.length)for(a=0;a<c.length;a++)C=O[p-1][a]===O[p][a];else C=!0;if(f&&0<f.length)for(a=0;a<f.length;a++)L=P[p-1][a]===P[p][a];else L=!0;if(d&&0<d.length)for(a=0;a<d.length;a++)M=J[p-1][a]===J[p][a];else M=!0;if(e&&0<e.length)for(a=0;a<e.length;a++)N=K[p-1][a]===K[p][a];else N=!0}if(C&&L&&M&&N)break;p++}if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].calculateStripLinesThicknessInValues(),c[a].calculateBreaksInPixels();if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].calculateStripLinesThicknessInValues(),f[a].calculateBreaksInPixels();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].calculateStripLinesThicknessInValues(),d[a].calculateBreaksInPixels();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateStripLinesThicknessInValues(),e[a].calculateBreaksInPixels()}else{for(q=[],s=[],x=[],t=[],D=[],G=[],O=[],P=[];4>p;){if(r=B=R=F=I=i=z=y=K=J=Q=v=0,c&&0<c.length)for(x=[],a=B=0;a<c.length;a++)x.push(Math.ceil(c[a]?c[a].createLabelsAndCalculateWidth():0)),B+=x[a],y+=c[a]&&!o.isNavigator?c[a].margin:0;else x.push(Math.ceil(c[0]?c[0].createLabelsAndCalculateWidth():0));if(O.push(x),f&&0<f.length)for(t=[],a=r=0;a<f.length;a++)t.push(Math.ceil(f[a]?f[a].createLabelsAndCalculateWidth():0)),r+=t[a],z+=f[a]?f[a].margin:0;else t.push(Math.ceil(f[0]?f[0].createLabelsAndCalculateWidth():0));if(P.push(t),d&&0<d.length)for(a=0;a<d.length;a++)d[a].lineCoordinates={},h=Math.round(k.x1+B+y),j=Math.round(k.x2-r-z>o.width-10?o.width-10:k.x2-r-z),d[a].labelAutoFit&&null!=u&&(0< !c.length&&(h=0>d[a].labelAngle?Math.max(h,u):0===d[a].labelAngle?Math.max(h,u/2):h),0< !f.length&&(j=0<d[a].labelAngle?j-A/2:0===d[a].labelAngle?j-A/2:j)),d[a].lineCoordinates.x1=h,d[a].lineCoordinates.x2=j,d[a].lineCoordinates.width=Math.abs(j-h),d[a].title&&(d[a]._titleTextBlock.maxWidth=0<d[a].titleMaxWidth&&d[a].titleMaxWidth<d[a].lineCoordinates.width?d[a].titleMaxWidth:d[a].lineCoordinates.width);if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].lineCoordinates={},h=Math.round(k.x1+B+y),j=Math.round(k.x2-r-z>e[a].chart.width-10?e[a].chart.width-10:k.x2-r-z),e[a]&&e[a].labelAutoFit&&null!=w&&(0< !c.length&&(h=0<e[a].labelAngle?Math.max(h,w):0===e[a].labelAngle?Math.max(h,w/2):h),0< !f.length&&(j-=E/2)),e[a].lineCoordinates.x1=h,e[a].lineCoordinates.x2=j,e[a].lineCoordinates.width=Math.abs(j-h),e[a].title&&(e[a]._titleTextBlock.maxWidth=0<e[a].titleMaxWidth&&e[a].titleMaxWidth<e[a].lineCoordinates.width?e[a].titleMaxWidth:e[a].lineCoordinates.width);if(d&&0<d.length)for(q=[],a=F=0;a<d.length;a++)q.push(Math.ceil(d[a]?d[a].createLabelsAndCalculateHeight():0)),F+=q[a]+d[a].margin,i+=d[a].margin;else q.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateHeight():0));if(D.push(q),e&&0<e.length)for(s=[],a=R=0;a<e.length;a++)s.push(Math.ceil(e[a]?e[a].createLabelsAndCalculateHeight():0)),R+=s[a],I+=e[a].margin;else s.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(G.push(s),d&&0<d.length)for(a=0;a<d.length;a++)0<d[a]._labels.length&&(n=d[a]._labels[0],g=d[a]._labels[d[a]._labels.length-1],u=n.textBlock.width*Math.cos(Math.PI/180*Math.abs(n.textBlock.angle))+(n.textBlock.height-g.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(n.textBlock.angle)),A=g.textBlock.width*Math.cos(Math.PI/180*Math.abs(g.textBlock.angle))+(g.textBlock.height-g.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(g.textBlock.angle)));if(e&&0<e.length)for(a=0;a<e.length;a++)e[a]&&0<e[a]._labels.length&&(n=e[a]._labels[0],g=e[a]._labels[e[a]._labels.length-1],w=n.textBlock.width*Math.cos(Math.PI/180*Math.abs(n.textBlock.angle))+(n.textBlock.height-g.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(n.textBlock.angle)),E=g.textBlock.width*Math.cos(Math.PI/180*Math.abs(g.textBlock.angle))+(g.textBlock.height-g.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(g.textBlock.angle)));if(o.panEnabled)for(a=0;a<d.length;a++)T=o.sessionVariables.axisY.height,q[a]=null==T?o.sessionVariables.axisY.height=q[a]:o.sessionVariables.axisY.height;else for(a=0;a<d.length;a++)o.sessionVariables.axisY.height=q[a];if(d&&0<d.length)for(a=d.length-1;0<=a;a--)g=Math.round(k.y2),n=Math.round(k.y2>d[a].chart.height?d[a].chart.height:k.y2),d[a].lineCoordinates.y1=g-(q[a]+d[a].margin+v),d[a].lineCoordinates.y2=g-(q[a]+d[a].margin+v),"inside"===d[a].labelPlacement&&0<a&&(d[a].lineCoordinates.y1=d[a].lineCoordinates.y1+q[a]-(d[a]._titleTextBlock?d[a]._titleTextBlock.height:0)-("inside"===d[a].tickPlacement?d[a].tickLength:0),d[a].lineCoordinates.y2=d[a].lineCoordinates.y1+d[a].lineThickness/2),d[a].bounds={x1:h,y1:g-(q[a]+v+d[a].margin),x2:j,y2:n-(v+d[a].margin),width:j-h,height:q[a]},d[a].title&&(d[a]._titleTextBlock.maxWidth=0<d[a].titleMaxWidth&&d[a].titleMaxWidth<d[a].lineCoordinates.width?d[a].titleMaxWidth:d[a].lineCoordinates.width),v+=q[a]+d[a].margin;if(e&&0<e.length)for(a=e.length-1;0<=a;a--)e[a]&&(g=Math.round(k.y1),n=Math.round(k.y1+(s[a]+e[a].margin+Q)),e[a].lineCoordinates.y1=n,e[a].lineCoordinates.y2=n,"inside"===e[a].labelPlacement&&0<a&&(e[a].lineCoordinates.y1=n-s[a]+(e[a]._titleTextBlock?e[a]._titleTextBlock.height:0)),e[a].bounds={x1:h,y1:g+(e[a].margin+Q),x2:j,y2:n,width:j-h,height:R},e[a].title&&(e[a]._titleTextBlock.maxWidth=0<e[a].titleMaxWidth&&e[a].titleMaxWidth<e[a].lineCoordinates.width?e[a].titleMaxWidth:e[a].lineCoordinates.width),Q+=s[a]+e[a].margin);if(c&&0<c.length)for(a=0;a<c.length;a++){if(i=c[a]._labels&&0<c[a]._labels.length?c[a]._labels[0].textBlock.fontSize/2:0,h=Math.round(k.x1+y),g=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:k.y1<Math.max(i,10)?Math.max(i,10):k.y1):k.y1<Math.max(i,10)?Math.max(i,10):k.y1,j=Math.round(k.x1+B+y),n=d&&0<d.length?Math.round(d[0]?d[0].lineCoordinates.y1:k.y2-F>o.height-Math.max(i,10)?o.height-Math.max(i,10):k.y2-F):k.y2>o.height-Math.max(i,10)?o.height-Math.max(i,10):k.y2,d&&0<d.length)for(i=0;i<d.length;i++)d[i]&&d[i].labelAutoFit&&(j=0>d[i].labelAngle?Math.max(j,u):0===d[i].labelAngle?Math.max(j,u/2):j,h=0>d[i].labelAngle||0===d[i].labelAngle?j-B:h);if(e&&0<e.length)for(i=0;i<e.length;i++)e[i]&&e[i].labelAutoFit&&(h=(j=e[i].lineCoordinates.x1)-B);c[a].lineCoordinates={x1:j-J,y1:g,x2:j-J,y2:n,height:Math.abs(n-g)},"inside"===c[a].labelPlacement&&0<a&&(c[a].lineCoordinates.x1=c[a].lineCoordinates.x1-(x[a]-(c[a]._titleTextBlock?c[a]._titleTextBlock.height:0))+("outside"===c[a].tickPlacement?c[a].tickLength:0),c[a].lineCoordinates.x2=c[a].lineCoordinates.x1+c[a].lineThickness/2),c[a].bounds={x1:j-(x[a]+J),y1:g,x2:j,y2:n,width:j-h,height:n-g},c[a].title&&(c[a]._titleTextBlock.maxWidth=0<c[a].titleMaxWidth&&c[a].titleMaxWidth<c[a].lineCoordinates.height?c[a].titleMaxWidth:c[a].lineCoordinates.height),c[a].calculateValueToPixelConversionParameters(),c[a].calculateBreaksSizeInValues(),J+=x[a]+c[a].margin}if(f&&0<f.length)for(a=0;a<f.length;a++){if(i=f[a]._labels&&0<f[a]._labels.length?f[a]._labels[0].textBlock.fontSize/2:0,h=Math.round(k.x1-y),g=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:k.y1<Math.max(i,10)?Math.max(i,10):k.y1):k.y1<Math.max(i,10)?Math.max(i,10):k.y1,j=Math.round(k.x2-r-z),n=d&&0<d.length?Math.round(d[0]?d[0].lineCoordinates.y1:k.y2-F>o.height-Math.max(i,10)?o.height-Math.max(i,10):k.y2-F):k.y2>o.height-Math.max(i,10)?o.height-Math.max(i,10):k.y2,d&&0<d.length)for(i=0;i<d.length;i++)d[i]&&d[i].labelAutoFit&&(j=0>d[i].labelAngle?Math.max(j,u):0===d[i].labelAngle?Math.max(j,u/2):j,h=0>d[i].labelAngle||0===d[i].labelAngle?j-r:h);if(e&&0<e.length)for(i=0;i<e.length;i++)e[i]&&e[i].labelAutoFit&&(h=(j=e[i].lineCoordinates.x2)-r);f[a].lineCoordinates={x1:j+K,y1:g,x2:j+K,y2:n,height:Math.abs(n-g)},"inside"===f[a].labelPlacement&&0<a&&(f[a].lineCoordinates.x1=f[a].lineCoordinates.x1+(t[a]-(f[a]._titleTextBlock?f[a]._titleTextBlock.height:0)-2)-("outside"===f[a].tickPlacement?f[a].tickLength:0),f[a].lineCoordinates.x2=f[a].lineCoordinates.x1+f[a].lineThickness/2),f[a].bounds={x1:f[a].lineCoordinates.x1,y1:g,x2:j+t[a]+K,y2:n,width:j-h,height:n-g},f[a].title&&(f[a]._titleTextBlock.maxWidth=0<f[a].titleMaxWidth&&f[a].titleMaxWidth<f[a].lineCoordinates.height?f[a].titleMaxWidth:f[a].lineCoordinates.height),f[a].calculateValueToPixelConversionParameters(),f[a].calculateBreaksSizeInValues(),K+=t[a]+f[a].margin}for(a=0;a<l.length;a++)"axisY"===l[a].type&&(l[a].calculateValueToPixelConversionParameters(),l[a].calculateBreaksSizeInValues());if(0<p){if(c&&0<c.length)for(a=0;a<c.length;a++)C=O[p-1][a]===O[p][a];else C=!0;if(f&&0<f.length)for(a=0;a<f.length;a++)L=P[p-1][a]===P[p][a];else L=!0;if(d&&0<d.length)for(a=0;a<d.length;a++)M=D[p-1][a]===D[p][a];else M=!0;if(e&&0<e.length)for(a=0;a<e.length;a++)N=G[p-1][a]===G[p][a];else N=!0}if(C&&L&&M&&N)break;p++}if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].calculateStripLinesThicknessInValues(),d[a].calculateBreaksInPixels();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateStripLinesThicknessInValues(),e[a].calculateBreaksInPixels();if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].calculateStripLinesThicknessInValues(),c[a].calculateBreaksInPixels();if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].calculateStripLinesThicknessInValues(),f[a].calculateBreaksInPixels()}},c.render=function(c,d,e,f,g){var h=c[0]?c[0].chart:d[0].chart;if(g=h.ctx,h.alignVerticalAxes&&h.alignVerticalAxes(),g.save(),g.beginPath(),c[0]&&g.rect(5,c[0].bounds.y1,c[0].chart.width-10,c[0].bounds.height),d[0]&&g.rect(5,d[d.length-1].bounds.y1,d[0].chart.width-10,d[0].bounds.height),g.clip(),c&&0<c.length)for(var a=0;a<c.length;a++)c[a].renderLabelsTicksAndTitle();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderLabelsTicksAndTitle();if(g.restore(),e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderLabelsTicksAndTitle();if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].renderLabelsTicksAndTitle();if(h.preparePlotArea(),h=h.plotArea,g.save(),g.beginPath(),g.rect(h.x1,h.y1,Math.abs(h.x2-h.x1),Math.abs(h.y2-h.y1)),g.clip(),c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderStripLinesOfThicknessType("value");if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderStripLinesOfThicknessType("value");if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].renderStripLinesOfThicknessType("value");if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderInterlacedColors();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderInterlacedColors();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderInterlacedColors();if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].renderInterlacedColors();if(g.restore(),c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderGrid(),i&&(c[a].createMask(),c[a].renderBreaksBackground());if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderGrid(),i&&(d[a].createMask(),d[a].renderBreaksBackground());if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderGrid(),i&&(e[a].createMask(),e[a].renderBreaksBackground());if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].renderGrid(),i&&(f[a].createMask(),f[a].renderBreaksBackground());if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderAxisLine();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderAxisLine();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderAxisLine();if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].renderAxisLine();if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderStripLinesOfThicknessType("pixel");if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderStripLinesOfThicknessType("pixel");if(f&&0<f.length)for(a=0;a<f.length;a++)f[a].renderStripLinesOfThicknessType("pixel")},c.prototype.calculateStripLinesThicknessInValues=function(){for(var a=0;a<this.stripLines.length;a++)if(null!==this.stripLines[a].startValue&&null!==this.stripLines[a].endValue){var c=Math.min(this.stripLines[a].startValue,this.stripLines[a].endValue),d=Math.max(this.stripLines[a].startValue,this.stripLines[a].endValue),c=this.getApparentDifference(c,d);this.stripLines[a].value=this.logarithmic?this.stripLines[a].value*Math.sqrt(Math.log(Math.max(this.stripLines[a].startValue,this.stripLines[a].endValue)/Math.min(this.stripLines[a].startValue,this.stripLines[a].endValue))/Math.log(c)):this.stripLines[a].value+(Math.abs(this.stripLines[a].endValue-this.stripLines[a].startValue)-c)/2,this.stripLines[a].thickness=c,this.stripLines[a]._thicknessType="value"}},c.prototype.calculateBreaksSizeInValues=function(){for(var h,i,d,e="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,c=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],f=this.conversionParameters.pixelPerUnit||e/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),g=this.scaleBreaks&&null!=this.scaleBreaks.options.spacing,a=0;a<c.length;a++)d=g||null!=c[a].options.spacing,c[a].spacing=ae(c[a].spacing,e,8,d?.1*e:8,d?0:3)<<0,c[a].size=0>c[a].spacing?0:Math.abs(c[a].spacing/f),this.logarithmic&&(c[a].size=Math.pow(this.logarithmBase,c[a].size))},c.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var d,c=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];c.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var a=0;a<c.length&&!(c[a].startValue>this.conversionParameters.maximum);a++)c[a].endValue<this.conversionParameters.minimum||(null==this.scaleBreaks.firstBreakIndex&&(this.scaleBreaks.firstBreakIndex=a),c[a].startValue>=this.conversionParameters.minimum&&(c[a].startPixel=this.convertValueToPixel(c[a].startValue),this.scaleBreaks.lastBreakIndex=a),c[a].endValue<=this.conversionParameters.maximum&&(c[a].endPixel=this.convertValueToPixel(c[a].endValue)))}},c.prototype.renderLabelsTicksAndTitle=function(){var n=this,g=!1,f=0,e=0,i=1,h=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(i=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position){if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var k,f=[],i=0!==this.labelAngle&&360!==this.labelAngle?1:1.2,j=this.viewportMaximum,l=this.lineCoordinates.width/Math.log(this.range),d=this._labels.length-1;0<=d&&!((c=this._labels[d]).position<this.viewportMinimum);d--)c.position>this.viewportMaximum||!(d===this._labels.length-1||k<Math.log(j/c.position)*l/i)||(f.push(c),j=c.position,k=c.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=f}else{for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||(f+=k=c.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));f>this.lineCoordinates.width*i&&this.labelAutoFit&&(g=!0)}}if("left"===this._position||"right"===this._position){if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var m,f=[],j=this.viewportMaximum,l=this.lineCoordinates.height/Math.log(this.range),d=this._labels.length-1;0<=d&&!((c=this._labels[d]).position<this.viewportMinimum);d--)c.position>this.viewportMaximum||!(d===this._labels.length-1||m<Math.log(j/c.position)*l)||(f.push(c),j=c.position,m=c.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=f}else{for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||(e+=m=c.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));e>this.lineCoordinates.height*i&&this.labelAutoFit&&(g=!0)}}}this.logarithmic&& !this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(a,c){return a.position-c.position});var c,a,d=0;if("bottom"===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||(a=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=1==this.ctx.lineWidth%2?(a.x<<0)+.5:a.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,a.y<<0),this.ctx.lineTo(e,a.y+this.tickLength<<0),this.ctx.stroke()),g&&0!=(h++)%2&&this.labelAutoFit||(0===c.textBlock.angle?(a.x-=c.textBlock.width/2,a.y="inside"===this.labelPlacement?a.y-(("inside"===this.tickPlacement?this.tickLength:0)+c.textBlock.height-c.textBlock.fontSize/2):a.y+("inside"===this.tickPlacement?0:this.tickLength)+c.textBlock.fontSize/2+5):(a.x="inside"===this.labelPlacement?0>this.labelAngle?a.x:a.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):a.x-(0>this.labelAngle?c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),a.y="inside"===this.labelPlacement?0>this.labelAngle?a.y-("inside"===this.tickPlacement?this.tickLength:0)-5:a.y-("inside"===this.tickPlacement?this.tickLength:0)-Math.abs(c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):a.y+("inside"===this.tickPlacement?0:this.tickLength)+Math.abs(0>this.labelAngle?c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),c.textBlock.x=a.x,c.textBlock.y=a.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(d=0;d<n._labels.length;d++)if(!((c=n._labels[d]).position<n.viewportMinimum||c.position>n.viewportMaximum)&&(a=n.getPixelCoordinatesOnAxis(c.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var e=1==n.ctx.lineWidth%2?(a.x<<0)+.5:a.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(e,a.y<<0),n.ctx.lineTo(e,a.y-n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||(a=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=1==this.ctx.lineWidth%2?(a.x<<0)+.5:a.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,a.y<<0),this.ctx.lineTo(e,a.y-this.tickLength<<0),this.ctx.stroke()),g&&0!=(h++)%2&&this.labelAutoFit||(0===c.textBlock.angle?(a.x-=c.textBlock.width/2,a.y="inside"===this.labelPlacement?a.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:a.y-(("inside"===this.tickPlacement?0:this.tickLength)+c.textBlock.height-c.textBlock.fontSize/2)):(a.x="inside"===this.labelPlacement?0<this.labelAngle?a.x:a.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):a.x+(c.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),a.y="inside"===this.labelPlacement?0<this.labelAngle?a.y+("inside"===this.tickPlacement?this.tickLength:0)+5:a.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:a.y-(("inside"===this.tickPlacement?0:this.tickLength)+((c.textBlock.height-c.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),c.textBlock.x=a.x,c.textBlock.y=a.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(d=0;d<n._labels.length;d++)if(!((c=n._labels[d]).position<n.viewportMinimum||c.position>n.viewportMaximum)&&(a=n.getPixelCoordinatesOnAxis(c.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var e=1==n.ctx.lineWidth%2?(a.x<<0)+.5:a.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(e,a.y<<0),n.ctx.lineTo(e,a.y+n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||(a=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=1==this.ctx.lineWidth%2?(a.y<<0)+.5:a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,e),this.ctx.lineTo(a.x-this.tickLength<<0,e),this.ctx.stroke()),g&&0!=(h++)%2&&this.labelAutoFit||(0===this.labelAngle?(c.textBlock.y=a.y,c.textBlock.x="inside"===this.labelPlacement?a.x+("inside"===this.tickPlacement?this.tickLength:0)+5:a.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(c.textBlock.y="inside"===this.labelPlacement?a.y:a.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),c.textBlock.x="inside"===this.labelPlacement?a.x+("inside"===this.tickPlacement?this.tickLength:0)+5:0<this.labelAngle?a.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5:a.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength))));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(d=0;d<n._labels.length;d++)if(!((c=n._labels[d]).position<n.viewportMinimum||c.position>n.viewportMaximum)&&(a=n.getPixelCoordinatesOnAxis(c.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var e=1==n.ctx.lineWidth%2?(a.y<<0)+.5:a.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(a.x<<0,e),n.ctx.lineTo(a.x+n.tickLength<<0,e),n.ctx.stroke(),n.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||(a=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=1==this.ctx.lineWidth%2?(a.y<<0)+.5:a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,e),this.ctx.lineTo(a.x+this.tickLength<<0,e),this.ctx.stroke()),g&&0!=(h++)%2&&this.labelAutoFit||(0===this.labelAngle?(c.textBlock.y=a.y,c.textBlock.x="inside"===this.labelPlacement?a.x-c.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:a.x+("inside"===this.tickPlacement?0:this.tickLength)+5):(c.textBlock.y="inside"===this.labelPlacement?a.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?a.y:a.y-(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),c.textBlock.x="inside"===this.labelPlacement?a.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:0<this.labelAngle?a.x+(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength):a.x+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(d=0;d<n._labels.length;d++)if(!((c=n._labels[d]).position<n.viewportMinimum||c.position>n.viewportMaximum)&&(a=n.getPixelCoordinatesOnAxis(c.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var e=1==n.ctx.lineWidth%2?(a.y<<0)+.5:a.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(a.x<<0,e),n.ctx.lineTo(a.x-n.tickLength<<0,e),n.ctx.stroke(),n.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(h=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationEnd",function(){for(d=0;d<n._labels.length;d++)(c=n._labels[d]).position<n.viewportMinimum||c.position>n.viewportMaximum||g&&0!=(h++)%2&&n.labelAutoFit||(n.ctx.save(),n.ctx.beginPath(),c.textBlock.render(!0),n.ctx.restore())},this);else for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||g&&0!=(h++)%2&&this.labelAutoFit||c.textBlock.render(!0)},c.prototype.renderInterlacedColors=function(){var a,d,f=this.chart.plotArea.ctx,e=this.chart.plotArea,c=0;if(a=!0,("bottom"===this._position||"top"===this._position)&&this.interlacedColor)for(f.fillStyle=this.interlacedColor,c=0;c<this._labels.length;c++)a?(a=this.getPixelCoordinatesOnAxis(this._labels[c].position),d=c+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[c+1].position),f.fillRect(Math.min(d.x,a.x),e.y1,Math.abs(d.x-a.x),Math.abs(e.y1-e.y2)),a=!1):a=!0;else if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(f.fillStyle=this.interlacedColor,c=0;c<this._labels.length;c++)a?(d=this.getPixelCoordinatesOnAxis(this._labels[c].position),a=c+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[c+1].position),f.fillRect(e.x1,Math.min(d.y,a.y),Math.abs(e.x1-e.x2),Math.abs(a.y-d.y)),a=!1):a=!0;f.beginPath()},c.prototype.renderStripLinesOfThicknessType=function(c){if(this.stripLines&&0<this.stripLines.length&&c){for(var a,k=this,d=0,l=0,j=!1,g=!1,i=[],h=[],g=!1,d=0;d<this.stripLines.length;d++){var m,n,o,e=this.stripLines[d];e._thicknessType===c&&("pixel"===c&&(e.value<this.viewportMinimum||e.value>this.viewportMaximum||null==e.value||isNaN(this.range))||"value"===c&&(e.startValue<=this.viewportMinimum&&e.endValue<=this.viewportMinimum||e.startValue>=this.viewportMaximum&&e.endValue>=this.viewportMaximum||null==e.startValue||null==e.endValue||isNaN(this.range))||i.push(e))}for(d=0;d<this._stripLineLabels.length;d++)if(e=this.stripLines[d],!((a=this._stripLineLabels[d]).position<this.viewportMinimum||a.position>this.viewportMaximum||isNaN(this.range))){if(c=this.getPixelCoordinatesOnAxis(a.position),"outside"===a.stripLine.labelPlacement){if(e&&(this.ctx.strokeStyle=e.color,"pixel"===e._thicknessType&&(this.ctx.lineWidth=e.thickness)),"bottom"===this._position){var p,q,r,s,t,u,v,w,f=1==this.ctx.lineWidth%2?(c.x<<0)+.5:c.x<<0;this.ctx.beginPath(),this.ctx.moveTo(f,c.y<<0),this.ctx.lineTo(f,c.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(c.x-=a.textBlock.width/2,c.y+=this.tickLength+a.textBlock.fontSize/2+5):(c.x-=0>this.labelAngle?a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,c.y+=this.tickLength+Math.abs(0>this.labelAngle?a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(f=1==this.ctx.lineWidth%2?(c.x<<0)+.5:c.x<<0,this.ctx.beginPath(),this.ctx.moveTo(f,c.y<<0),this.ctx.lineTo(f,c.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(c.x-=a.textBlock.width/2,c.y-=this.tickLength+a.textBlock.height-a.textBlock.fontSize/2):(c.x+=(a.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),c.y-=this.tickLength+(a.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(f=1==this.ctx.lineWidth%2?(c.y<<0)+.5:c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,f),this.ctx.lineTo(c.x-this.tickLength<<0,f),this.ctx.stroke(),0===this.labelAngle?c.x=c.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(c.y-=a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),c.x=0<this.labelAngle?c.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:c.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(a.textBlock.height-a.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(f=1==this.ctx.lineWidth%2?(c.y<<0)+.5:c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,f),this.ctx.lineTo(c.x+this.tickLength<<0,f),this.ctx.stroke(),0===this.labelAngle?c.x=c.x+this.tickLength+5:(c.y=0>this.labelAngle?c.y:c.y-(a.textBlock.height-a.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),c.x=0<this.labelAngle?c.x+(a.textBlock.height-a.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:c.x+this.tickLength+5))}else a.textBlock.angle=-90,"bottom"===this._position?(a.textBlock.maxWidth=this.options.stripLines[d].labelMaxWidth?this.options.stripLines[d].labelMaxWidth:this.chart.plotArea.height-3,a.textBlock.measureText(),c.x-a.textBlock.height>this.chart.plotArea.x1?null==e.startValue?c.x-=a.textBlock.height-a.textBlock.fontSize/2:c.x-=a.textBlock.height/2-a.textBlock.fontSize/2+3:(a.textBlock.angle=90,null==e.startValue?c.x+=a.textBlock.height-a.textBlock.fontSize/2:c.x+=a.textBlock.height/2-a.textBlock.fontSize/2+3),c.y=-90===a.textBlock.angle?"near"===a.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+a.textBlock.width)/2:this.chart.plotArea.y1+a.textBlock.width+3:"near"===a.stripLine.labelAlign?this.chart.plotArea.y2-a.textBlock.width-3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-a.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(a.textBlock.maxWidth=this.options.stripLines[d].labelMaxWidth?this.options.stripLines[d].labelMaxWidth:this.chart.plotArea.height-3,a.textBlock.measureText(),c.x-a.textBlock.height>this.chart.plotArea.x1?null==e.startValue?c.x-=a.textBlock.height-a.textBlock.fontSize/2:c.x-=a.textBlock.height/2-a.textBlock.fontSize/2+3:(a.textBlock.angle=90,null==e.startValue?c.x+=a.textBlock.height-a.textBlock.fontSize/2:c.x+=a.textBlock.height/2-a.textBlock.fontSize/2+3),c.y=-90===a.textBlock.angle?"near"===a.stripLine.labelAlign?this.chart.plotArea.y1+a.textBlock.width+3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+a.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===a.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-a.textBlock.width)/2:this.chart.plotArea.y2-a.textBlock.width-3):"left"===this._position?(a.textBlock.maxWidth=this.options.stripLines[d].labelMaxWidth?this.options.stripLines[d].labelMaxWidth:this.chart.plotArea.width-3,a.textBlock.angle=0,a.textBlock.measureText(),c.y-a.textBlock.height>this.chart.plotArea.y1?null==e.startValue?c.y-=a.textBlock.height-a.textBlock.fontSize/2:c.y-=a.textBlock.height/2-a.textBlock.fontSize+3:c.y-a.textBlock.height<this.chart.plotArea.y2?c.y+=a.textBlock.fontSize/2+3:null==e.startValue?c.y-=a.textBlock.height-a.textBlock.fontSize/2:c.y-=a.textBlock.height/2-a.textBlock.fontSize+3,c.x="near"===a.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-a.textBlock.width/2:this.chart.plotArea.x2-a.textBlock.width-3):"right"===this._position&&(a.textBlock.maxWidth=this.options.stripLines[d].labelMaxWidth?this.options.stripLines[d].labelMaxWidth:this.chart.plotArea.width-3,a.textBlock.angle=0,a.textBlock.measureText(),c.y- +a.textBlock.height>this.chart.plotArea.y1?null==e.startValue?c.y-=a.textBlock.height-a.textBlock.fontSize/2:c.y-=a.textBlock.height/2-a.textBlock.fontSize/2-3:c.y-a.textBlock.height<this.chart.plotArea.y2?c.y+=a.textBlock.fontSize/2+3:null==e.startValue?c.y-=a.textBlock.height-a.textBlock.fontSize/2:c.y-=a.textBlock.height/2-a.textBlock.fontSize/2+3,c.x="near"===a.stripLine.labelAlign?this.chart.plotArea.x2-a.textBlock.width-3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-a.textBlock.width/2:this.chart.plotArea.x1+3);a.textBlock.x=c.x,a.textBlock.y=c.y,h.push(a)}if(!g){for(g=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),d=0;d<i.length;d++)(e=i[d]).showOnTop?j||(j=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),l=0;l<i.length;l++)(e=i[l]).showOnTop&&e.render();this.ctx.restore()},e)):e.render();for(d=0;d<h.length;d++)(a=h[d]).stripLine.showOnTop?g||(g=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(l=0;l<h.length;l++)"inside"===(a=h[l]).stripLine.labelPlacement&&a.stripLine.showOnTop&&(k.ctx.save(),k.ctx.beginPath(),k.ctx.rect(k.chart.plotArea.x1,k.chart.plotArea.y1,k.chart.plotArea.width,k.chart.plotArea.height),k.ctx.clip(),a.textBlock.render(!0),k.ctx.restore())},a.textBlock)):"inside"===a.stripLine.labelPlacement&&a.textBlock.render(!0);this.ctx.restore(),g=!0}if(g)for(g=!1,d=0;d<h.length;d++)"outside"===(a=h[d]).stripLine.labelPlacement&&a.textBlock.render(!0)}},c.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},c.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var c=this.scaleBreaks._appliedBreaks;i?(this.maskCanvas=_(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var a=0;a<c.length;a++)c[a].endValue<this.viewportMinimum||c[a].startValue>this.viewportMaximum||isNaN(this.range)||c[a].render(this.maskCtx);this.maskCtx.restore()}},c.prototype.renderCrosshair=function(a,c){isFinite(this.minimum)&&isFinite(this.maximum)&&(this.crosshair.render(a,c),this.crosshair.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this,value:this.crosshair.value},this))},c.prototype.showCrosshair=function(a){var c;null==a||a<this.viewportMinimum||a>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(a),null,a):this.crosshair.render(null,this.convertValueToPixel(a),a))},c.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var a=this.chart.ctx;a.save();var c,e=this.chart.plotArea;if(a.lineWidth=this.gridThickness,a.strokeStyle=this.gridColor,a.setLineDash&&a.setLineDash(V(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(d=0;d<this._labels.length;d++)this._labels[d].position<this.viewportMinimum||this._labels[d].position>this.viewportMaximum||this._labels[d].breaksLabelType||(a.beginPath(),c=this.getPixelCoordinatesOnAxis(this._labels[d].position),c=1==a.lineWidth%2?(c.x<<0)+.5:c.x<<0,a.moveTo(c,e.y1<<0),a.lineTo(c,e.y2<<0),a.stroke());else if("left"===this._position||"right"===this._position)for(var d=0;d<this._labels.length;d++)this._labels[d].position<this.viewportMinimum||this._labels[d].position>this.viewportMaximum||this._labels[d].breaksLabelType||(a.beginPath(),c=this.getPixelCoordinatesOnAxis(this._labels[d].position),c=1==a.lineWidth%2?(c.y<<0)+.5:c.y<<0,a.moveTo(e.x1<<0,c),a.lineTo(e.x2<<0,c),a.stroke());a.restore()}},c.prototype.renderAxisLine=function(){var k,l,c,f,j=this.chart.ctx,a=i?this.chart._preRenderCtx:j,g=Math.ceil(this.tickThickness/(this.reversed?-2:2)),h=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(a.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(c=this.lineCoordinates.x2,f=this.lineCoordinates.x1):(c=this.lineCoordinates.x1,f=this.lineCoordinates.x2),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor?this.lineColor:"black",a.setLineDash&&a.setLineDash(V(this.lineDashType,this.lineThickness));var m,n,d=1==this.lineThickness%2?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;if(a.beginPath(),this.scaleBreaks&&null!=this.scaleBreaks.firstBreakIndex){if(null==this.scaleBreaks.lastBreakIndex)c=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+h;else for(var e=this.scaleBreaks.firstBreakIndex;e<=this.scaleBreaks.lastBreakIndex;e++)a.moveTo(c,d),a.lineTo(this.scaleBreaks._appliedBreaks[e].startPixel+g,d),c=this.scaleBreaks._appliedBreaks[e].endPixel+h}c&&(a.moveTo(c,d),a.lineTo(f,d)),a.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(c=this.lineCoordinates.y1,f=this.lineCoordinates.y2):(c=this.lineCoordinates.y2,f=this.lineCoordinates.y1),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor,a.setLineDash&&a.setLineDash(V(this.lineDashType,this.lineThickness)),d=1==this.lineThickness%2?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,a.beginPath(),this.scaleBreaks&&null!=this.scaleBreaks.firstBreakIndex){if(null==this.scaleBreaks.lastBreakIndex)c=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+g;else for(e=this.scaleBreaks.firstBreakIndex;e<=this.scaleBreaks.lastBreakIndex;e++)a.moveTo(d,c),a.lineTo(d,this.scaleBreaks._appliedBreaks[e].startPixel+h),c=this.scaleBreaks._appliedBreaks[e].endPixel+g}c&&(a.moveTo(d,c),a.lineTo(d,f)),a.stroke()}i&&(j.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),a.clearRect(0,0,this.chart.width,this.chart.height)),a.restore()},c.prototype.getPixelCoordinatesOnAxis=function(c){var a={};return("bottom"===this._position||"top"===this._position)&&(a.x=this.convertValueToPixel(c),a.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(a.y=this.convertValueToPixel(c),a.x=this.lineCoordinates.x2),a},c.prototype.convertPixelToValue=function(e){if(void 0===e)return null;var d,a=0,f=!0,c=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],a="number"==typeof e?e:"left"===this._position||"right"===this._position?e.y:e.x;if(this.logarithmic){if(e=d=Math.pow(this.logarithmBase,(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),a<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(a=0;a<c.length;a++)if(!(c[a].endValue<this.conversionParameters.minimum)){if(f){if(c[a].startValue<this.conversionParameters.minimum){if(1<c[a].size&&this.conversionParameters.minimum*Math.pow(c[a].endValue/c[a].startValue,Math.log(d)/Math.log(c[a].size))<c[a].endValue){e=Math.pow(c[a].endValue/c[a].startValue,Math.log(d)/Math.log(c[a].size));break}e*=c[a].endValue/this.conversionParameters.minimum/Math.pow(c[a].size,Math.log(c[a].endValue/this.conversionParameters.minimum)/Math.log(c[a].endValue/c[a].startValue)),d/=Math.pow(c[a].size,Math.log(c[a].endValue/this.conversionParameters.minimum)/Math.log(c[a].endValue/c[a].startValue)),f=!1}else if(d>c[a].startValue/this.conversionParameters.minimum){if((d/=c[a].startValue/this.conversionParameters.minimum)<c[a].size){e*=Math.pow(c[a].endValue/c[a].startValue,1===c[a].size?1:Math.log(d)/Math.log(c[a].size))/d;break}e*=c[a].endValue/c[a].startValue/c[a].size,d/=c[a].size,f=!1}else break}else if(d>c[a].startValue/c[a-1].endValue){if((d/=c[a].startValue/c[a-1].endValue)<c[a].size){e*=Math.pow(c[a].endValue/c[a].startValue,1===c[a].size?1:Math.log(d)/Math.log(c[a].size))/d;break}e*=c[a].endValue/c[a].startValue/c[a].size,d/=c[a].size}else break}}else for(a=c.length-1;0<=a;a--)if(!(c[a].startValue>this.conversionParameters.minimum)){if(f){if(c[a].endValue>this.conversionParameters.minimum){if(1<c[a].size&&this.conversionParameters.minimum*Math.pow(c[a].endValue/c[a].startValue,Math.log(d)/Math.log(c[a].size))>c[a].startValue){e=Math.pow(c[a].endValue/c[a].startValue,Math.log(d)/Math.log(c[a].size));break}e*=c[a].startValue/this.conversionParameters.minimum*Math.pow(c[a].size,Math.log(c[a].startValue/this.conversionParameters.minimum)/Math.log(c[a].endValue/c[a].startValue))*d,d*=Math.pow(c[a].size,Math.log(this.conversionParameters.minimum/c[a].startValue)/Math.log(c[a].endValue/c[a].startValue)),f=!1}else if(d<c[a].endValue/this.conversionParameters.minimum){if((d/=c[a].endValue/this.conversionParameters.minimum)>1/c[a].size){e*=Math.pow(c[a].endValue/c[a].startValue,1>=c[a].size?1:Math.log(d)/Math.log(c[a].size))*d;break}e/=c[a].endValue/c[a].startValue/c[a].size,d*=c[a].size,f=!1}else break}else if(d<c[a].endValue/c[a+1].startValue){if((d/=c[a].endValue/c[a+1].startValue)>1/c[a].size){e*=Math.pow(c[a].endValue/c[a].startValue,1>=c[a].size?1:Math.log(d)/Math.log(c[a].size))*d;break}e/=c[a].endValue/c[a].startValue/c[a].size,d*=c[a].size}else break}f=e*this.viewportMinimum}else{if(e=d=(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,a<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(a=0;a<c.length;a++)if(!(c[a].endValue<this.conversionParameters.minimum)){if(f){if(c[a].startValue<this.conversionParameters.minimum){if(c[a].size&&this.conversionParameters.minimum+d*(c[a].endValue-c[a].startValue)/c[a].size<c[a].endValue){e=0>=c[a].size?0:d*(c[a].endValue-c[a].startValue)/c[a].size;break}e+=c[a].endValue-this.conversionParameters.minimum-c[a].size*(c[a].endValue-this.conversionParameters.minimum)/(c[a].endValue-c[a].startValue),d-=c[a].size*(c[a].endValue-this.conversionParameters.minimum)/(c[a].endValue-c[a].startValue),f=!1}else if(d>c[a].startValue-this.conversionParameters.minimum){if((d-=c[a].startValue-this.conversionParameters.minimum)<c[a].size){e+=(c[a].endValue-c[a].startValue)*(0===c[a].size?1:d/c[a].size)-d;break}e+=c[a].endValue-c[a].startValue-c[a].size,d-=c[a].size,f=!1}else break}else if(d>c[a].startValue-c[a-1].endValue){if((d-=c[a].startValue-c[a-1].endValue)<c[a].size){e+=(c[a].endValue-c[a].startValue)*(0===c[a].size?1:d/c[a].size)-d;break}e+=c[a].endValue-c[a].startValue-c[a].size,d-=c[a].size}else break}}else for(a=c.length-1;0<=a;a--)if(!(c[a].startValue>this.conversionParameters.minimum)){if(f){if(c[a].endValue>this.conversionParameters.minimum){if(c[a].size&&this.conversionParameters.minimum+d*(c[a].endValue-c[a].startValue)/c[a].size>c[a].startValue){e=0>=c[a].size?0:d*(c[a].endValue-c[a].startValue)/c[a].size;break}e+=c[a].startValue-this.conversionParameters.minimum+c[a].size*(this.conversionParameters.minimum-c[a].startValue)/(c[a].endValue-c[a].startValue),d+=c[a].size*(this.conversionParameters.minimum-c[a].startValue)/(c[a].endValue-c[a].startValue),f=!1}else if(d<c[a].endValue-this.conversionParameters.minimum){if((d-=c[a].endValue-this.conversionParameters.minimum)> -1*c[a].size){e+=(c[a].endValue-c[a].startValue)*(0===c[a].size?1:d/c[a].size)+d;break}e-=c[a].endValue-c[a].startValue-c[a].size,d+=c[a].size,f=!1}else break}else if(d<c[a].endValue-c[a+1].startValue){if((d-=c[a].endValue-c[a+1].startValue)> -1*c[a].size){e+=(c[a].endValue-c[a].startValue)*(0===c[a].size?1:d/c[a].size)+d;break}e-=c[a].endValue-c[a].startValue-c[a].size,d+=c[a].size}else break}f=this.conversionParameters.minimum+e}return f},c.prototype.convertValueToPixel=function(a){return a=this.getApparentDifference(this.conversionParameters.minimum,a,a),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(a/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(a-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(a-this.conversionParameters.minimum)+.5},c.prototype.getApparentDifference=function(e,f,d,g){var h,i,c=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){d=null==d?f/e:d;for(var a=0;a<c.length&&!(f<c[a].startValue);a++)e>c[a].endValue||(e<=c[a].startValue&&f>=c[a].endValue?d=d/c[a].endValue*c[a].startValue*c[a].size:e>=c[a].startValue&&f>=c[a].endValue?d=d/c[a].endValue*e*Math.pow(c[a].size,Math.log(c[a].endValue/e)/Math.log(c[a].endValue/c[a].startValue)):e<=c[a].startValue&&f<=c[a].endValue?d=d/f*c[a].startValue*Math.pow(c[a].size,Math.log(f/c[a].startValue)/Math.log(c[a].endValue/c[a].startValue)):!g&&e>c[a].startValue&&f<c[a].endValue&&(d=e*Math.pow(c[a].size,Math.log(f/e)/Math.log(c[a].endValue/c[a].startValue))))}else for(d=null==d?Math.abs(f-e):d,a=0;a<c.length&&!(f<c[a].startValue);a++)e>c[a].endValue||(e<=c[a].startValue&&f>=c[a].endValue?d=d-c[a].endValue+c[a].startValue+c[a].size:e>c[a].startValue&&f>=c[a].endValue?d=d-c[a].endValue+e+c[a].size*(c[a].endValue-e)/(c[a].endValue-c[a].startValue):e<=c[a].startValue&&f<c[a].endValue?d=d-f+c[a].startValue+c[a].size*(f-c[a].startValue)/(c[a].endValue-c[a].startValue):!g&&e>c[a].startValue&&f<c[a].endValue&&(d=e+c[a].size*(f-e)/(c[a].endValue-c[a].startValue)));return d},c.prototype.setViewPortRange=function(a,c){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(a,c),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(a,c)},c.prototype.getXValueAt=function(a){if(!a)return null;var c=null;return"left"===this._position?c=this.convertPixelToValue(a.y):"bottom"===this._position&&(c=this.convertPixelToValue(a.x)),c},c.prototype.calculateValueToPixelConversionParameters=function(c){c=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var f={pixelPerUnit:null,minimum:null,reference:null},d=this.lineCoordinates.width,e=this.lineCoordinates.height,d="bottom"===this._position||"top"===this._position?d:e,e=Math.abs(this.range);if(this.logarithmic)for(var a=0;a<c.length&&!(this.viewportMaximum<c[a].startValue);a++)this.viewportMinimum>c[a].endValue||(this.viewportMinimum>=c[a].startValue&&this.viewportMaximum<=c[a].endValue?d=0:this.viewportMinimum<=c[a].startValue&&this.viewportMaximum>=c[a].endValue?(e=e/c[a].endValue*c[a].startValue,d=0<c[a].spacing.toString().indexOf("%")?d*(1-parseFloat(c[a].spacing)/100):d-Math.min(c[a].spacing,.1*d)):this.viewportMinimum>c[a].startValue&&this.viewportMaximum>=c[a].endValue?(e=e/c[a].endValue*this.viewportMinimum,d=0<c[a].spacing.toString().indexOf("%")?d*(1-parseFloat(c[a].spacing)/100*Math.log(c[a].endValue/this.viewportMinimum)/Math.log(c[a].endValue/c[a].startValue)):d-Math.min(c[a].spacing,.1*d)*Math.log(c[a].endValue/this.viewportMinimum)/Math.log(c[a].endValue/c[a].startValue)):this.viewportMinimum<=c[a].startValue&&this.viewportMaximum<c[a].endValue&&(e=e/this.viewportMaximum*c[a].startValue,d=0<c[a].spacing.toString().indexOf("%")?d*(1-parseFloat(c[a].spacing)/100*Math.log(this.viewportMaximum/c[a].startValue)/Math.log(c[a].endValue/c[a].startValue)):d-Math.min(c[a].spacing,.1*d)*Math.log(this.viewportMaximum/c[a].startValue)/Math.log(c[a].endValue/c[a].startValue)));else for(a=0;a<c.length&&!(this.viewportMaximum<c[a].startValue);a++)this.viewportMinimum>c[a].endValue||(this.viewportMinimum>=c[a].startValue&&this.viewportMaximum<=c[a].endValue?d=0:this.viewportMinimum<=c[a].startValue&&this.viewportMaximum>=c[a].endValue?(e=e-c[a].endValue+c[a].startValue,d=0<c[a].spacing.toString().indexOf("%")?d*(1-parseFloat(c[a].spacing)/100):d-Math.min(c[a].spacing,.1*d)):this.viewportMinimum>c[a].startValue&&this.viewportMaximum>=c[a].endValue?(e=e-c[a].endValue+this.viewportMinimum,d=0<c[a].spacing.toString().indexOf("%")?d*(1-parseFloat(c[a].spacing)/100*(c[a].endValue-this.viewportMinimum)/(c[a].endValue-c[a].startValue)):d-Math.min(c[a].spacing,.1*d)*(c[a].endValue-this.viewportMinimum)/(c[a].endValue-c[a].startValue)):this.viewportMinimum<=c[a].startValue&&this.viewportMaximum<c[a].endValue&&(e=e-this.viewportMaximum+c[a].startValue,d=0<c[a].spacing.toString().indexOf("%")?d*(1-parseFloat(c[a].spacing)/100*(this.viewportMaximum-c[a].startValue)/(c[a].endValue-c[a].startValue)):d-Math.min(c[a].spacing,.1*d)*(this.viewportMaximum-c[a].startValue)/(c[a].endValue-c[a].startValue)));f.minimum=this.viewportMinimum,f.maximum=this.viewportMaximum,f.range=e,("bottom"===this._position||"top"===this._position)&&(this.logarithmic?(f.lnLogarithmBase=Math.log(this.logarithmBase),f.pixelPerUnit=(this.reversed?-1:1)*d*f.lnLogarithmBase/Math.log(Math.abs(e))):f.pixelPerUnit=(this.reversed?-1:1)*d/Math.abs(e),f.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(this.logarithmic?(f.lnLogarithmBase=Math.log(this.logarithmBase),f.pixelPerUnit=(this.reversed?1:-1)*d*f.lnLogarithmBase/Math.log(Math.abs(e))):f.pixelPerUnit=(this.reversed?1:-1)*d/Math.abs(e),f.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=f},c.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var j,k,l,m,n,o,p,q,r,s,f=this.chart.layoutManager.getFreeSpace(),i=!1,h=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=f.width,this.maxHeight=f.height):(this.maxWidth=f.height,this.maxHeight=f.width);var f="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40,a=4;"axisX"===this.type&&(a=600>this.maxWidth?8:6);var d,e,g,t,u,v,w,f=Math.max(a,Math.floor(this.maxWidth/f)),a=0;if((null!=this.options.viewportMinimum&&null!=this.options.viewportMaximum&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),null!=this.options.viewportMinimum||null==this.sessionVariables.newViewportMinimum||isNaN(this.sessionVariables.newViewportMinimum))?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,null!=this.options.viewportMaximum||null==this.sessionVariables.newViewportMaximum||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks){for(a=0;a<this.scaleBreaks._appliedBreaks.length;a++)if((null!=this.sessionVariables.newViewportMinimum&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue||null!=this.options.minimum&&this.options.minimum>=this.scaleBreaks._appliedBreaks[a].startValue||null!=this.options.viewportMinimum&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue)&&(null!=this.sessionVariables.newViewportMaximum&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue||null!=this.options.maximum&&this.options.maximum<=this.scaleBreaks._appliedBreaks[a].endValue||null!=this.options.viewportMaximum&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue)){this.scaleBreaks._appliedBreaks.splice(a,1);break}}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(d=0;d<this.dataSeries.length;d++)"dateTime"===this.dataSeries[d].xValueType&&(h=!0);d=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,0==(e=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-d&&(e+=a=void 0===this.options.interval?.4:this.options.interval,d-=a),1/0!==this.dataInfo.minDiff?g=this.dataInfo.minDiff:1<e-d?g=.5*Math.abs(e-d):(g=1,h&&(i=!0))}else"axisY"===this.type&&(d=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,e=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(d)||isFinite(e)?isFinite(d)?isFinite(e)||(e=d):d=e:(e=void 0===this.options.interval?-1/0:this.options.interval,d=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===d&&0===e?(e+=9,d=0):0==e-d?(a=Math.min(Math.abs(.01*Math.abs(e)),5),e+=a,d-=a):d>e?(a=Math.min(.01*Math.abs(this.getApparentDifference(e,d,null,!0)),5),0<=e?d=e-a:e=isFinite(d)?d+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(d,e,null,!0)),.05),0!==e&&(e+=a),0!==d&&(d-=a)),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<e-d?.5*Math.abs(e-d):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<d&&(d=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>e&&(e=0));a=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?d:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?e:this.viewportMaximum,null,!0),"axisX"===this.type&&h?(this.valueType="dateTime",this.intervalType||(a/1<=f?(this.interval=1,this.intervalType="millisecond"):a/2<=f?(this.interval=2,this.intervalType="millisecond"):a/5<=f?(this.interval=5,this.intervalType="millisecond"):a/10<=f?(this.interval=10,this.intervalType="millisecond"):a/20<=f?(this.interval=20,this.intervalType="millisecond"):a/50<=f?(this.interval=50,this.intervalType="millisecond"):a/100<=f?(this.interval=100,this.intervalType="millisecond"):a/200<=f?(this.interval=200,this.intervalType="millisecond"):a/250<=f?(this.interval=250,this.intervalType="millisecond"):a/300<=f?(this.interval=300,this.intervalType="millisecond"):a/400<=f?(this.interval=400,this.intervalType="millisecond"):a/500<=f?(this.interval=500,this.intervalType="millisecond"):a/(1*aj.secondDuration)<=f?(this.interval=1,this.intervalType="second"):a/(2*aj.secondDuration)<=f?(this.interval=2,this.intervalType="second"):a/(5*aj.secondDuration)<=f?(this.interval=5,this.intervalType="second"):a/(10*aj.secondDuration)<=f?(this.interval=10,this.intervalType="second"):a/(15*aj.secondDuration)<=f?(this.interval=15,this.intervalType="second"):a/(20*aj.secondDuration)<=f?(this.interval=20,this.intervalType="second"):a/(30*aj.secondDuration)<=f?(this.interval=30,this.intervalType="second"):a/(1*aj.minuteDuration)<=f?(this.interval=1,this.intervalType="minute"):a/(2*aj.minuteDuration)<=f?(this.interval=2,this.intervalType="minute"):a/(5*aj.minuteDuration)<=f?(this.interval=5,this.intervalType="minute"):a/(10*aj.minuteDuration)<=f?(this.interval=10,this.intervalType="minute"):a/(15*aj.minuteDuration)<=f?(this.interval=15,this.intervalType="minute"):a/(20*aj.minuteDuration)<=f?(this.interval=20,this.intervalType="minute"):a/(30*aj.minuteDuration)<=f?(this.interval=30,this.intervalType="minute"):a/(1*aj.hourDuration)<=f?(this.interval=1,this.intervalType="hour"):a/(2*aj.hourDuration)<=f?(this.interval=2,this.intervalType="hour"):a/(3*aj.hourDuration)<=f?(this.interval=3,this.intervalType="hour"):a/(6*aj.hourDuration)<=f?(this.interval=6,this.intervalType="hour"):a/(1*aj.dayDuration)<=f?(this.interval=1,this.intervalType="day"):a/(2*aj.dayDuration)<=f?(this.interval=2,this.intervalType="day"):a/(4*aj.dayDuration)<=f?(this.interval=4,this.intervalType="day"):a/(1*aj.weekDuration)<=f?(this.interval=1,this.intervalType="week"):a/(2*aj.weekDuration)<=f?(this.interval=2,this.intervalType="week"):a/(3*aj.weekDuration)<=f?(this.interval=3,this.intervalType="week"):a/(1*aj.monthDuration)<=f?(this.interval=1,this.intervalType="month"):a/(2*aj.monthDuration)<=f?(this.interval=2,this.intervalType="month"):a/(3*aj.monthDuration)<=f?(this.interval=3,this.intervalType="month"):a/(6*aj.monthDuration)<=f?(this.interval=6,this.intervalType="month"):(this.interval=a/(1*aj.yearDuration)<=f?1:a/(2*aj.yearDuration)<=f?2:a/(4*aj.yearDuration)<=f?4:Math.floor(c.getNiceNumber(a/(f-1),!0)/aj.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=d-g/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=e+g/2),i?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",a=c.getNiceNumber(a,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:c.getNiceNumber(a/(f-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?d-g/2:Math.floor(d/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?e+g/2:Math.ceil(e/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&& void 0===this.options.interval&&(this.interval=c.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(f-1),!0)))),(null===this.minimum||null===this.maximum)&&(("axisX"===this.type?(d=null!==this.minimum?this.minimum:this.dataInfo.min,0==(e=null!==this.maximum?this.maximum:this.dataInfo.max)-d&&(e+=a=void 0===this.options.interval?.4:this.options.interval,d-=a),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<e-d?.5*Math.abs(e-d):1):"axisY"===this.type&&(d=null!==this.minimum?this.minimum:this.dataInfo.min,e=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(d)||isFinite(e)?0===d&&0===e?(e+=9,d=0):0==e-d?(a=Math.min(Math.abs(.01*Math.abs(e)),5),e+=a,d-=a):d>e?(a=Math.min(.01*Math.abs(this.getApparentDifference(e,d,null,!0)),5),0<=e?d=e-a:e=isFinite(d)?d+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(d,e,null,!0)),.05),0!==e&&(e+=a),0!==d&&(d-=a)):(e=void 0===this.options.interval?-1/0:this.options.interval,d=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<e-d?.5*Math.abs(e-d):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<d&&(d=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>e&&(e=0)),this.getApparentDifference(d,e,null,!0),"axisX"===this.type&&h)?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=d-g/2,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=e+g/2,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?d-g/2:Math.floor(d/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?e+g/2:Math.ceil(e/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),null==this.sessionVariables.newViewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null==this.sessionVariables.newViewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&h?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=c.generateValueFormatString(this.range,2))}},c.prototype.calculateLogarithmicAxisParameters=function(){var k,l,m,n,o,p,q,r,h,g=this.chart.layoutManager.getFreeSpace(),f=Math.log(this.logarithmBase);"bottom"===this._position||"top"===this._position?(this.maxWidth=g.width,this.maxHeight=g.height):(this.maxWidth=g.height,this.maxHeight=g.width);var a,d,i,e,g="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3);if(e=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(e=0;e<this.scaleBreaks._appliedBreaks.length;e++)if((null!=this.sessionVariables.newViewportMinimum&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[e].startValue||null!=this.options.minimum&&this.options.minimum>=this.scaleBreaks._appliedBreaks[e].startValue||null!=this.options.viewportMinimum&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[e].startValue)&&(null!=this.sessionVariables.newViewportMaximum&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[e].endValue||null!=this.options.maximum&&this.options.maximum<=this.scaleBreaks._appliedBreaks[e].endValue||null!=this.options.viewportMaximum&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[e].endValue)){this.scaleBreaks._appliedBreaks.splice(e,1);break}}"axisX"===this.type?(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,1==(d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/a&&(d*=e=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),a/=e),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:d/a>this.logarithmBase?d/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=a&&!isFinite(d)?(d=void 0===this.options.interval?0:this.options.interval,a=1):0>=a?a=d:isFinite(d)||(d=a),1===a&&1===d?(d*=this.logarithmBase-1/this.logarithmBase,a=1):1==d/a?(e=Math.min(d*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),d*=e,a/=e):a>d?(e=Math.min(a/d*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=d?a=d/e:d=a*e):(e=Math.min(d/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==d&&(d*=e),1!==a&&(a/=e)),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:d/a>this.logarithmBase?d/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<a&&(a=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>d&&(d=1)),e=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?d:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum);var j=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?d:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum);if(this.intervalType="number",e=Math.pow(this.logarithmBase,c.getNiceNumber(Math.abs(Math.log(e)/f),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=c.getNiceExponent(Math.log(e)/f/(g-1),!0),h=c.getNiceNumber(j/(g-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?a/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/f/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?d*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(d)/f/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&& void 0===this.options.interval&&(this.interval=c.getNiceExponent(Math.ceil(Math.log(e)/f)/(g-1)),h=c.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(g-1),!0))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?(a=null!==this.minimum?this.minimum:this.dataInfo.min,1==(d=null!==this.maximum?this.maximum:this.dataInfo.max)/a&&(d*=e=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),a/=e),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:d/a>this.logarithmBase?d/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.minimum?this.minimum:this.dataInfo.min,d=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(a)||isFinite(d)?1===a&&1===d?(d*=this.logarithmBase,a/=this.logarithmBase):1==d/a?(d*=e=Math.pow(this.logarithmBase,this.interval),a/=e):a>d?(e=Math.min(.01*(a/d),5),1<=d?a=d/e:d=a*e):(e=Math.min(d/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==d&&(d*=e),1!==a&&(a/=e)):(d=void 0===this.options.interval?0:this.options.interval,a=1),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:d/a>this.logarithmBase?d/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<a&&(a=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>d&&(d=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?a/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/f/this.interval)),null==(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?d*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(d)/f/this.interval)),null==(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum|| !this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(f*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=g,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>g?2:3)){for(f=Math.floor(this.viewportMinimum/h+.5)*h;f<this.viewportMinimum;)f+=h;this.equidistantInterval=!1,this.intervalStartPosition=f,this.interval=h}else this.options.interval||(h=Math.ceil(this.interval),this.range>this.interval&&(this.interval=h,a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(f*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=a;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&((isNaN(f=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2)||!isFinite(f))&&(f=2),2<f))for(e=0;e<f-2;e++)this.valueFormatString+="#"},c.generateValueFormatString=function(c,d){var e="#,##0.",a=d;1>c&&(isNaN(a+=Math.floor(Math.abs(Math.log(c)/Math.LN10)))||!isFinite(a))&&(a=d);for(var f=0;f<a;f++)e+="#";return e},c.getNiceExponent=function(d,e){var c=Math.floor(Math.log(d)/Math.LN10),a=d/Math.pow(10,c),a=0>c?1>=a?1:5>=a?5:10:Math.max(Math.floor(a),1);return -20>c?Number(a*Math.pow(10,c)):Number((a*Math.pow(10,c)).toFixed(20))},c.getNiceNumber=function(d,e){var c=Math.floor(Math.log(d)/Math.LN10),a=d/Math.pow(10,c),a=e?1.5>a?1:3>a?2:7>a?5:10:1>=a?1:2>=a?2:5>=a?5:10;return -20>c?Number(a*Math.pow(10,c)):Number((a*Math.pow(10,c)).toFixed(20))},c.prototype.getLabelStartPoint=function(){var a=aj[this.intervalType+"Duration"]*this.interval,a=new Date(Math.floor(this.viewportMinimum/a)*a);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<a.getMilliseconds()&&(a.setSeconds(a.getSeconds()+1),a.setMilliseconds(0)):"minute"===this.intervalType?(0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMinutes(a.getMinutes()+1),a.setSeconds(0),a.setMilliseconds(0)):"hour"===this.intervalType?(0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setHours(a.getHours()+1),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"day"===this.intervalType?(0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"week"===this.intervalType?(0<a.getDay()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+(7-a.getDay())),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"month"===this.intervalType?(1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"year"===this.intervalType&&(0<a.getMonth()||1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0))),a},p(u,f),p(k,f),k.prototype.createUserOptions=function(a){if(void 0!==a||this.options._isPlaceholder){var c=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(T(this.parent[this.optionsName]),c=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===a?{}:a,this.parent.options[this.optionsName][c]=this.options}},k.prototype.render=function(a){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var e,j,k,c,d,l,m=this.ctx,n=this.ctx.globalAlpha;this.ctx=a||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var g=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),h=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,R(this.id),a=Math.max(this.spacing,3);var i=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=i,this.ctx.setLineDash&&this.ctx.setLineDash(V(this.lineDashType,i)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(g=1==i%2?(g.x<<0)+.5:g.x<<0,j=1==i%2?(h.x<<0)+.5:h.x<<0,"top"===this.scaleBreaks.parent._position?(h=this.chart.plotArea.y1,k=this.chart.plotArea.y2+i/2+.5<<0):(h=this.chart.plotArea.y2,k=this.chart.plotArea.y1-i/2+.5<<0,a*=-1),this.bounds={x1:g-i/2,y1:h,x2:j+i/2,y2:k},this.ctx.moveTo(g,h),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=a||"bottom"===this.scaleBreaks.parent._position&&0<=a)this.ctx.lineTo(g,k),this.ctx.lineTo(j,k),this.ctx.lineTo(j,h);else if("wavy"===this.type){c=g,e=.5,l=(k-(d=h))/a/3;for(var f=0;f<l;f++)this.ctx.bezierCurveTo(c+e*a,d+a,c+e*a,d+2*a,c,d+3*a),d+=3*a,e*=-1;for(this.ctx.bezierCurveTo(c+e*a,d+a,c+e*a,d+2*a,c,d+3*a),c=j,e*=-1,this.ctx.lineTo(c,d),f=0;f<l;f++)this.ctx.bezierCurveTo(c+e*a,d-a,c+e*a,d-2*a,c,d-3*a),d-=3*a,e*=-1}else if("zigzag"===this.type){for(f=0,e=-1,d=h+a,c=g+a,l=(k-d)/a/2;f<l;f++)this.ctx.lineTo(c,d),c+=2*e*a,d+=2*a,e*=-1;for(this.ctx.lineTo(c,d),c+=j-g,f=0;f<l+1;f++)this.ctx.lineTo(c,d),c+=2*e*a,d-=2*a,e*=-1;this.ctx.lineTo(c+e*a,d+a)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position){if(h=1==i%2?(h.y<<0)+.5:h.y<<0,k=1==i%2?(g.y<<0)+.5:g.y<<0,"left"===this.scaleBreaks.parent._position?(g=this.chart.plotArea.x1,j=this.chart.plotArea.x2+i/2+.5<<0):(g=this.chart.plotArea.x2,j=this.chart.plotArea.x1-i/2+.5<<0,a*=-1),this.bounds={x1:g,y1:h-i/2,x2:j,y2:k+i/2},this.ctx.moveTo(g,h),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=a||"right"===this.scaleBreaks.parent._position&&0<=a)this.ctx.lineTo(j,h),this.ctx.lineTo(j,k),this.ctx.lineTo(g,k);else if("wavy"===this.type){for(f=0,c=g,d=h,e=.5,l=(j-c)/a/3;f<l;f++)this.ctx.bezierCurveTo(c+a,d+e*a,c+2*a,d+e*a,c+3*a,d),c+=3*a,e*=-1;for(this.ctx.bezierCurveTo(c+a,d+e*a,c+2*a,d+e*a,c+3*a,d),d=k,e*=-1,this.ctx.lineTo(c,d),f=0;f<l;f++)this.ctx.bezierCurveTo(c-a,d+e*a,c-2*a,d+e*a,c-3*a,d),c-=3*a,e*=-1}else if("zigzag"===this.type){for(f=0,e=1,d=h-a,c=g+a,l=(j-c)/a/2;f<l;f++)this.ctx.lineTo(c,d),d+=2*e*a,c+=2*a,e*=-1;for(this.ctx.lineTo(c,d),d+=k-h,f=0;f<l+1;f++)this.ctx.lineTo(c,d),d+=2*e*a,c-=2*a,e*=-1;this.ctx.lineTo(c+a,d+e*a)}}0<i&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=n,this.ctx=m}},p(o,f),o.prototype.createUserOptions=function(a){if(void 0!==a||this.options._isPlaceholder){var c=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(T(this.parent.stripLines),c=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===a?{}:a,this.parent.options.stripLines[c]=this.options}},o.prototype.render=function(){this.ctx.save();var g=this.parent.getPixelCoordinatesOnAxis(this.value),a=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<a){var c,d,e,f,h=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var i=this.ctx.globalAlpha;this.ctx.globalAlpha=h,R(this.id),this.ctx.lineWidth=a,this.ctx.setLineDash&&this.ctx.setLineDash(V(this.lineDashType,a)),"bottom"===this.parent._position||"top"===this.parent._position?(c=d=1==this.ctx.lineWidth%2?(g.x<<0)+.5:g.x<<0,e=this.chart.plotArea.y1,f=this.chart.plotArea.y2,this.bounds={x1:c-a/2,y1:e,x2:d+a/2,y2:f}):("left"===this.parent._position||"right"===this.parent._position)&&(e=f=1==this.ctx.lineWidth%2?(g.y<<0)+.5:g.y<<0,c=this.chart.plotArea.x1,d=this.chart.plotArea.x2,this.bounds={x1:c,y1:e-a/2,x2:d,y2:f+a/2}),this.ctx.moveTo(c,e),this.ctx.lineTo(d,f),this.ctx.stroke(),this.ctx.globalAlpha=i}this.ctx.restore()},p(g,f),g.prototype.showAt=function(d){if(!this.enabled)return!1;var f,g,h,i,c=this.chart,e=!1;if(c.resetOverlayedCanvas(),c.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),"xySwapped"===c.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var a=0;a<c.axisY.length;a++)this.parent===c.axisY[a]&&(c.axisY[a]._crosshairValue=d>=c.axisY[a].viewportMinimum&&d<=c.axisY[a].viewportMaximum?d:null);else if("top"===this.parent._position)for(a=0;a<c.axisY2.length;a++)this.parent===c.axisY2[a]&&(c.axisY2[a]._crosshairValue=d>=c.axisY2[a].viewportMinimum&&d<=c.axisY2[a].viewportMaximum?d:null);else if("left"===this.parent._position)for(a=0;a<c.axisX.length;a++)this.parent===c.axisX[a]&&(c.axisX[a]._crosshairValue=d>=c.axisX[a].viewportMinimum&&d<=c.axisX[a].viewportMaximum?d:null);else if("right"===this.parent._position)for(a=0;a<c.axisX2.length;a++)this.parent===c.axisX2[a]&&(c.axisX2[a]._crosshairValue=d>=c.axisX2[a].viewportMinimum&&d<=c.axisX2[a].viewportMaximum?d:null)}else if("bottom"===this.parent._position)for(a=0;a<c.axisX.length;a++)this.parent===c.axisX[a]&&(c.axisX[a]._crosshairValue=d>=c.axisX[a].viewportMinimum&&d<=c.axisX[a].viewportMaximum?d:null);else if("top"===this.parent._position)for(a=0;a<c.axisX2.length;a++)this.parent===c.axisX2[a]&&(c.axisX2[a]._crosshairValue=d>=c.axisX2[a].viewportMinimum&&d<=c.axisX2[a].viewportMaximum?d:null);else if("left"===this.parent._position)for(a=0;a<c.axisY.length;a++)this.parent===c.axisY[a]&&(c.axisY[a]._crosshairValue=d>=c.axisY[a].viewportMinimum&&d<=c.axisY[a].viewportMaximum?d:null);else if("right"===this.parent._position)for(a=0;a<c.axisY2.length;a++)this.parent===c.axisY2[a]&&(c.axisY2[a]._crosshairValue=d>=c.axisY2[a].viewportMinimum&&d<=c.axisY2[a].viewportMaximum?d:null);for(a=0;a<c.axisX.length;a++)d=c.axisX[a]._crosshairValue,c.axisX[a].crosshair&&c.axisX[a].crosshair.enabled&&null!=d&&d>=c.axisX[a].viewportMinimum&&d<=c.axisX[a].viewportMaximum&&(c.axisX[a].showCrosshair(d),c.axisX[a].crosshair._updatedValue=d,this===c.axisX[a].crosshair&&(e=!0));for(a=0;a<c.axisX2.length;a++)d=c.axisX2[a]._crosshairValue,c.axisX2[a].crosshair&&c.axisX2[a].crosshair.enabled&&null!=d&&d>=c.axisX2[a].viewportMinimum&&d<=c.axisX2[a].viewportMaximum&&(c.axisX2[a].showCrosshair(d),c.axisX2[a].crosshair._updatedValue=d,this===c.axisX2[a].crosshair&&(e=!0));for(a=0;a<c.axisY.length;a++)d=c.axisY[a]._crosshairValue,c.axisY[a].crosshair&&c.axisY[a].crosshair.enabled&&null!=d&&d>=c.axisY[a].viewportMinimum&&d<=c.axisY[a].viewportMaximum&&(c.axisY[a].showCrosshair(d),c.axisY[a].crosshair._updatedValue=d,this===c.axisY[a].crosshair&&(e=!0));for(a=0;a<c.axisY2.length;a++)d=c.axisY2[a]._crosshairValue,c.axisY2[a].crosshair&&c.axisY2[a].crosshair.enabled&&null!=d&&d>=c.axisY2[a].viewportMinimum&&d<=c.axisY2[a].viewportMaximum&&(c.axisY2[a].showCrosshair(d),c.axisY2[a].crosshair._updatedValue=d,this===c.axisY2[a].crosshair&&(e=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),e},g.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},g.prototype.render=function(n,o,j){var A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,W,X,Y,l,t,u,s,w=null,v=null,a=null,e="";if(!this.valueFormatString){if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var r="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0);this.valueFormatString=c.generateValueFormatString(this.parent.range,r)}}var Z,x,y,a=null===this.opacity?1:this.opacity,r=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),p=this.chart.overlaidCanvasCtx,z=p.globalAlpha;if(p.globalAlpha=a,p.beginPath(),p.strokeStyle=this.color,p.lineWidth=r,p.save(),this.labelFontSize=Math.abs(null==this.options.labelFontSize?this.parent.labelFontSize:this.labelFontSize),x=this.options.labelMaxWidth,this.labelMaxWidth=null==x?.3*this.chart.width:this.labelMaxWidth,y=this.options.labelWrap,this.labelMaxHeight=null==y||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<r&&p.setLineDash&&p.setLineDash(V(this.lineDashType,r)),a=new m(p,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:e,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var _,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,d=0,e=[];if("xySwapped"===this.chart.plotInfo.axisPlacement){var as,at,au,av,aw,ax,ay,az,aA,aB,aC,f=null;"bottom"===this.parent._position||"top"===this.parent._position?d=this.parent.dataSeries[0].axisX.convertPixelToValue({y:o}):("left"===this.parent._position||"right"===this.parent._position)&&(d=this.parent.convertPixelToValue({y:o}));for(var h=0;h<this.parent.dataSeries.length;h++)(f=this.parent.dataSeries[h].getDataPointAtX(d,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[h],null!==f.dataPoint.y&&f.dataSeries.visible&&e.push(f));if(f=null,0===e.length)return;if(e.sort(function(a,c){return a.distance-c.distance}),f=Math.abs(n-this.parent.convertValueToPixel(e[0].dataPoint.y)),h=0,"rangeBar"===e[0].dataSeries.type||"error"===e[0].dataSeries.type)for(var f=Math.abs(n-this.parent.convertValueToPixel(e[h].dataPoint.y[0])),i=0,d=0;d<e.length;d++)if(e[d].dataPoint.y&&e[d].dataPoint.y.length)for(var g=0;g<e[d].dataPoint.y.length;g++)(i=Math.abs(n-this.parent.convertValueToPixel(e[d].dataPoint.y[g])))<f&&(f=i,h=d);else(i=Math.abs(n-this.parent.convertValueToPixel(e[d].dataPoint.y)))<f&&(f=i,h=d);else if("stackedBar"===e[0].dataSeries.type)for(var f=Math.abs(n-this.parent.convertValueToPixel(e[0].dataPoint.y)),q=i=0,d=h=0;d<e.length;d++)if(e[d].dataPoint.y&&e[d].dataPoint.y.length)for(g=0;g<e[d].dataPoint.y.length;g++)(i=Math.abs(n-this.parent.convertValueToPixel(e[d].dataPoint.y[g])))<f&&(f=i,h=d);else q+=e[d].dataPoint.y,(i=Math.abs(n-this.parent.convertValueToPixel(q)))<f&&(f=i,h=d);else if("stackedBar100"===e[0].dataSeries.type)for(var f=Math.abs(n-this.parent.convertValueToPixel(e[0].dataPoint.y)),k=q=i=0,d=0;d<e.length;d++)if(e[d].dataPoint.y&&e[d].dataPoint.y.length)for(g=0;g<e[d].dataPoint.y.length;g++)(i=Math.abs(n-this.parent.convertValueToPixel(e[d].dataPoint.y[g])))<f&&(f=i,h=d);else q+=e[d].dataPoint.y,k=e[d].dataPoint.x.getTime?e[d].dataPoint.x.getTime():e[d].dataPoint.x,k=100*(q/e[d].dataSeries.plotUnit.dataPointYSums[k]),i=Math.abs(n-this.parent.convertValueToPixel(k)),i<f&&(f=i,h=d);else for(f=Math.abs(n-this.parent.convertValueToPixel(e[0].dataPoint.y)),d=h=i=0;d<e.length;d++)if(e[d].dataPoint.y&&e[d].dataPoint.y.length)for(g=0;g<e[d].dataPoint.y.length;g++)(i=Math.abs(n-this.parent.convertValueToPixel(e[d].dataPoint.y[g])))<f&&(f=i,h=d);else(i=Math.abs(n-this.parent.convertValueToPixel(e[d].dataPoint.y)))<f&&(f=i,h=d);if(g=e[h],"bottom"===this.parent._position||"top"===this.parent._position){if(l=0,"rangeBar"===this.parent.dataSeries[h].type||"error"===this.parent.dataSeries[h].type){for(f=Math.abs(n-this.parent.convertValueToPixel(g.dataPoint.y[0])),d=i=0;d<g.dataPoint.y.length;d++)(i=Math.abs(n-this.parent.convertValueToPixel(g.dataPoint.y[d])))<f&&(f=i,l=d);w=1==p.lineWidth%2?(this.parent.convertValueToPixel(g.dataPoint.y[l])<<0)+.5:this.parent.convertValueToPixel(g.dataPoint.y[l])<<0,this.value=g.dataPoint.y[l],a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.y[l]}):null==this.options.label?ar(null==j?g.dataPoint.y[l]:j,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[h].type){for(f=Math.abs(n-this.parent.convertValueToPixel(e[0].dataPoint.y)),q=i=0,d=h;0<=d;d--)q+=e[d].dataPoint.y,(i=Math.abs(n-this.parent.convertValueToPixel(q)))<f&&(f=i,l=d);w=1==p.lineWidth%2?(this.parent.convertValueToPixel(q)<<0)+.5:this.parent.convertValueToPixel(q)<<0,this.value=q,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.y}):null==this.options.label?ar(null==j?g.dataPoint.y:j,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[h].type){for(f=Math.abs(n-this.parent.convertValueToPixel(e[0].dataPoint.y)),k=q=i=0,d=h;0<=d;d--)q+=e[d].dataPoint.y,k=e[d].dataPoint.x.getTime?e[d].dataPoint.x.getTime():e[d].dataPoint.x,k=100*(q/e[d].dataSeries.plotUnit.dataPointYSums[k]),i=Math.abs(n-this.parent.convertValueToPixel(k)),i<f&&(f=i,l=d);w=1==p.lineWidth%2?(this.parent.convertValueToPixel(k)<<0)+.5:this.parent.convertValueToPixel(k)<<0,this.value=k,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k}):null==this.options.label?ar(null==j?k:j,this.valueFormatString,this.chart._cultureInfo):this.label}else w=1==p.lineWidth%2?(this.parent.convertValueToPixel(g.dataPoint.y)<<0)+.5:this.parent.convertValueToPixel(g.dataPoint.y)<<0,this.value=g.dataPoint.y,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.y}):null==this.options.label?ar(null==j?g.dataPoint.y:j,this.valueFormatString,this.chart._cultureInfo):this.label;l=t=w,u=this.chart.plotArea.y1,s=this.chart.plotArea.y2,this.bounds={x1:l-r/2,y1:u,x2:t+r/2,y2:s},a.x=l-a.measureText().width/2,a.x+a.width>this.chart.bounds.x2?a.x=this.chart.bounds.x2-a.width:a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),a.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-a.height+this.parent.tickLength:a.fontSize/2)+2,a.y+a.height>this.chart.bounds.y2?a.y=this.chart.bounds.y2-a.height:a.y<this.chart.bounds.y1&&(a.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(u=s=v=1==p.lineWidth%2?(this.parent.convertValueToPixel(g.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(g.dataPoint.x)<<0,l=this.chart.plotArea.x1,t=this.chart.plotArea.x2,this.bounds={x1:l,y1:u-r/2,x2:t,y2:s+r/2},k=!1,this.parent.labels)for(e=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=e)if(this.parent.labels[d])k=!0;else{k=!1;break}if(k){if("axisX"===this.parent.type)for(d=this.parent.convertPixelToValue({y:o}),f=null,h=0;h<this.parent.dataSeries.length;h++)(f=this.parent.dataSeries[h].getDataPointAtX(d,!0))&&0<=f.index&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.x}):null==this.options.label?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.x}):null==this.options.label?aq(g.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.x}):null==this.options.label?ar(g.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=g.dataPoint.x,a.y=s+a.fontSize/2-a.measureText().height/2+2,a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2+2:a.y+a.measureText().height-a.fontSize/2>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.measureText().height+a.fontSize/2),"left"===this.parent._position?a.x=this.parent.lineCoordinates.x2-a.measureText().width:"right"===this.parent._position&&(a.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(h=0,d=this.parent.convertPixelToValue({x:n});h<this.parent.dataSeries.length;h++)(f=this.parent.dataSeries[h].getDataPointAtX(d,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[h],null!==f.dataPoint.y&&f.dataSeries.visible&&e.push(f));if(0===e.length)return;if(e.sort(function(a,c){return a.distance-c.distance}),g=e[0],l=t=w=1==p.lineWidth%2?(this.parent.convertValueToPixel(g.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(g.dataPoint.x)<<0,u=this.chart.plotArea.y1,s=this.chart.plotArea.y2,this.bounds={x1:l-r/2,y1:u,x2:t+r/2,y2:s},k=!1,this.parent.labels)for(e=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=e)if(this.parent.labels[d])k=!0;else{k=!1;break}if(k){if("axisX"===this.parent.type)for(d=this.parent.convertPixelToValue({x:n}),f=null,h=0;h<this.parent.dataSeries.length;h++)(f=this.parent.dataSeries[h].getDataPointAtX(d,!0))&&0<=f.index&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.x}):null==this.options.label?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.x}):null==this.options.label?aq(g.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.x}):null==this.options.label?ar(g.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=g.dataPoint.x,a.x=l-a.measureText().width/2,a.x+a.width>this.chart.bounds.x2&&(a.x=this.chart.bounds.x2-a.width),a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),"bottom"===this.parent._position?a.y=this.parent.lineCoordinates.y2+a.fontSize/2+2:"top"===this.parent._position&&(a.y=this.parent.lineCoordinates.y1-a.height+a.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(null!=this.parent.dataSeries&&0<this.parent.dataSeries.length&&(d=this.parent.dataSeries[0].axisX.convertPixelToValue({x:n})),h=0;h<this.parent.dataSeries.length;h++)(f=this.parent.dataSeries[h].getDataPointAtX(d,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[h],null!==f.dataPoint.y&&f.dataSeries.visible&&e.push(f));if(0===e.length)return;if(e.sort(function(a,c){return a.distance-c.distance}),h=0,"rangeColumn"===e[0].dataSeries.type||"rangeArea"===e[0].dataSeries.type||"error"===e[0].dataSeries.type||"rangeSplineArea"===e[0].dataSeries.type||"candlestick"===e[0].dataSeries.type||"ohlc"===e[0].dataSeries.type||"boxAndWhisker"===e[0].dataSeries.type)for(f=Math.abs(o-this.parent.convertValueToPixel(e[0].dataPoint.y[0])),d=i=0;d<e.length;d++)if(e[d].dataPoint.y&&e[d].dataPoint.y.length)for(g=0;g<e[d].dataPoint.y.length;g++)(i=Math.abs(o-this.parent.convertValueToPixel(e[d].dataPoint.y[g])))<f&&(f=i,h=d);else(i=Math.abs(o-this.parent.convertValueToPixel(e[d].dataPoint.y)))<f&&(f=i,h=d);else if("stackedColumn"===e[0].dataSeries.type||"stackedArea"===e[0].dataSeries.type)for(f=Math.abs(o-this.parent.convertValueToPixel(e[0].dataPoint.y)),d=q=i=0;d<e.length;d++)if(e[d].dataPoint.y&&e[d].dataPoint.y.length)for(g=0;g<e[d].dataPoint.y.length;g++)(i=Math.abs(o-this.parent.convertValueToPixel(e[d].dataPoint.y[g])))<f&&(f=i,h=d);else q+=e[d].dataPoint.y,(i=Math.abs(o-this.parent.convertValueToPixel(q)))<f&&(f=i,h=d);else if("stackedColumn100"===e[0].dataSeries.type||"stackedArea100"===e[0].dataSeries.type)for(f=Math.abs(o-this.parent.convertValueToPixel(e[0].dataPoint.y)),d=k=q=i=0;d<e.length;d++)if(e[d].dataPoint.y&&e[d].dataPoint.y.length)for(g=0;g<e[d].dataPoint.y.length;g++)(i=Math.abs(o-this.parent.convertValueToPixel(e[d].dataPoint.y[g])))<f&&(f=i,h=d);else q+=e[d].dataPoint.y,k=e[d].dataPoint.x.getTime?e[d].dataPoint.x.getTime():e[d].dataPoint.x,k=100*(q/e[d].dataSeries.plotUnit.dataPointYSums[k]),i=Math.abs(o-this.parent.convertValueToPixel(k)),i<f&&(f=i,h=d);else for(f=Math.abs(o-this.parent.convertValueToPixel(e[0].dataPoint.y)),d=i=0;d<e.length;d++)if(e[d].dataPoint.y&&e[d].dataPoint.y.length)for(g=0;g<e[d].dataPoint.y.length;g++)(i=Math.abs(o-this.parent.convertValueToPixel(e[d].dataPoint.y[g])))<f&&(f=i,h=d);else(i=Math.abs(o-this.parent.convertValueToPixel(e[d].dataPoint.y)))<f&&(f=i,h=d);if(g=e[h],l=0,"rangeColumn"===this.parent.dataSeries[h].type||"rangeArea"===this.parent.dataSeries[h].type||"error"===this.parent.dataSeries[h].type||"rangeSplineArea"===this.parent.dataSeries[h].type||"candlestick"===this.parent.dataSeries[h].type||"ohlc"===this.parent.dataSeries[h].type||"boxAndWhisker"===this.parent.dataSeries[h].type){for(f=Math.abs(o-this.parent.convertValueToPixel(g.dataPoint.y[0])),d=i=0;d<g.dataPoint.y.length;d++)(i=Math.abs(o-this.parent.convertValueToPixel(g.dataPoint.y[d])))<f&&(f=i,l=d);v=1==p.lineWidth%2?(this.parent.convertValueToPixel(g.dataPoint.y[l])<<0)+.5:this.parent.convertValueToPixel(g.dataPoint.y[l])<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.y[l]}):null==this.options.label?ar(null==j?g.dataPoint.y[l]:j,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=g.dataPoint.y[l]}else if("stackedColumn"===this.parent.dataSeries[h].type||"stackedArea"===this.parent.dataSeries[h].type){for(f=Math.abs(o-this.parent.convertValueToPixel(e[0].dataPoint.y)),q=i=0,d=h;0<=d;d--)q+=e[d].dataPoint.y,(i=Math.abs(o-this.parent.convertValueToPixel(q)))<f&&(f=i,l=d);v=1==p.lineWidth%2?(this.parent.convertValueToPixel(q)<<0)+.5:this.parent.convertValueToPixel(q)<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataPoint.y}):null==this.options.label?ar(null==j?g.dataPoint.y:j,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=q}else if("stackedColumn100"===this.parent.dataSeries[h].type||"stackedArea100"===this.parent.dataSeries[h].type){for(f=Math.abs(o-this.parent.convertValueToPixel(e[0].dataPoint.y)),q=i=0,d=h;0<=d;d--)q+=e[d].dataPoint.y,k=e[d].dataPoint.x.getTime?e[d].dataPoint.x.getTime():e[d].dataPoint.x,k=100*(q/e[d].dataSeries.plotUnit.dataPointYSums[k]),i=Math.abs(o-this.parent.convertValueToPixel(k)),i<f&&(f=i,l=d);v=1==p.lineWidth%2?(this.parent.convertValueToPixel(k)<<0)+.5:this.parent.convertValueToPixel(k)<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k}):null==this.options.label?ar(null==j?k:j,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=k}else"waterfall"===this.parent.dataSeries[h].type?(v=1==p.lineWidth%2?(this.parent.convertValueToPixel(g.dataSeries.dataPointEOs[g.index].cumulativeSum)<<0)+.5:this.parent.convertValueToPixel(g.dataSeries.dataPointEOs[g.index].cumulativeSum)<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:g.dataSeries.dataPointEOs[g.index].cumulativeSum}):null==this.options.label?ar(null==j?g.dataSeries.dataPointEOs[g.index].cumulativeSum:j,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=g.dataSeries.dataPointEOs[g.index].cumulativeSum):(v=1==p.lineWidth%2?(null==n?o:this.parent.convertValueToPixel(g.dataPoint.y)<<0)+.5:null==n?o:this.parent.convertValueToPixel(g.dataPoint.y)<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:null==j?g.dataPoint.y:j}):null==this.options.label?ar(null==j?g.dataPoint.y:j,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=g.dataPoint.y);u=s=v,l=this.chart.plotArea.x1,t=this.chart.plotArea.x2,this.bounds={x1:l,y1:u-r/2,x2:t,y2:s+r/2},a.y=s+a.fontSize/2-a.measureText().height/2+2,a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2+2:a.y+a.measureText().height-a.fontSize/2>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.measureText().height+a.fontSize/2),"left"===this.parent._position?a.x=this.parent.lineCoordinates.x2-a.measureText().width:"right"===this.parent._position&&(a.x=this.parent.lineCoordinates.x2)}e=null,("bottom"===this.parent._position||"top"===this.parent._position)&&("top"===this.parent._position&&a.y-a.fontSize/2<this.chart.bounds.y1&&(a.y=this.chart.bounds.y1+a.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-a.fontSize/2+a.measureText().height>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.height+a.fontSize/2+2),l>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&t<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&(0<r&&(p.moveTo(l,u),p.lineTo(t,s),p.stroke(),this._hidden=!1),p.restore())),("left"===this.parent._position||"right"===this.parent._position)&&("left"===this.parent._position&&a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),"right"===this.parent._position&&a.x+a.measureText().width>this.chart.bounds.x2&&(a.x=this.chart.bounds.x2-a.measureText().width),s>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&u<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&(0<r&&(p.moveTo(l,u),p.lineTo(t,s),p.stroke(),this._hidden=!1),p.restore()))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(l=t=w=1==p.lineWidth%2?(n<<0)+.5:n<<0,u=this.chart.plotArea.y1,s=this.chart.plotArea.y2,this.bounds={x1:l-r/2,y1:u,x2:t+r/2,y2:s}):("left"===this.parent._position||"right"===this.parent._position)&&(u=s=v=1==p.lineWidth%2?(o<<0)+.5:o<<0,l=this.chart.plotArea.x1,t=this.chart.plotArea.x2,this.bounds={x1:l,y1:u-r/2,x2:t,y2:s+r/2}),"xySwapped"===this.chart.plotInfo.axisPlacement){if("left"===this.parent._position||"right"===this.parent._position){if(k=!1,this.parent.labels)for(e=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=e)if(this.parent.labels[d])k=!0;else{k=!1;break}if(k){if("axisX"===this.parent.type)for(d=this.parent.convertPixelToValue({y:o}),f=null,h=0;h<this.parent.dataSeries.length;h++)(f=this.parent.dataSeries[h].getDataPointAtX(d,!0))&&0<=f.index&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:null==j?this.parent.convertPixelToValue(n):j}):null==this.options.label?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:null==j?this.parent.convertPixelToValue(o):j}):null==this.options.label?aq(null==j?this.parent.convertPixelToValue(o):j,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:null==j?this.parent.convertPixelToValue(o):j}):null==this.options.label?ar(null==j?this.parent.convertPixelToValue(o):j,this.valueFormatString,this.chart._cultureInfo):this.label);a.y=o+a.fontSize/2-a.measureText().height/2+2,a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2+2:a.y+a.measureText().height-a.fontSize/2>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.measureText().height+a.fontSize/2),"left"===this.parent._position?a.x=this.parent.lineCoordinates.x1-a.measureText().width:"right"===this.parent._position&&(a.x=this.parent.lineCoordinates.x2)}else("bottom"===this.parent._position||"top"===this.parent._position)&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:null==j?this.parent.convertPixelToValue(n):j}):null==this.options.label?ar(null==j?this.parent.convertPixelToValue(n):j,this.valueFormatString,this.chart._cultureInfo):this.label,a.x=l-a.measureText().width/2,a.x+a.width>this.chart.bounds.x2&&(a.x=this.chart.bounds.x2-a.width),a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),"bottom"===this.parent._position?a.y=this.parent.lineCoordinates.y2+a.fontSize/2+2:"top"===this.parent._position&&(a.y=this.parent.lineCoordinates.y1-a.height+a.fontSize/2+2))}else if("bottom"===this.parent._position||"top"===this.parent._position){if(k=!1,e="",this.parent.labels)for(e=Math.ceil(this.parent.interval),d=0;d<this.parent.viewportMaximum;d+=e)if(this.parent.labels[d])k=!0;else{k=!1;break}if(k){if("axisX"===this.parent.type)for(d=this.parent.convertPixelToValue({x:n}),f=null,h=0;h<this.parent.dataSeries.length;h++)(f=this.parent.dataSeries[h].getDataPointAtX(d,!0))&&0<=f.index&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:null==j?this.parent.convertPixelToValue(n):j}):null==this.options.label?null==j?f.dataPoint.label:j:this.label)}else"dateTime"===this.parent.valueType?a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:null==j?this.parent.convertPixelToValue(n):j}):null==this.options.label?aq(null==j?this.parent.convertPixelToValue(n):j,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:null==j?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(n):"":j}):null==this.options.label?ar(null==j?this.parent.convertPixelToValue(n):j,this.valueFormatString,this.chart._cultureInfo):this.label);a.x=l-a.measureText().width/2,a.x+a.width>this.chart.bounds.x2&&(a.x=this.chart.bounds.x2-a.width),a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),"bottom"===this.parent._position?a.y=this.parent.lineCoordinates.y2+a.fontSize/2+2:"top"===this.parent._position&&(a.y=this.parent.lineCoordinates.y1-a.height+a.fontSize/2+2)}else("left"===this.parent._position||"right"===this.parent._position)&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:null==j?this.parent.convertPixelToValue(o):j}):null==this.options.label?ar(null==j?this.parent.convertPixelToValue(o):j,this.valueFormatString,this.chart._cultureInfo):this.label,a.y=o+a.fontSize/2-a.measureText().height/2+2,a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2+2:a.y+a.measureText().height-a.fontSize/2>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.measureText().height+a.fontSize/2),"left"===this.parent._position?a.x=this.parent.lineCoordinates.x2-a.measureText().width:"right"===this.parent._position&&(a.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&a.x<this.chart.bounds.x1?a.x=this.chart.bounds.x1:"right"===this.parent._position&&a.x+a.measureText().width>this.chart.bounds.x2?a.x=this.chart.bounds.x2-a.measureText().width:"top"===this.parent._position&&a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-a.fontSize/2+a.measureText().height>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.height+a.fontSize/2+2),0<r&&(p.moveTo(l,u),p.lineTo(t,s),p.stroke(),this._hidden=!1),p.restore(),this.value="bottom"===this.parent._position||"top"===this.parent._position?this.parent.convertPixelToValue(n):this.parent.convertPixelToValue(o)}("bottom"===this.parent._position||"top"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(w)),("left"===this.parent._position||"right"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(v)),this._textBlock=a,null==j||this.renderLabel(),p.globalAlpha=z},g.prototype.renderLabel=function(){var a,c;null==this._textBlock||null==this._textBlock.text||!("number"==typeof this._textBlock.text.valueOf()||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0)},p(d,f),d.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var a=document.createElement("div");a.style.width="auto",a.style.height="auto",a.style.minWidth="50px",a.style.lineHeight="normal",a.style.margin="0px 0px 0px 0px",a.style.padding="5px",a.style.fontFamily="Calibri, Arial, Georgia, serif",a.style.fontWeight="normal",a.style.fontStyle=i?"italic":"normal",a.style.fontSize="14px",a.style.color="#000000",a.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",a.style.textAlign="left",a.style.border="2px solid gray",a.style.background=i?"rgba(255,255,255,.9)":"rgb(255,255,255)",a.style.textIndent="0px",a.style.whiteSpace="nowrap",a.style.borderRadius="5px",a.style.MozUserSelect="none",a.style.WebkitUserSelect="none",a.style.msUserSelect="none",a.style.userSelect="none",i||(a.style.filter="alpha(opacity = 90)",a.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),a.innerText="Sample Tooltip",this.container.appendChild(a),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},d.prototype.mouseMoveHandler=function(a,c){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(a,c))},d.prototype._updateToolTip=function(j,h,e){if(e=void 0===e||e,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===j|| void 0===h){if(isNaN(this._prevX)||isNaN(this._prevY))return;j=this._prevX,h=this._prevY}else this._prevX=j,this._prevY=h;var m,n,o,p,q,r,d=null,f=null,c=[],k=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var l=[];if(this.chart.axisX)for(var g=0;g<this.chart.axisX.length;g++){for(var k=this.chart.axisX[g].convertPixelToValue({y:h}),a=null,d=0;d<this.chart.axisX[g].dataSeries.length;d++)(a=this.chart.axisX[g].dataSeries[d].getDataPointAtX(k,e))&&0<=a.index&&(a.dataSeries=this.chart.axisX[g].dataSeries[d],null!==a.dataPoint.y&&l.push(a));a=null}if(this.chart.axisX2)for(g=0;g<this.chart.axisX2.length;g++){for(d=0,k=this.chart.axisX2[g].convertPixelToValue({y:h}),a=null;d<this.chart.axisX2[g].dataSeries.length;d++)(a=this.chart.axisX2[g].dataSeries[d].getDataPointAtX(k,e))&&0<=a.index&&(a.dataSeries=this.chart.axisX2[g].dataSeries[d],null!==a.dataPoint.y&&l.push(a));a=null}}else{if(l=[],this.chart.axisX)for(g=0;g<this.chart.axisX.length;g++)for(k=this.chart.axisX[g].convertPixelToValue({x:j}),a=null,d=0;d<this.chart.axisX[g].dataSeries.length;d++)(a=this.chart.axisX[g].dataSeries[d].getDataPointAtX(k,e))&&0<=a.index&&(a.dataSeries=this.chart.axisX[g].dataSeries[d],null!==a.dataPoint.y&&l.push(a));if(this.chart.axisX2)for(g=0;g<this.chart.axisX2.length;g++)for(k=this.chart.axisX2[g].convertPixelToValue({x:j}),a=null,d=0;d<this.chart.axisX2[g].dataSeries.length;d++)(a=this.chart.axisX2[g].dataSeries[d].getDataPointAtX(k,e))&&0<=a.index&&(a.dataSeries=this.chart.axisX2[g].dataSeries[d],null!==a.dataPoint.y&&l.push(a))}if(0===l.length)return;for(l.sort(function(a,c){return a.distance-c.distance}),e=l[0],d=0;d<l.length;d++)l[d].dataPoint.x.valueOf()===e.dataPoint.x.valueOf()&&c.push(l[d]);l=null}else{if(d=this.chart.getDataPointAtXY(j,h,e))this.currentDataPointIndex=d.dataPointIndex,this.currentSeriesIndex=d.dataSeries.index;else if(i){if(0<(d=X(j,h,this.chart._eventManager.ghostCtx))&& void 0!==this.chart._eventManager.objectMap[d]){if("legendItem"===(d=this.chart._eventManager.objectMap[d]).objectType)return;this.currentSeriesIndex=d.dataSeriesIndex,this.currentDataPointIndex=0<=d.dataPointIndex?d.dataPointIndex:-1}else this.currentDataPointIndex=-1}else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(f=this.chart.data[this.currentSeriesIndex],a={},0<=this.currentDataPointIndex)d=f.dataPoints[this.currentDataPointIndex],a.dataSeries=f,a.dataPoint=d,a.index=this.currentDataPointIndex,a.distance=Math.abs(d.x-k),"waterfall"===f.type&&(a.cumulativeSumYStartValue=f.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,a.cumulativeSum=f.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==f.type&&"stepLine"!==f.type&&"spline"!==f.type&&"area"!==f.type&&"stepArea"!==f.type&&"splineArea"!==f.type&&"stackedArea"!==f.type&&"stackedArea100"!==f.type&&"rangeArea"!==f.type&&"rangeSplineArea"!==f.type&&"candlestick"!==f.type&&"ohlc"!==f.type&&"boxAndWhisker"!==f.type)return;k=f.axisX.convertPixelToValue({x:j}),a=f.getDataPointAtX(k,e),m=a,null==m||(a.dataSeries=f,this.currentDataPointIndex=a.index,d=a.dataPoint)}if(null!=a&&null!=a.dataPoint&&null!=a.dataPoint.y){if(a.dataSeries.axisY){if(0<a.dataPoint.y.length){for(d=e=0;d<a.dataPoint.y.length;d++)a.dataPoint.y[d]<a.dataSeries.axisY.viewportMinimum?e--:a.dataPoint.y[d]>a.dataSeries.axisY.viewportMaximum&&e++;e<a.dataPoint.y.length&&e> -a.dataPoint.y.length&&c.push(a)}else"column"===f.type||"bar"===f.type?0>a.dataPoint.y?0>a.dataSeries.axisY.viewportMinimum&&a.dataSeries.axisY.viewportMaximum>=a.dataPoint.y&&c.push(a):a.dataSeries.axisY.viewportMinimum<=a.dataPoint.y&&0<=a.dataSeries.axisY.viewportMaximum&&c.push(a):"bubble"===f.type?(e=this.chart._eventManager.objectMap[f.dataPointIds[a.index]].size/2,a.dataPoint.y>=a.dataSeries.axisY.viewportMinimum-e&&a.dataPoint.y<=a.dataSeries.axisY.viewportMaximum+e&&c.push(a)):"waterfall"===f.type?(e=0,a.cumulativeSumYStartValue<a.dataSeries.axisY.viewportMinimum?e--:a.cumulativeSumYStartValue>a.dataSeries.axisY.viewportMaximum&&e++,a.cumulativeSum<a.dataSeries.axisY.viewportMinimum?e--:a.cumulativeSum>a.dataSeries.axisY.viewportMaximum&&e++,2>e&& -2<e&&c.push(a)):(0<=a.dataSeries.type.indexOf("100")||"stackedColumn"===f.type||"stackedBar"===f.type||a.dataPoint.y>=a.dataSeries.axisY.viewportMinimum&&a.dataPoint.y<=a.dataSeries.axisY.viewportMaximum)&&c.push(a)}else c.push(a)}}}if(0<c.length){if(this.highlightObjects(c),this.enabled){if(e="",null!==(e=this.getToolTipInnerHTML({entries:c}))){if(this.contentDiv.innerHTML=e,this.isToolTipDefinedInData&&null==this.options.content&&null==this.options.contentFormatter)for(k=this.contentDiv.getElementsByTagName("span"),d=0;d<k.length;d++)k[d]&&(k[d].style.color=k[d].getAttribute("data-color"));k=!1,"none"===this.container.style.display&&(k=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:i?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===c[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:c[0].dataPoint.color?c[0].dataPoint.color:0<c[0].dataPoint.y?c[0].dataSeries.risingColor:c[0].dataSeries.fallingColor:"error"===c[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:c[0].dataSeries.color?c[0].dataSeries.color:c[0].dataSeries._colorSet[f.index%c[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:c[0].dataPoint.color?c[0].dataPoint.color:c[0].dataSeries.color?c[0].dataSeries.color:c[0].dataSeries._colorSet[c[0].index%c[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:i?"italic":"normal"}catch(s){}"pie"===c[0].dataSeries.type||"doughnut"===c[0].dataSeries.type||"funnel"===c[0].dataSeries.type||"pyramid"===c[0].dataSeries.type||"bar"===c[0].dataSeries.type||"rangeBar"===c[0].dataSeries.type||"stackedBar"===c[0].dataSeries.type||"stackedBar100"===c[0].dataSeries.type?j=j-10-this.container.clientWidth:(j=c[0].dataSeries.axisX.convertValueToPixel(c[0].dataPoint.x)-this.container.clientWidth<<0,j-=10),0>j&&(j+=this.container.clientWidth+20),j+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(j=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(h=-(h=1!==c.length||this.shared||"line"!==c[0].dataSeries.type&&"stepLine"!==c[0].dataSeries.type&&"spline"!==c[0].dataSeries.type&&"area"!==c[0].dataSeries.type&&"stepArea"!==c[0].dataSeries.type&&"splineArea"!==c[0].dataSeries.type?"bar"===c[0].dataSeries.type||"rangeBar"===c[0].dataSeries.type||"stackedBar"===c[0].dataSeries.type||"stackedBar100"===c[0].dataSeries.type?c[0].dataSeries.axisX.convertValueToPixel(c[0].dataPoint.x):h:c[0].dataSeries.axisY.convertValueToPixel(c[0].dataPoint.y))+10)+this.container.clientHeight+5&&(h-=h+this.container.clientHeight+5-0),this.fixMozTransitionDelay(j,h),!this.animationEnabled||k?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=j,this.positionBottom=h,this.container.style.left=j+"px",this.container.style.bottom=h+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(d=0,h=[];d<c.length;d++)h.push({xValue:c[d].dataPoint.x,dataPoint:c[d].dataPoint,dataSeries:c[d].dataSeries,dataPointIndex:c[d].index,dataSeriesIndex:c[d].dataSeries._index});h={chart:this.chart,toolTip:this.options,content:e,entries:h},this._entries=c,this.dispatchEvent("updated",h,this)}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)}},d.prototype.highlightObjects=function(h){var i,c=this.chart.overlaidCanvasCtx;(null==this.chart.clearedOverlayedCanvas||"toolTip"===this.chart.clearedOverlayedCanvas)&&(this.chart.resetOverlayedCanvas(),c.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"),c.save();var f=this.chart.plotArea,d=0;for(c.beginPath(),c.rect(f.x1,f.y1,f.x2-f.x1,f.y2-f.y1),c.clip(),f=0;f<h.length;f++){var a=h[f];if((a=this.chart._eventManager.objectMap[a.dataSeries.dataPointIds[a.index]])&&a.objectType&&"dataPoint"===a.objectType){var d=this.chart.data[a.dataSeriesIndex],e=d.dataPoints[a.dataPointIndex],g=a.dataPointIndex;!1===e.highlightEnabled|| !0!==d.highlightEnabled&& !0!==e.highlightEnabled||("line"===d.type||"stepLine"===d.type||"spline"===d.type||"scatter"===d.type||"area"===d.type||"stepArea"===d.type||"splineArea"===d.type||"stackedArea"===d.type||"stackedArea100"===d.type||"rangeArea"===d.type||"rangeSplineArea"===d.type?((e=d.getMarkerProperties(g,a.x1,a.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*e.size<<0,10),e.borderColor=e.borderColor||"#FFFFFF",e.borderThickness=e.borderThickness||Math.ceil(.1*e.size),F.drawMarkers([e]),void 0!==a.y2&&((e=d.getMarkerProperties(g,a.x1,a.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*e.size<<0,10),e.borderColor=e.borderColor||"#FFFFFF",e.borderThickness=e.borderThickness||Math.ceil(.1*e.size),F.drawMarkers([e]))):"bubble"===d.type?((e=d.getMarkerProperties(g,a.x1,a.y1,this.chart.overlaidCanvasCtx)).size=a.size,e.color="white",e.borderColor="white",c.globalAlpha=.3,F.drawMarkers([e]),c.globalAlpha=1):"column"===d.type||"stackedColumn"===d.type||"stackedColumn100"===d.type||"bar"===d.type||"rangeBar"===d.type||"stackedBar"===d.type||"stackedBar100"===d.type||"rangeColumn"===d.type||"waterfall"===d.type?au(c,a.x1,a.y1,a.x2,a.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===d.type||"doughnut"===d.type?C(c,a.center,a.radius,"white",d.type,a.startAngle,a.endAngle,.3,a.percentInnerRadius):"funnel"===d.type||"pyramid"===d.type?D(c,a.funnelSection,.3,"white"):"candlestick"===d.type?(c.globalAlpha=1,c.strokeStyle=a.color,c.lineWidth=2*a.borderThickness,d=0==c.lineWidth%2?0:.5,c.beginPath(),c.moveTo(a.x3-d,Math.min(a.y2,a.y3)),c.lineTo(a.x3-d,Math.min(a.y1,a.y4)),c.stroke(),c.beginPath(),c.moveTo(a.x3-d,Math.max(a.y1,a.y4)),c.lineTo(a.x3-d,Math.max(a.y2,a.y3)),c.stroke(),au(c,a.x1,Math.min(a.y1,a.y4),a.x2,Math.max(a.y1,a.y4),"transparent",2*a.borderThickness,a.color,!1,!1,!1,!1),c.globalAlpha=1):"ohlc"===d.type?(c.globalAlpha=1,c.strokeStyle=a.color,c.lineWidth=2*a.borderThickness,d=0==c.lineWidth%2?0:.5,c.beginPath(),c.moveTo(a.x3-d,a.y2),c.lineTo(a.x3-d,a.y3),c.stroke(),c.beginPath(),c.moveTo(a.x3,a.y1),c.lineTo(a.x1,a.y1),c.stroke(),c.beginPath(),c.moveTo(a.x3,a.y4),c.lineTo(a.x2,a.y4),c.stroke(),c.globalAlpha=1):"boxAndWhisker"===d.type?(c.save(),c.globalAlpha=1,c.strokeStyle=a.stemColor,c.lineWidth=2*a.stemThickness,0<a.stemThickness&&(c.beginPath(),c.moveTo(a.x3,a.y2+a.borderThickness/2),c.lineTo(a.x3,a.y1+a.whiskerThickness/2),c.stroke(),c.beginPath(),c.moveTo(a.x3,a.y4-a.whiskerThickness/2),c.lineTo(a.x3,a.y3-a.borderThickness/2),c.stroke()),c.beginPath(),au(c,a.x1-a.borderThickness/2,Math.max(a.y2+a.borderThickness/2,a.y3+a.borderThickness/2),a.x2+a.borderThickness/2,Math.min(a.y2-a.borderThickness/2,a.y3-a.borderThickness/2),"transparent",a.borderThickness,a.color,!1,!1,!1,!1),c.globalAlpha=1,c.strokeStyle=a.whiskerColor,c.lineWidth=2*a.whiskerThickness,0<a.whiskerThickness&&(c.beginPath(),c.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y4),c.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y4),c.stroke(),c.beginPath(),c.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y1),c.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y1),c.stroke()),c.globalAlpha=1,c.strokeStyle=a.lineColor,c.lineWidth=2*a.lineThickness,0<a.lineThickness&&(c.beginPath(),c.moveTo(a.x1,a.y5),c.lineTo(a.x2,a.y5),c.stroke()),c.restore(),c.globalAlpha=1):"error"===d.type&&B(c,a.x1,a.y1,a.x2,a.y2,"white",a.whiskerProperties,a.stemProperties,a.isXYSwapped,.3))}}c.restore(),c.globalAlpha=1,c.beginPath()},d.prototype.getToolTipInnerHTML=function(e){e=e.entries;var f=null,a=null,c=null,h=0,d="";this.isToolTipDefinedInData=!0;for(var g=0;g<e.length;g++)if(e[g].dataSeries.toolTipContent||e[g].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&"function"==typeof this.content||this.contentFormatter))e={chart:this.chart,toolTip:this.options,entries:e},f=this.contentFormatter?this.contentFormatter(e):this.content(e);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){for(var i=null,j="",g=0;g<e.length;g++)a=e[g].dataSeries,c=e[g].dataPoint,h=e[g].index,d="",0===g&&this.isToolTipDefinedInData&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?j+=void 0!==this.chart.axisX[0].labels[c.x]?this.chart.axisX[0].labels[c.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(j+=void 0!==this.chart.axisX2[0].labels[c.x]?this.chart.axisX2[0].labels[c.x]:"{x}"),j+="</br>",j=this.chart.replaceKeywordsWithValue(j,c,a,h)),null===c.toolTipContent|| void 0===c.toolTipContent&&null===a.options.toolTipContent||("line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"column"===a.type||"bar"===a.type||"scatter"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"waterfall"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(d+=i!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),d+=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",i=a.axisXIndex):"bubble"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(d+=i!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),d+=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(d+=i!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),d+=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===a.type||"ohlc"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(d+=i!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),d+=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===a.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(d+=i!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),d+=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===f&&(f=""),!0===this.reversed?(f=this.chart.replaceKeywordsWithValue(d,c,a,h)+f,g<e.length-1&&(f="</br>"+f)):(f+=this.chart.replaceKeywordsWithValue(d,c,a,h),g<e.length-1&&(f+="</br>")));null!==f&&(f=j+f)}else{if(a=e[0].dataSeries,c=e[0].dataPoint,h=e[0].index,null===c.toolTipContent|| void 0===c.toolTipContent&&null===a.options.toolTipContent)return null;"line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"column"===a.type||"bar"===a.type||"scatter"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"waterfall"===a.type?d=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(c.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===a.type?d=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(c.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===a.type||"doughnut"===a.type||"funnel"===a.type||"pyramid"===a.type?d=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(c.name?"{name}:</span>&nbsp;&nbsp;":c.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type?d=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(c.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===a.type||"ohlc"===a.type?d=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(c.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===a.type&&(d=c.toolTipContent?c.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(c.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===f&&(f=""),f+=this.chart.replaceKeywordsWithValue(d,c,a,h)}return f},d.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var a=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=a,this.container.style.MsTransition=a,this.container.style.transition=a,this.container.style.MozTransition=this.mozContainerTransition}},d.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},d.prototype.hide=function(a){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===a||a)&&this.chart.resetOverlayedCanvas())},d.prototype.show=function(c,d,a){this._updateToolTip(c,d,void 0!==a&&a)},d.prototype.showAtIndex=function(a,c){},d.prototype.showAtX=function(h,f){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null;var j,k,l,m,e,c,g,n,a=[];if(g=!1,f=null!=f&&0<=f&&f<this.chart.data.length?f:0,this.shared)for(var d=0;d<this.chart.data.length;d++)(c=(e=this.chart.data[d]).getDataPointAtX(h,!1))&&c.dataPoint&&null!=c.dataPoint.y&&e.visible&&(c.dataSeries=e,a.push(c));else(c=(e=this.chart.data[f]).getDataPointAtX(h,!1))&&c.dataPoint&&null!=c.dataPoint.y&&e.visible&&(c.dataSeries=e,a.push(c));if(!(0<a.length))return this.hide(),!1;for(d=0;d<a.length;d++)if((c=a[d]).dataPoint.x<c.dataSeries.axisX.viewportMinimum||c.dataPoint.x>c.dataSeries.axisX.viewportMaximum||c.dataPoint.y<c.dataSeries.axisY.viewportMinimum||c.dataPoint.y>c.dataSeries.axisY.viewportMaximum)g=!0;else{g=!1;break}if(g)return this.hide(),!1;if(this.highlightObjects(a),this._entries=a,d="",null===(d=this.getToolTipInnerHTML({entries:a})))return this.hide(!1),!1;if(this.contentDiv.innerHTML=d,this.isToolTipDefinedInData&&null==this.options.content&&null==this.options.contentFormatter)for(c=this.contentDiv.getElementsByTagName("span"),d=0;d<c.length;d++)c[d]&&(c[d].style.color=c[d].getAttribute("data-color"));d=!1,"none"===this.container.style.display&&(d=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:i?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===a[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:0<a[0].dataPoint.y?a[0].dataSeries.risingColor:a[0].dataSeries.fallingColor:"error"===a[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[e.index%a[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[a[0].index%a[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:i?"italic":"normal"}catch(o){}return"pie"===a[0].dataSeries.type||"doughnut"===a[0].dataSeries.type||"funnel"===a[0].dataSeries.type||"pyramid"===a[0].dataSeries.type?e=mouseX-10-this.container.clientWidth:(e="bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y)-this.container.clientWidth<<0:a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x)-this.container.clientWidth<<0,e-=10),0>e&&(e+=this.container.clientWidth+20),e+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(e=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(a=-(a=(1!==a.length||this.shared||"line"!==a[0].dataSeries.type&&"stepLine"!==a[0].dataSeries.type&&"spline"!==a[0].dataSeries.type&&"area"!==a[0].dataSeries.type&&"stepArea"!==a[0].dataSeries.type&&"splineArea"!==a[0].dataSeries.type)&&("bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type)?a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x):a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y))+10)+this.container.clientHeight+5&&(a-=a+this.container.clientHeight+5-0),this.fixMozTransitionDelay(e,a),!this.animationEnabled||d?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=e+"px",this.container.style.bottom=a+"px",!0},d.prototype.fixMozTransitionDelay=function(d,e){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var a=parseFloat(this.container.style.left),a=isNaN(a)?0:a,c=parseFloat(this.container.style.bottom),c=isNaN(c)?0:c;10<Math.sqrt(Math.pow(a-d,2)+Math.pow(c-e,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},d.prototype.getContainerTransition=function(a){return"left "+a+"s ease-out 0s, bottom "+a+"s ease-out 0s"},h.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],i&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},h.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},h.prototype.mouseEventHandler=function(f){if("mousemove"===f.type||"click"===f.type){var e=[],c=as(f),a=null;if((a=this.chart.getObjectAtXY(c.x,c.y,!1))&& void 0!==this.objectMap[a]){if("dataPoint"===(a=this.objectMap[a]).objectType){var d=this.chart.data[a.dataSeriesIndex],g=d.dataPoints[a.dataPointIndex],h=a.dataPointIndex;a.eventParameter={x:c.x,y:c.y,dataPoint:g,dataSeries:d.options,dataPointIndex:h,dataSeriesIndex:d.index,chart:this.chart},a.eventContext={context:g,userContext:g,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(a),(a=this.objectMap[d.id]).eventParameter={x:c.x,y:c.y,dataPoint:g,dataSeries:d.options,dataPointIndex:h,dataSeriesIndex:d.index,chart:this.chart},a.eventContext={context:d,userContext:d.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(this.objectMap[d.id])}else"legendItem"===a.objectType&&(d=this.chart.data[a.dataSeriesIndex],g=null!==a.dataPointIndex?d.dataPoints[a.dataPointIndex]:null,a.eventParameter={x:c.x,y:c.y,dataSeries:d.options,dataPoint:g,dataPointIndex:a.dataPointIndex,dataSeriesIndex:a.dataSeriesIndex,chart:this.chart},a.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},e.push(a))}for(c=0,d=[];c<this.mouseoveredObjectMaps.length;c++){for(a=0,g=!0;a<e.length;a++)if(e[a].id===this.mouseoveredObjectMaps[c].id){g=!1;break}g?this.fireEvent(this.mouseoveredObjectMaps[c],"mouseout",f):d.push(this.mouseoveredObjectMaps[c])}for(c=0,this.mouseoveredObjectMaps=d;c<e.length;c++){for(a=0,d=!1;a<this.mouseoveredObjectMaps.length;a++)if(e[c].id===this.mouseoveredObjectMaps[a].id){d=!0;break}d||(this.fireEvent(e[c],"mouseover",f),this.mouseoveredObjectMaps.push(e[c])),"click"===f.type?this.fireEvent(e[c],"click",f):"mousemove"===f.type&&this.fireEvent(e[c],"mousemove",f)}}},h.prototype.fireEvent=function(a,d,e){if(a&&d){var f=a.eventParameter,g=a.eventContext,c=a.eventContext.userContext;c&&g&&c[g[d]]&&c[g[d]].call(c,f),"mouseout"!==d?c.cursor&&c.cursor!==e.target.style.cursor&&(e.target.style.cursor=c.cursor):(e.target.style.cursor=this.chart._defaultCursor,delete a.eventParameter,delete a.eventContext),"click"===d&&"dataPoint"===a.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[a.dataSeriesIndex],f),"click"===d&&"dataPoint"===a.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[a.dataSeriesIndex],f)}},t.prototype.animate=function(e,c,d,a,f){var g=this;for(this.chart.isAnimating=!0,f=f||E.easing.linear,d&&this.animations.push({startTime:(new Date).getTime()+(e||0),duration:c,animationCallback:d,onComplete:a}),e=[];0<this.animations.length;)c=this.animations.shift(),d=(new Date).getTime(),a=0,c.startTime<=d&&(a=f(Math.min(d-c.startTime,c.duration),0,1,c.duration),a=Math.min(a,1),isNaN(a)||!isFinite(a))&&(a=1),1>a&&e.push(c),c.animationCallback(a),1<=a&&c.onComplete&&c.onComplete();this.animations=e,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){g.animate.call(g)}):this.chart.isAnimating=!1},t.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var E={yScaleAnimation:function(a,c){if(0!==a){var d=c.dest,e=c.source.canvas,f=c.animationBase;d.drawImage(e,0,0,e.width,e.height,0,f-f*a,d.canvas.width/at,a*d.canvas.height/at)}},xScaleAnimation:function(a,c){if(0!==a){var d=c.dest,e=c.source.canvas,f=c.animationBase;d.drawImage(e,0,0,e.width,e.height,f-f*a,0,a*d.canvas.width/at,d.canvas.height/at)}},xClipAnimation:function(c,e){if(0!==c){var d=e.dest,a=e.source.canvas;d.save(),0<c&&d.drawImage(a,0,0,a.width*c,a.height,0,0,a.width*c/at,a.height/at),d.restore()}},fadeInAnimation:function(d,e){if(0!==d){var a=e.dest,c=e.source.canvas;a.save(),a.globalAlpha=d,a.drawImage(c,0,0,c.width,c.height,0,0,a.canvas.width/at,a.canvas.height/at),a.restore()}},easing:{linear:function(a,c,d,e){return d*a/e+c},easeOutQuad:function(a,c,d,e){return-d*(a/=e)*(a-2)+c},easeOutQuart:function(a,c,d,e){return-d*((a=a/e-1)*a*a*a-1)+c},easeInQuad:function(a,c,d,e){return d*(a/=e)*a+c},easeInQuart:function(a,c,d,e){return d*(a/=e)*a*a*a+c}}},F={drawMarker:function(d,e,a,i,c,g,j,h){if(a){var f=1;a.fillStyle=g||"#000000",a.strokeStyle=j||"#000000",a.lineWidth=h||0,a.setLineDash&&a.setLineDash(V("solid",h)),"circle"===i?(a.moveTo(d,e),a.beginPath(),a.arc(d,e,c/2,0,2*Math.PI,!1),g&&a.fill(),h&&(j?a.stroke():(f=a.globalAlpha,a.globalAlpha=.15,a.strokeStyle="black",a.stroke(),a.globalAlpha=f))):"square"===i?(a.beginPath(),a.rect(d-c/2,e-c/2,c,c),g&&a.fill(),h&&(j?a.stroke():(f=a.globalAlpha,a.globalAlpha=.15,a.strokeStyle="black",a.stroke(),a.globalAlpha=f))):"triangle"===i?(a.beginPath(),a.moveTo(d-c/2,e+c/2),a.lineTo(d+c/2,e+c/2),a.lineTo(d,e-c/2),a.closePath(),g&&a.fill(),h&&(j?a.stroke():(f=a.globalAlpha,a.globalAlpha=.15,a.strokeStyle="black",a.stroke(),a.globalAlpha=f)),a.beginPath()):"cross"===i&&(a.strokeStyle=g,a.lineWidth=c/4,a.beginPath(),a.moveTo(d-c/2,e-c/2),a.lineTo(d+c/2,e+c/2),a.stroke(),a.moveTo(d+c/2,e-c/2),a.lineTo(d-c/2,e+c/2),a.stroke())}},drawMarkers:function(d){for(var c=0;c<d.length;c++){var a=d[c];F.drawMarker(a.x,a.y,a.ctx,a.type,a.size,a.color,a.borderColor,a.borderThickness)}}};return a}()).version="v3.6.7 GA",window.CanvasJS&&a&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=a)}(),document.createElement("canvas").getContext||function(){function m(){return this.context_||(this.context_=new e(this))}function n(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function i(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),a.styleSheets.ex_canvas_||((a=a.createStyleSheet()).owningElement.id="ex_canvas_",a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function o(c){var a=c.srcElement;switch(c.propertyName){case"width":a.getContext().clearRect(),a.style.width=a.attributes.width.nodeValue+"px",a.firstChild.style.width=a.clientWidth+"px";break;case"height":a.getContext().clearRect(),a.style.height=a.attributes.height.nodeValue+"px",a.firstChild.style.height=a.clientHeight+"px"}}function p(a){(a=a.srcElement).firstChild&&(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function q(){return[[1,0,0],[0,1,0],[0,0,1]]}function r(g,h){for(var e=q(),a=0;3>a;a++)for(var c=0;3>c;c++){for(var f=0,d=0;3>d;d++)f+=g[a][d]*h[d][c];e[a][c]=f}return e}function s(a,c){c.fillStyle=a.fillStyle,c.lineCap=a.lineCap,c.lineJoin=a.lineJoin,c.lineWidth=a.lineWidth,c.miterLimit=a.miterLimit,c.shadowBlur=a.shadowBlur,c.shadowColor=a.shadowColor,c.shadowOffsetX=a.shadowOffsetX,c.shadowOffsetY=a.shadowOffsetY,c.strokeStyle=a.strokeStyle,c.globalAlpha=a.globalAlpha,c.font=a.font,c.textAlign=a.textAlign,c.textBaseline=a.textBaseline,c.arcScaleX_=a.arcScaleX_,c.arcScaleY_=a.arcScaleY_,c.lineScale_=a.lineScale_}function t(c){var a=c.indexOf("(",3),d=c.indexOf(")",a+1),a=c.substring(a+1,d).split(",");return(4!=a.length||"a"!=c.charAt(3))&&(a[3]=1),a}function u(a,c,d){return Math.min(d,Math.max(c,a))}function v(c,d,a){return 0>a&&a++,1<a&&a--,1>6*a?c+6*(d-c)*a:1>2*a?d:2>3*a?c+6*(d-c)*(2/3-a):c}function w(d){if(d in K)return K[d];var c,e=1;if("#"==(d=String(d)).charAt(0))c=d;else if(/^rgb/.test(d)){e=t(d),c="#";for(var f,a=0;3>a;a++)f=-1!=e[a].indexOf("%")?Math.floor(255*(parseFloat(e[a])/100)):+e[a],c+=l[u(f,0,255)];e=+e[3]}else if(/^hsl/.test(d)){if(0>(c=parseFloat((a=e=t(d))[0])/360%360)&&c++,f=u(parseFloat(a[1])/100,0,1),a=u(parseFloat(a[2])/100,0,1),0==f)f=a=c=a;else{var g=.5>a?a*(1+f):a+f-a*f,h=2*a-g;f=v(h,g,c+1/3),a=v(h,g,c),c=v(h,g,c-1/3)}c="#"+l[Math.floor(255*f)]+l[Math.floor(255*a)]+l[Math.floor(255*c)],e=e[3]}else c=J[d]||d;return K[d]={color:c,alpha:e}}function e(a){this.m_=q(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*k,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=a;var c="width:"+a.clientWidth+"px;height:"+a.clientHeight+"px;overflow:hidden;position:absolute",d=a.ownerDocument.createElement("div");d.style.cssText=c,a.appendChild(d),(c=d.cloneNode(!1)).style.backgroundColor="red",c.style.filter="alpha(opacity=0)",a.appendChild(c),this.element_=d,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function x(c,d,e,a){c.currentPath_.push({type:"bezierCurveTo",cp1x:d.x,cp1y:d.y,cp2x:e.x,cp2y:e.y,x:a.x,y:a.y}),c.currentX_=a.x,c.currentY_=a.y}function y(a,e){var c=w(a.strokeStyle),f=c.color,c=c.alpha*a.globalAlpha,d=a.lineScale_*a.lineWidth;1>d&&(c*=d),e.push("<g_vml_:stroke",' opacity="',c,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',$[a.lineCap]||"square",'"',' weight="',d,'px"',' color="',f,'" />')}function z(d,q,h,o){var a=d.fillStyle,e=d.arcScaleX_,i=d.arcScaleY_,m=o.x-h.x,l=o.y-h.y;if(a instanceof f){var g=0,t=o=0,r=0,p=1;if("gradient"==a.type_){g=a.x1_/e,h=a.y1_/i;var n=A(d,a.x0_/e,a.y0_/i),g=A(d,g,h),g=180*Math.atan2(g.x-n.x,g.y-n.y)/Math.PI;0>g&&(g+=360),1e-6>g&&(g=0)}else o=((n=A(d,a.x0_,a.y0_)).x-h.x)/m,t=(n.y-h.y)/l,m/=e*k,l/=i*k,p=c.max(m,l),r=2*a.r0_/p,p=2*a.r1_/p-r;(e=a.colors_).sort(function(a,c){return a.offset-c.offset}),i=e.length,n=e[0].color,h=e[i-1].color,m=e[0].alpha*d.globalAlpha,d=e[i-1].alpha*d.globalAlpha;for(var l=[],s=0;s<i;s++){var u=e[s];l.push(u.offset*p+r+" "+u.color)}q.push('<g_vml_:fill type="',a.type_,'"',' method="none" focus="100%"',' color="',n,'"',' color2="',h,'"',' colors="',l.join(","),'"',' opacity="',d,'"',' g_o_:opacity2="',m,'"',' angle="',g,'"',' focusposition="',o,",",t,'" />')}else a instanceof j?m&&l&&q.push("<g_vml_:fill",' position="',-h.x/m*e*e,",",-h.y/l*i*i,'"',' type="tile"',' src="',a.src_,'" />'):(a=w(d.fillStyle),q.push('<g_vml_:fill color="',a.color,'" opacity="',a.alpha*d.globalAlpha,'" />'))}function A(a,c,d){return{x:k*(c*(a=a.m_)[0][0]+d*a[1][0]+a[2][0])-H,y:k*(c*a[0][1]+d*a[1][1]+a[2][1])-H}}function B(c,a,d){isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])&&(c.m_=a,d&&(c.lineScale_=G(F(a[0][0]*a[1][1]-a[0][1]*a[1][0]))))}function f(a){this.type_=a,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function j(a,c){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new g("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new g("INVALID_STATE_ERR");switch(c){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=c;break;default:throw new g("SYNTAX_ERR")}this.src_=a.src,this.width_=a.width,this.height_=a.height}function g(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var c=Math,C=c.round,D=c.sin,E=c.cos,F=c.abs,G=c.sqrt,k=10,H=k/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var I=Array.prototype.slice;i(document);var h={init:function(a){(a=a||document).createElement("canvas"),a.attachEvent("onreadystatechange",function(a,c,d){var e=I.call(arguments,2);return function(){return a.apply(c,e.concat(I.call(arguments)))}}(this.init_,this,a))},init_:function(a){a=a.getElementsByTagName("canvas");for(var c=0;c<a.length;c++)this.initElement(a[c])},initElement:function(a){if(!a.getContext){a.getContext=m,i(a.ownerDocument),a.innerHTML="",a.attachEvent("onpropertychange",o),a.attachEvent("onresize",p);var c=a.attributes;c.width&&c.width.specified?a.style.width=c.width.nodeValue+"px":a.width=a.clientWidth,c.height&&c.height.specified?a.style.height=c.height.nodeValue+"px":a.height=a.clientHeight}return a}};h.init();for(var l=[],a=0;16>a;a++)for(var d=0;16>d;d++)l[16*a+d]=a.toString(16)+d.toString(16);var J={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},K={},L={},$={butt:"flat",round:"round"},a=e.prototype;a.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},a.beginPath=function(){this.currentPath_=[]},a.moveTo=function(c,d){var a=A(this,c,d);this.currentPath_.push({type:"moveTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},a.lineTo=function(c,d){var a=A(this,c,d);this.currentPath_.push({type:"lineTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},a.bezierCurveTo=function(a,e,c,f,d,g){d=A(this,d,g),a=A(this,a,e),c=A(this,c,f),x(this,a,c,d)},a.quadraticCurveTo=function(d,e,a,c){d=A(this,d,e),a=A(this,a,c),c={x:this.currentX_+2/3*(d.x-this.currentX_),y:this.currentY_+2/3*(d.y-this.currentY_)},x(this,c,{x:c.x+(a.x-this.currentX_)/3,y:c.y+(a.y-this.currentY_)/3},a)},a.arc=function(c,g,d,a,f,h){d*=k;var e=c+E(a)*d-H,i=g+D(a)*d-H;a=c+E(f)*d-H,f=g+D(f)*d-H,e!=a||h||(e+=.125),c=A(this,c,g),e=A(this,e,i),a=A(this,a,f),this.currentPath_.push({type:h?"at":"wa",x:c.x,y:c.y,radius:d,xStart:e.x,yStart:e.y,xEnd:a.x,yEnd:a.y})},a.rect=function(a,c,d,e){this.moveTo(a,c),this.lineTo(a+d,c),this.lineTo(a+d,c+e),this.lineTo(a,c+e),this.closePath()},a.strokeRect=function(a,c,d,e){var f=this.currentPath_;this.beginPath(),this.moveTo(a,c),this.lineTo(a+d,c),this.lineTo(a+d,c+e),this.lineTo(a,c+e),this.closePath(),this.stroke(),this.currentPath_=f},a.fillRect=function(a,c,d,e){var f=this.currentPath_;this.beginPath(),this.moveTo(a,c),this.lineTo(a+d,c),this.lineTo(a+d,c+e),this.lineTo(a,c+e),this.closePath(),this.fill(),this.currentPath_=f},a.createLinearGradient=function(c,d,e,g){var a=new f("gradient");return a.x0_=c,a.y0_=d,a.x1_=e,a.y1_=g,a},a.createRadialGradient=function(c,d,e,g,h,i){var a=new f("gradientradial");return a.x0_=c,a.y0_=d,a.r0_=e,a.x1_=g,a.y1_=h,a.r1_=i,a},a.drawImage=function(e,t){g=e.runtimeStyle.width,h=e.runtimeStyle.height,e.runtimeStyle.width="auto",e.runtimeStyle.height="auto";var a,f,g,h,i,j,o,p,l=e.width,m=e.height;if(e.runtimeStyle.width=g,e.runtimeStyle.height=h,3==arguments.length)a=arguments[1],f=arguments[2],i=j=0,o=g=l,p=h=m;else if(5==arguments.length)a=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4],i=j=0,o=l,p=m;else if(9==arguments.length)i=arguments[1],j=arguments[2],o=arguments[3],p=arguments[4],a=arguments[5],f=arguments[6],g=arguments[7],h=arguments[8];else throw Error("Invalid number of arguments");var d=A(this,a,f),n=[];if(n.push(" <g_vml_:group",' coordsize="',10*k,",",10*k,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var q=[];q.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",C(d.x/k),",","Dy=",C(d.y/k),"");var r=A(this,a+g,f),s=A(this,a,f+h);a=A(this,a+g,f+h),d.x=c.max(d.x,r.x,s.x,a.x),d.y=c.max(d.y,r.y,s.y,a.y),n.push("padding:0 ",C(d.x/k),"px ",C(d.y/k),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",q.join(""),", sizingmethod='clip');")}else n.push("top:",C(d.y/k),"px;left:",C(d.x/k),"px;");n.push(' ">','<g_vml_:image src="',e.src,'"',' style="width:',k*g,"px;"," height:",k*h,'px"',' cropleft="',i/l,'"',' croptop="',j/m,'"',' cropright="',(l-i-o)/l,'"',' cropbottom="',(m-j-p)/m,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",n.join(""))},a.stroke=function(f){var c=[];c.push("<g_vml_:shape",' filled="',!!f,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*k,",",10*k,'"',' stroked="',!f,'"',' path="');for(var d={x:null,y:null},e={x:null,y:null},g=0;g<this.currentPath_.length;g++){var a=this.currentPath_[g];switch(a.type){case"moveTo":c.push(" m ",C(a.x),",",C(a.y));break;case"lineTo":c.push(" l ",C(a.x),",",C(a.y));break;case"close":c.push(" x "),a=null;break;case"bezierCurveTo":c.push(" c ",C(a.cp1x),",",C(a.cp1y),",",C(a.cp2x),",",C(a.cp2y),",",C(a.x),",",C(a.y));break;case"at":case"wa":c.push(" ",a.type," ",C(a.x-this.arcScaleX_*a.radius),",",C(a.y-this.arcScaleY_*a.radius)," ",C(a.x+this.arcScaleX_*a.radius),",",C(a.y+this.arcScaleY_*a.radius)," ",C(a.xStart),",",C(a.yStart)," ",C(a.xEnd),",",C(a.yEnd))}a&&((null==d.x||a.x<d.x)&&(d.x=a.x),(null==e.x||a.x>e.x)&&(e.x=a.x),(null==d.y||a.y<d.y)&&(d.y=a.y),(null==e.y||a.y>e.y)&&(e.y=a.y))}c.push(' ">'),f?z(this,c,d,e):y(this,c),c.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},a.fill=function(){this.stroke(!0)},a.closePath=function(){this.currentPath_.push({type:"close"})},a.save=function(){var a={};s(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=r(q(),this.m_)},a.restore=function(){this.aStack_.length&&(s(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},a.translate=function(a,c){B(this,r([[1,0,0],[0,1,0],[a,c,1]],this.m_),!1)},a.rotate=function(a){var c=E(a);a=D(a),B(this,r([[c,a,0],[-a,c,0],[0,0,1]],this.m_),!1)},a.scale=function(a,c){this.arcScaleX_*=a,this.arcScaleY_*=c,B(this,r([[a,0,0],[0,c,0],[0,0,1]],this.m_),!0)},a.transform=function(a,c,d,e,f,g){B(this,r([[a,c,0],[d,e,0],[f,g,1]],this.m_),!0)},a.setTransform=function(a,c,d,e,f,g){B(this,[[a,c,0],[d,e,0],[f,g,1]],!0)},a.drawText_=function(o,f,p,g,h){var j=this.m_;g=0;var a,l=1e3,m=0,i=[];if(L[a=this.font])a=L[a];else{var c=document.createElement("div").style;try{c.font=a}catch(q){}a=L[a]={style:c.fontStyle||"normal",variant:c.fontVariant||"normal",weight:c.fontWeight||"normal",size:c.fontSize||10,family:c.fontFamily||"sans-serif"}}var c=a,d=this.element_;for(var e in a={},c)a[e]=c[e];switch(e=parseFloat(d.currentStyle.fontSize),d=parseFloat(c.size),"number"==typeof c.size?a.size=c.size:-1!=c.size.indexOf("px")?a.size=d:-1!=c.size.indexOf("em")?a.size=e*d:-1!=c.size.indexOf("%")?a.size=e/100*d:-1!=c.size.indexOf("pt")?a.size=d/.75:a.size=e,a.size*=.981,e=a.style+" "+a.variant+" "+a.weight+" "+a.size+"px "+a.family,d=this.element_.currentStyle,c=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":c="ltr"==d.direction?"right":"left";break;case"start":c="rtl"==d.direction?"right":"left";break;default:c="left"}switch(this.textBaseline){case"hanging":case"top":m=a.size/1.75;break;case"middle":break;default:m=-a.size/2.25}switch(c){case"right":g=1e3,l=.05;break;case"center":g=l=500}f=A(this,f+0,p+m),i.push('<g_vml_:line from="',-g,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!h,'" stroked="',!!h,'" style="position:absolute;width:1px;height:1px;">'),h?y(this,i):z(this,i,{x:-g,y:0},{x:l,y:a.size}),h=j[0][0].toFixed(3)+","+j[1][0].toFixed(3)+","+j[0][1].toFixed(3)+","+j[1][1].toFixed(3)+",0,0",f=C(f.x/k)+","+C(f.y/k),i.push('<g_vml_:skew on="t" matrix="',h,'" ',' offset="',f,'" origin="',g,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',n(o),'" style="v-text-align:',c,";font:",n(e),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",i.join(""))},a.fillText=function(a,c,d,e){this.drawText_(a,c,d,e,!1)},a.strokeText=function(a,c,d,e){this.drawText_(a,c,d,e,!0)},a.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var c=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(c.createTextNode(a)),{width:this.textMeasureEl_.offsetWidth}},a.clip=function(){},a.arcTo=function(){},a.createPattern=function(a,c){return new j(a,c)},f.prototype.addColorStop=function(c,a){a=w(a),this.colors_.push({offset:c,color:a.color,alpha:a.alpha})},(a=g.prototype=Error()).INDEX_SIZE_ERR=1,a.DOMSTRING_SIZE_ERR=2,a.HIERARCHY_REQUEST_ERR=3,a.WRONG_DOCUMENT_ERR=4,a.INVALID_CHARACTER_ERR=5,a.NO_DATA_ALLOWED_ERR=6,a.NO_MODIFICATION_ALLOWED_ERR=7,a.NOT_FOUND_ERR=8,a.NOT_SUPPORTED_ERR=9,a.INUSE_ATTRIBUTE_ERR=10,a.INVALID_STATE_ERR=11,a.SYNTAX_ERR=12,a.INVALID_MODIFICATION_ERR=13,a.NAMESPACE_ERR=14,a.INVALID_ACCESS_ERR=15,a.VALIDATION_ERR=16,a.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=h,CanvasRenderingContext2D=e,CanvasGradient=f,CanvasPattern=j,DOMException=g}()